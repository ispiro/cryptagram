var COMPILED=!0,goog=goog||{};goog.NODE_JS=!1;goog.global=goog.NODE_JS?eval("global"):this;goog.DEBUG=!0;goog.LOCALE="en";goog.provide=function(a){if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a];for(var c=a;(c=c.substring(0,c.lastIndexOf(".")))&&!goog.getObjectByName(c);)goog.implicitNamespaces_[c]=!0}goog.exportPath_(a)};
goog.setTestOnly=function(a){if(COMPILED&&!goog.DEBUG)throw a=a||"",Error("Importing test-only code into non-debug environment"+a?": "+a:".");};COMPILED||(goog.isProvided_=function(a){return!goog.implicitNamespaces_[a]&&!!goog.getObjectByName(a)},goog.implicitNamespaces_={});goog.isExistingGlobalVariable_=function(a){return"undefined"!==String(eval("typeof "+a))};
goog.exportPath_=function(a,c,d){a=a.split(".");d=d||goog.global;!(a[0]in d)&&d.execScript&&d.execScript("var "+a[0]);goog.NODE_JS&&d===goog.global&&goog.isExistingGlobalVariable_(a[0])&&(d=eval(a[0]),a.shift());for(var e;a.length&&(e=a.shift());)!a.length&&goog.isDef(c)?d[e]=c:d=d[e]?d[e]:d[e]={}};
goog.getObjectByName=function(a,c){var d=a.split("."),e=c||goog.global;goog.NODE_JS&&e===goog.global&&goog.isExistingGlobalVariable_(d[0])&&(e=eval(d[0]),d.shift());for(var f;f=d.shift();)if(goog.isDefAndNotNull(e[f]))e=e[f];else return null;return e};goog.globalize=function(a,c){var d=c||goog.global,e;for(e in a)d[e]=a[e]};
goog.addDependency=function(a,c,d){if(!COMPILED){for(var e,a=a.replace(/\\/g,"/"),f=goog.dependencies_,h=0;e=c[h];h++)f.nameToPath[e]=a,a in f.pathToNames||(f.pathToNames[a]={}),f.pathToNames[a][e]=!0;for(e=0;c=d[e];e++)a in f.requires||(f.requires[a]={}),f.requires[a][c]=!0}};goog.ENABLE_DEBUG_LOADER=!0;
goog.require=function(a){if(!COMPILED&&!goog.isProvided_(a)){if(goog.ENABLE_DEBUG_LOADER){var c=goog.getPathFromDeps_(a);if(c){goog.included_[c]=!0;goog.writeScripts_();return}}a="goog.require could not find: "+a;goog.global.console&&goog.global.console.error(a);throw Error(a);}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(a){return a};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};
goog.addSingletonGetter=function(a){a.getInstance=function(){if(a.instance_)return a.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);return a.instance_=new a}};goog.instantiatedSingletons_=[];
!COMPILED&&goog.ENABLE_DEBUG_LOADER&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var a=goog.global.document;return"undefined"!=typeof a&&"write"in a},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var a=goog.global.document.getElementsByTagName("script"),c=a.length-1;0<=c;--c){var d=a[c].src,e=d.lastIndexOf("?"),e=
-1==e?d.length:e;if("base.js"==d.substr(e-7,7)){goog.basePath=d.substr(0,e-7);break}}},goog.importScript_=function(a){var c=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[a]&&c(a)&&(goog.dependencies_.written[a]=!0)},goog.writeScriptTag_=function(a){return goog.inHtmlDocument_()?(goog.global.document.write('<script type="text/javascript" src="'+a+'"><\/script>'),!0):!1},goog.writeScripts_=function(){function a(f){if(!(f in e.written)){if(!(f in e.visited)&&(e.visited[f]=
!0,f in e.requires))for(var k in e.requires[f])if(!goog.isProvided_(k))if(k in e.nameToPath)a(e.nameToPath[k]);else throw Error("Undefined nameToPath for "+k);f in d||(d[f]=!0,c.push(f))}}var c=[],d={},e=goog.dependencies_,f;for(f in goog.included_)e.written[f]||a(f);for(f=0;f<c.length;f++)if(c[f])goog.importScript_(goog.basePath+c[f]);else throw Error("Undefined script input");},goog.getPathFromDeps_=function(a){return a in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[a]:null},goog.findBasePath_(),
goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js"));
goog.typeOf=function(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==c&&"undefined"==typeof a.call)return"object";return c};goog.isDef=function(a){return void 0!==a};goog.isNull=function(a){return null===a};goog.isDefAndNotNull=function(a){return null!=a};goog.isArray=function(a){return"array"==goog.typeOf(a)};goog.isArrayLike=function(a){var c=goog.typeOf(a);return"array"==c||"object"==c&&"number"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear};goog.isString=function(a){return"string"==typeof a};
goog.isBoolean=function(a){return"boolean"==typeof a};goog.isNumber=function(a){return"number"==typeof a};goog.isFunction=function(a){return"function"==goog.typeOf(a)};goog.isObject=function(a){var c=typeof a;return"object"==c&&null!=a||"function"==c};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.removeUid=function(a){"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(c){}};
goog.UID_PROPERTY_="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var c=goog.typeOf(a);if("object"==c||"array"==c){if(a.clone)return a.clone();var c="array"==c?[]:{},d;for(d in a)c[d]=goog.cloneObject(a[d]);return c}return a};goog.bindNative_=function(a,c,d){return a.call.apply(a.bind,arguments)};
goog.bindJs_=function(a,c,d){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return a.apply(c,d)}}return function(){return a.apply(c,arguments)}};goog.bind=function(a,c,d){goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(a,c){var d=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,d);return a.apply(this,c)}};goog.mixin=function(a,c){for(var d in c)a[d]=c[d]};goog.now=Date.now||function(){return+new Date};
goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else if(goog.global.eval)if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(a);else{var c=goog.global.document,d=c.createElement("script");d.type="text/javascript";d.defer=!1;d.appendChild(c.createTextNode(a));c.body.appendChild(d);
c.body.removeChild(d)}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(a,c){var d=function(a){return goog.cssNameMapping_[a]||a},e=function(a){for(var a=a.split("-"),c=[],e=0;e<a.length;e++)c.push(d(a[e]));return c.join("-")},e=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?d:e:function(a){return a};return c?a+"-"+e(c):e(a)};goog.setCssNameMapping=function(a,c){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=c};
!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(a,c){var d=c||{},e;for(e in d)var f=(""+d[e]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+e+"\\}","gi"),f);return a};goog.exportSymbol=function(a,c,d){goog.exportPath_(a,c,d)};goog.exportProperty=function(a,c,d){a[c]=d};goog.inherits=function(a,c){function d(){}d.prototype=c.prototype;a.superClass_=c.prototype;a.prototype=new d;a.prototype.constructor=a};
goog.base=function(a,c,d){var e=arguments.callee.caller;if(e.superClass_)return e.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),h=!1,k=a.constructor;k;k=k.superClass_&&k.superClass_.constructor)if(k.prototype[c]===e)h=!0;else if(h)return k.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("goog.base called from a method of one name to a method of a different name");};
goog.scope=function(a){a.call(goog.global)};goog.debug={};goog.debug.Error=function(a){Error.captureStackTrace?Error.captureStackTrace(this,goog.debug.Error):this.stack=Error().stack||"";a&&(this.message=String(a))};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.string={};goog.string.Unicode={NBSP:"\u00a0"};goog.string.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};goog.string.endsWith=function(a,c){var d=a.length-c.length;return 0<=d&&a.indexOf(c,d)==d};goog.string.caseInsensitiveStartsWith=function(a,c){return 0==goog.string.caseInsensitiveCompare(c,a.substr(0,c.length))};goog.string.caseInsensitiveEndsWith=function(a,c){return 0==goog.string.caseInsensitiveCompare(c,a.substr(a.length-c.length,c.length))};
goog.string.subs=function(a,c){for(var d=1;d<arguments.length;d++)var e=String(arguments[d]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,e);return a};goog.string.collapseWhitespace=function(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmpty=function(a){return/^[\s\xa0]*$/.test(a)};goog.string.isEmptySafe=function(a){return goog.string.isEmpty(goog.string.makeSafe(a))};goog.string.isBreakingWhitespace=function(a){return!/[^\t\n\r ]/.test(a)};goog.string.isAlpha=function(a){return!/[^a-zA-Z]/.test(a)};
goog.string.isNumeric=function(a){return!/[^0-9]/.test(a)};goog.string.isAlphaNumeric=function(a){return!/[^a-zA-Z0-9]/.test(a)};goog.string.isSpace=function(a){return" "==a};goog.string.isUnicodeChar=function(a){return 1==a.length&&" "<=a&&"~">=a||"\u0080"<=a&&"\ufffd">=a};goog.string.stripNewlines=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")};goog.string.canonicalizeNewlines=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")};
goog.string.normalizeWhitespace=function(a){return a.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(a){return a.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};goog.string.trimLeft=function(a){return a.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(a){return a.replace(/[\s\xa0]+$/,"")};
goog.string.caseInsensitiveCompare=function(a,c){var d=String(a).toLowerCase(),e=String(c).toLowerCase();return d<e?-1:d==e?0:1};goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g;
goog.string.numerateCompare=function(a,c){if(a==c)return 0;if(!a)return-1;if(!c)return 1;for(var d=a.toLowerCase().match(goog.string.numerateCompareRegExp_),e=c.toLowerCase().match(goog.string.numerateCompareRegExp_),f=Math.min(d.length,e.length),h=0;h<f;h++){var k=d[h],l=e[h];if(k!=l)return d=parseInt(k,10),!isNaN(d)&&(e=parseInt(l,10),!isNaN(e)&&d-e)?d-e:k<l?-1:1}return d.length!=e.length?d.length-e.length:a<c?-1:1};goog.string.urlEncode=function(a){return encodeURIComponent(String(a))};
goog.string.urlDecode=function(a){return decodeURIComponent(a.replace(/\+/g," "))};goog.string.newLineToBr=function(a,c){return a.replace(/(\r\n|\r|\n)/g,c?"<br />":"<br>")};
goog.string.htmlEscape=function(a,c){if(c)return a.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;");if(!goog.string.allRe_.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(goog.string.amperRe_,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(goog.string.ltRe_,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(goog.string.gtRe_,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(goog.string.quotRe_,"&quot;"));return a};
goog.string.amperRe_=/&/g;goog.string.ltRe_=/</g;goog.string.gtRe_=/>/g;goog.string.quotRe_=/\"/g;goog.string.allRe_=/[&<>\"]/;goog.string.unescapeEntities=function(a){return goog.string.contains(a,"&")?"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(a):goog.string.unescapePureXmlEntities_(a):a};
goog.string.unescapeEntitiesUsingDom_=function(a){var c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},d=document.createElement("div");return a.replace(goog.string.HTML_ENTITY_PATTERN_,function(a,f){var h=c[a];if(h)return h;if("#"==f.charAt(0)){var k=Number("0"+f.substr(1));isNaN(k)||(h=String.fromCharCode(k))}h||(d.innerHTML=a+" ",h=d.firstChild.nodeValue.slice(0,-1));return c[a]=h})};
goog.string.unescapePureXmlEntities_=function(a){return a.replace(/&([^;]+);/g,function(a,d){switch(d){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==d.charAt(0)){var e=Number("0"+d.substr(1));if(!isNaN(e))return String.fromCharCode(e)}return a}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(a,c){return goog.string.newLineToBr(a.replace(/  /g," &#160;"),c)};
goog.string.stripQuotes=function(a,c){for(var d=c.length,e=0;e<d;e++){var f=1==d?c:c.charAt(e);if(a.charAt(0)==f&&a.charAt(a.length-1)==f)return a.substring(1,a.length-1)}return a};goog.string.truncate=function(a,c,d){d&&(a=goog.string.unescapeEntities(a));a.length>c&&(a=a.substring(0,c-3)+"...");d&&(a=goog.string.htmlEscape(a));return a};
goog.string.truncateMiddle=function(a,c,d,e){d&&(a=goog.string.unescapeEntities(a));if(e&&a.length>c){e>c&&(e=c);var f=a.length-e,a=a.substring(0,c-e)+"..."+a.substring(f)}else a.length>c&&(e=Math.floor(c/2),f=a.length-e,a=a.substring(0,e+c%2)+"..."+a.substring(f));d&&(a=goog.string.htmlEscape(a));return a};goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"};goog.string.jsEscapeCache_={"'":"\\'"};
goog.string.quote=function(a){a=String(a);if(a.quote)return a.quote();for(var c=['"'],d=0;d<a.length;d++){var e=a.charAt(d),f=e.charCodeAt(0);c[d+1]=goog.string.specialEscapeChars_[e]||(31<f&&127>f?e:goog.string.escapeChar(e))}c.push('"');return c.join("")};goog.string.escapeString=function(a){for(var c=[],d=0;d<a.length;d++)c[d]=goog.string.escapeChar(a.charAt(d));return c.join("")};
goog.string.escapeChar=function(a){if(a in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[a];if(a in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[a]=goog.string.specialEscapeChars_[a];var c=a,d=a.charCodeAt(0);if(31<d&&127>d)c=a;else{if(256>d){if(c="\\x",16>d||256<d)c+="0"}else c="\\u",4096>d&&(c+="0");c+=d.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[a]=c};goog.string.toMap=function(a){for(var c={},d=0;d<a.length;d++)c[a.charAt(d)]=!0;return c};
goog.string.contains=function(a,c){return-1!=a.indexOf(c)};goog.string.countOf=function(a,c){return a&&c?a.split(c).length-1:0};goog.string.removeAt=function(a,c,d){var e=a;0<=c&&(c<a.length&&0<d)&&(e=a.substr(0,c)+a.substr(c+d,a.length-c-d));return e};goog.string.remove=function(a,c){var d=RegExp(goog.string.regExpEscape(c),"");return a.replace(d,"")};goog.string.removeAll=function(a,c){var d=RegExp(goog.string.regExpEscape(c),"g");return a.replace(d,"")};
goog.string.regExpEscape=function(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=function(a,c){return Array(c+1).join(a)};goog.string.padNumber=function(a,c,d){a=goog.isDef(d)?a.toFixed(d):String(a);d=a.indexOf(".");-1==d&&(d=a.length);return goog.string.repeat("0",Math.max(0,c-d))+a};goog.string.makeSafe=function(a){return null==a?"":String(a)};goog.string.buildString=function(a){return Array.prototype.join.call(arguments,"")};
goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)};
goog.string.compareVersions=function(a,c){for(var d=0,e=goog.string.trim(String(a)).split("."),f=goog.string.trim(String(c)).split("."),h=Math.max(e.length,f.length),k=0;0==d&&k<h;k++){var l=e[k]||"",m=f[k]||"",n=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var q=n.exec(l)||["","",""],u=p.exec(m)||["","",""];if(0==q[0].length&&0==u[0].length)break;var d=0==q[1].length?0:parseInt(q[1],10),G=0==u[1].length?0:parseInt(u[1],10),d=goog.string.compareElements_(d,G)||goog.string.compareElements_(0==
q[2].length,0==u[2].length)||goog.string.compareElements_(q[2],u[2])}while(0==d)}return d};goog.string.compareElements_=function(a,c){return a<c?-1:a>c?1:0};goog.string.HASHCODE_MAX_=4294967296;goog.string.hashCode=function(a){for(var c=0,d=0;d<a.length;++d)c=31*c+a.charCodeAt(d),c%=goog.string.HASHCODE_MAX_;return c};goog.string.uniqueStringCounter_=2147483648*Math.random()|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};
goog.string.toNumber=function(a){var c=Number(a);return 0==c&&goog.string.isEmpty(a)?NaN:c};goog.string.toCamelCase=function(a){return String(a).replace(/\-([a-z])/g,function(a,d){return d.toUpperCase()})};goog.string.toSelectorCase=function(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()};goog.string.toTitleCase=function(a,c){var d=goog.isString(c)?goog.string.regExpEscape(c):"\\s";return a.replace(RegExp("(^"+(d?"|["+d+"]+":"")+")([a-z])","g"),function(a,c,d){return c+d.toUpperCase()})};
goog.string.parseInt=function(a){isFinite(a)&&(a=String(a));return goog.isString(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(a,c){c.unshift(a);goog.debug.Error.call(this,goog.string.subs.apply(null,c));c.shift();this.messagePattern=a};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.doAssertFailure_=function(a,c,d,e){var f="Assertion failed";if(d)var f=f+(": "+d),h=e;else a&&(f+=": "+a,h=c);throw new goog.asserts.AssertionError(""+f,h||[]);};
goog.asserts.assert=function(a,c,d){goog.asserts.ENABLE_ASSERTS&&!a&&goog.asserts.doAssertFailure_("",null,c,Array.prototype.slice.call(arguments,2));return a};goog.asserts.fail=function(a,c){if(goog.asserts.ENABLE_ASSERTS)throw new goog.asserts.AssertionError("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};
goog.asserts.assertNumber=function(a,c,d){goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(a)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(a),a],c,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertString=function(a,c,d){goog.asserts.ENABLE_ASSERTS&&!goog.isString(a)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(a),a],c,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertFunction=function(a,c,d){goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(a)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(a),a],c,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertObject=function(a,c,d){goog.asserts.ENABLE_ASSERTS&&!goog.isObject(a)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(a),a],c,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertArray=function(a,c,d){goog.asserts.ENABLE_ASSERTS&&!goog.isArray(a)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(a),a],c,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertBoolean=function(a,c,d){goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(a)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(a),a],c,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertInstanceof=function(a,c,d,e){goog.asserts.ENABLE_ASSERTS&&!(a instanceof c)&&goog.asserts.doAssertFailure_("instanceof check failed.",null,d,Array.prototype.slice.call(arguments,3));return a};goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=!0;goog.array.peek=function(a){return a[a.length-1]};goog.array.ARRAY_PROTOTYPE_=Array.prototype;
goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.indexOf?function(a,c,d){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.indexOf.call(a,c,d)}:function(a,c,d){d=null==d?0:0>d?Math.max(0,a.length+d):d;if(goog.isString(a))return!goog.isString(c)||1!=c.length?-1:a.indexOf(c,d);for(;d<a.length;d++)if(d in a&&a[d]===c)return d;return-1};
goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.lastIndexOf?function(a,c,d){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(a,c,null==d?a.length-1:d)}:function(a,c,d){d=null==d?a.length-1:d;0>d&&(d=Math.max(0,a.length+d));if(goog.isString(a))return!goog.isString(c)||1!=c.length?-1:a.lastIndexOf(c,d);for(;0<=d;d--)if(d in a&&a[d]===c)return d;return-1};
goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.forEach?function(a,c,d){goog.asserts.assert(null!=a.length);goog.array.ARRAY_PROTOTYPE_.forEach.call(a,c,d)}:function(a,c,d){for(var e=a.length,f=goog.isString(a)?a.split(""):a,h=0;h<e;h++)h in f&&c.call(d,f[h],h,a)};goog.array.forEachRight=function(a,c,d){for(var e=a.length,f=goog.isString(a)?a.split(""):a,e=e-1;0<=e;--e)e in f&&c.call(d,f[e],e,a)};
goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.filter?function(a,c,d){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.filter.call(a,c,d)}:function(a,c,d){for(var e=a.length,f=[],h=0,k=goog.isString(a)?a.split(""):a,l=0;l<e;l++)if(l in k){var m=k[l];c.call(d,m,l,a)&&(f[h++]=m)}return f};
goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.map?function(a,c,d){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.map.call(a,c,d)}:function(a,c,d){for(var e=a.length,f=Array(e),h=goog.isString(a)?a.split(""):a,k=0;k<e;k++)k in h&&(f[k]=c.call(d,h[k],k,a));return f};goog.array.reduce=function(a,c,d,e){if(a.reduce)return e?a.reduce(goog.bind(c,e),d):a.reduce(c,d);var f=d;goog.array.forEach(a,function(d,k){f=c.call(e,f,d,k,a)});return f};
goog.array.reduceRight=function(a,c,d,e){if(a.reduceRight)return e?a.reduceRight(goog.bind(c,e),d):a.reduceRight(c,d);var f=d;goog.array.forEachRight(a,function(d,k){f=c.call(e,f,d,k,a)});return f};
goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.some?function(a,c,d){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.some.call(a,c,d)}:function(a,c,d){for(var e=a.length,f=goog.isString(a)?a.split(""):a,h=0;h<e;h++)if(h in f&&c.call(d,f[h],h,a))return!0;return!1};
goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.every?function(a,c,d){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.every.call(a,c,d)}:function(a,c,d){for(var e=a.length,f=goog.isString(a)?a.split(""):a,h=0;h<e;h++)if(h in f&&!c.call(d,f[h],h,a))return!1;return!0};goog.array.find=function(a,c,d){c=goog.array.findIndex(a,c,d);return 0>c?null:goog.isString(a)?a.charAt(c):a[c]};
goog.array.findIndex=function(a,c,d){for(var e=a.length,f=goog.isString(a)?a.split(""):a,h=0;h<e;h++)if(h in f&&c.call(d,f[h],h,a))return h;return-1};goog.array.findRight=function(a,c,d){c=goog.array.findIndexRight(a,c,d);return 0>c?null:goog.isString(a)?a.charAt(c):a[c]};goog.array.findIndexRight=function(a,c,d){for(var e=a.length,f=goog.isString(a)?a.split(""):a,e=e-1;0<=e;e--)if(e in f&&c.call(d,f[e],e,a))return e;return-1};goog.array.contains=function(a,c){return 0<=goog.array.indexOf(a,c)};
goog.array.isEmpty=function(a){return 0==a.length};goog.array.clear=function(a){if(!goog.isArray(a))for(var c=a.length-1;0<=c;c--)delete a[c];a.length=0};goog.array.insert=function(a,c){goog.array.contains(a,c)||a.push(c)};goog.array.insertAt=function(a,c,d){goog.array.splice(a,d,0,c)};goog.array.insertArrayAt=function(a,c,d){goog.partial(goog.array.splice,a,d,0).apply(null,c)};
goog.array.insertBefore=function(a,c,d){var e;2==arguments.length||0>(e=goog.array.indexOf(a,d))?a.push(c):goog.array.insertAt(a,c,e)};goog.array.remove=function(a,c){var d=goog.array.indexOf(a,c),e;(e=0<=d)&&goog.array.removeAt(a,d);return e};goog.array.removeAt=function(a,c){goog.asserts.assert(null!=a.length);return 1==goog.array.ARRAY_PROTOTYPE_.splice.call(a,c,1).length};goog.array.removeIf=function(a,c,d){c=goog.array.findIndex(a,c,d);return 0<=c?(goog.array.removeAt(a,c),!0):!1};
goog.array.concat=function(a){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};goog.array.toArray=function(a){var c=a.length;if(0<c){for(var d=Array(c),e=0;e<c;e++)d[e]=a[e];return d}return[]};goog.array.clone=goog.array.toArray;
goog.array.extend=function(a,c){for(var d=1;d<arguments.length;d++){var e=arguments[d],f;if(goog.isArray(e)||(f=goog.isArrayLike(e))&&e.hasOwnProperty("callee"))a.push.apply(a,e);else if(f)for(var h=a.length,k=e.length,l=0;l<k;l++)a[h+l]=e[l];else a.push(e)}};goog.array.splice=function(a,c,d,e){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.splice.apply(a,goog.array.slice(arguments,1))};
goog.array.slice=function(a,c,d){goog.asserts.assert(null!=a.length);return 2>=arguments.length?goog.array.ARRAY_PROTOTYPE_.slice.call(a,c):goog.array.ARRAY_PROTOTYPE_.slice.call(a,c,d)};goog.array.removeDuplicates=function(a,c){for(var d=c||a,e={},f=0,h=0;h<a.length;){var k=a[h++],l=goog.isObject(k)?"o"+goog.getUid(k):(typeof k).charAt(0)+k;Object.prototype.hasOwnProperty.call(e,l)||(e[l]=!0,d[f++]=k)}d.length=f};
goog.array.binarySearch=function(a,c,d){return goog.array.binarySearch_(a,d||goog.array.defaultCompare,!1,c)};goog.array.binarySelect=function(a,c,d){return goog.array.binarySearch_(a,c,!0,void 0,d)};goog.array.binarySearch_=function(a,c,d,e,f){for(var h=0,k=a.length,l;h<k;){var m=h+k>>1,n;n=d?c.call(f,a[m],m,a):c(e,a[m]);0<n?h=m+1:(k=m,l=!n)}return l?h:~h};goog.array.sort=function(a,c){goog.asserts.assert(null!=a.length);goog.array.ARRAY_PROTOTYPE_.sort.call(a,c||goog.array.defaultCompare)};
goog.array.stableSort=function(a,c){for(var d=0;d<a.length;d++)a[d]={index:d,value:a[d]};var e=c||goog.array.defaultCompare;goog.array.sort(a,function(a,c){return e(a.value,c.value)||a.index-c.index});for(d=0;d<a.length;d++)a[d]=a[d].value};goog.array.sortObjectsByKey=function(a,c,d){var e=d||goog.array.defaultCompare;goog.array.sort(a,function(a,d){return e(a[c],d[c])})};
goog.array.isSorted=function(a,c,d){for(var c=c||goog.array.defaultCompare,e=1;e<a.length;e++){var f=c(a[e-1],a[e]);if(0<f||0==f&&d)return!1}return!0};goog.array.equals=function(a,c,d){if(!goog.isArrayLike(a)||!goog.isArrayLike(c)||a.length!=c.length)return!1;for(var e=a.length,d=d||goog.array.defaultCompareEquality,f=0;f<e;f++)if(!d(a[f],c[f]))return!1;return!0};goog.array.compare=function(a,c,d){return goog.array.equals(a,c,d)};
goog.array.compare3=function(a,c,d){for(var d=d||goog.array.defaultCompare,e=Math.min(a.length,c.length),f=0;f<e;f++){var h=d(a[f],c[f]);if(0!=h)return h}return goog.array.defaultCompare(a.length,c.length)};goog.array.defaultCompare=function(a,c){return a>c?1:a<c?-1:0};goog.array.defaultCompareEquality=function(a,c){return a===c};goog.array.binaryInsert=function(a,c,d){d=goog.array.binarySearch(a,c,d);return 0>d?(goog.array.insertAt(a,c,-(d+1)),!0):!1};
goog.array.binaryRemove=function(a,c,d){c=goog.array.binarySearch(a,c,d);return 0<=c?goog.array.removeAt(a,c):!1};goog.array.bucket=function(a,c){for(var d={},e=0;e<a.length;e++){var f=a[e],h=c(f,e,a);goog.isDef(h)&&(d[h]||(d[h]=[])).push(f)}return d};goog.array.toObject=function(a,c,d){var e={};goog.array.forEach(a,function(f,h){e[c.call(d,f,h,a)]=f});return e};goog.array.repeat=function(a,c){for(var d=[],e=0;e<c;e++)d[e]=a;return d};
goog.array.flatten=function(a){for(var c=[],d=0;d<arguments.length;d++){var e=arguments[d];goog.isArray(e)?c.push.apply(c,goog.array.flatten.apply(null,e)):c.push(e)}return c};goog.array.rotate=function(a,c){goog.asserts.assert(null!=a.length);a.length&&(c%=a.length,0<c?goog.array.ARRAY_PROTOTYPE_.unshift.apply(a,a.splice(-c,c)):0>c&&goog.array.ARRAY_PROTOTYPE_.push.apply(a,a.splice(0,-c)));return a};
goog.array.zip=function(a){if(!arguments.length)return[];for(var c=[],d=0;;d++){for(var e=[],f=0;f<arguments.length;f++){var h=arguments[f];if(d>=h.length)return c;e.push(h[d])}c.push(e)}};goog.array.shuffle=function(a,c){for(var d=c||Math.random,e=a.length-1;0<e;e--){var f=Math.floor(d()*(e+1)),h=a[e];a[e]=a[f];a[f]=h}};goog.object={};goog.object.forEach=function(a,c,d){for(var e in a)c.call(d,a[e],e,a)};goog.object.filter=function(a,c,d){var e={},f;for(f in a)c.call(d,a[f],f,a)&&(e[f]=a[f]);return e};goog.object.map=function(a,c,d){var e={},f;for(f in a)e[f]=c.call(d,a[f],f,a);return e};goog.object.some=function(a,c,d){for(var e in a)if(c.call(d,a[e],e,a))return!0;return!1};goog.object.every=function(a,c,d){for(var e in a)if(!c.call(d,a[e],e,a))return!1;return!0};
goog.object.getCount=function(a){var c=0,d;for(d in a)c++;return c};goog.object.getAnyKey=function(a){for(var c in a)return c};goog.object.getAnyValue=function(a){for(var c in a)return a[c]};goog.object.contains=function(a,c){return goog.object.containsValue(a,c)};goog.object.getValues=function(a){var c=[],d=0,e;for(e in a)c[d++]=a[e];return c};goog.object.getKeys=function(a){var c=[],d=0,e;for(e in a)c[d++]=e;return c};
goog.object.getValueByKeys=function(a,c){for(var d=goog.isArrayLike(c),e=d?c:arguments,d=d?0:1;d<e.length&&!(a=a[e[d]],!goog.isDef(a));d++);return a};goog.object.containsKey=function(a,c){return c in a};goog.object.containsValue=function(a,c){for(var d in a)if(a[d]==c)return!0;return!1};goog.object.findKey=function(a,c,d){for(var e in a)if(c.call(d,a[e],e,a))return e};goog.object.findValue=function(a,c,d){return(c=goog.object.findKey(a,c,d))&&a[c]};
goog.object.isEmpty=function(a){for(var c in a)return!1;return!0};goog.object.clear=function(a){for(var c in a)delete a[c]};goog.object.remove=function(a,c){var d;(d=c in a)&&delete a[c];return d};goog.object.add=function(a,c,d){if(c in a)throw Error('The object already contains the key "'+c+'"');goog.object.set(a,c,d)};goog.object.get=function(a,c,d){return c in a?a[c]:d};goog.object.set=function(a,c,d){a[c]=d};goog.object.setIfUndefined=function(a,c,d){return c in a?a[c]:a[c]=d};
goog.object.clone=function(a){var c={},d;for(d in a)c[d]=a[d];return c};goog.object.unsafeClone=function(a){var c=goog.typeOf(a);if("object"==c||"array"==c){if(a.clone)return a.clone();var c="array"==c?[]:{},d;for(d in a)c[d]=goog.object.unsafeClone(a[d]);return c}return a};goog.object.transpose=function(a){var c={},d;for(d in a)c[a[d]]=d;return c};goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.object.extend=function(a,c){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)a[d]=e[d];for(var h=0;h<goog.object.PROTOTYPE_FIELDS_.length;h++)d=goog.object.PROTOTYPE_FIELDS_[h],Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=e[d])}};
goog.object.create=function(a){var c=arguments.length;if(1==c&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(c%2)throw Error("Uneven number of arguments");for(var d={},e=0;e<c;e+=2)d[arguments[e]]=arguments[e+1];return d};goog.object.createSet=function(a){var c=arguments.length;if(1==c&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var d={},e=0;e<c;e++)d[arguments[e]]=!0;return d};
goog.object.createImmutableView=function(a){var c=a;Object.isFrozen&&!Object.isFrozen(a)&&(c=Object.create(a),Object.freeze(c));return c};goog.object.isImmutableView=function(a){return!!Object.isFrozen&&Object.isFrozen(a)};goog.structs={};goog.structs.getCount=function(a){return"function"==typeof a.getCount?a.getCount():goog.isArrayLike(a)||goog.isString(a)?a.length:goog.object.getCount(a)};goog.structs.getValues=function(a){if("function"==typeof a.getValues)return a.getValues();if(goog.isString(a))return a.split("");if(goog.isArrayLike(a)){for(var c=[],d=a.length,e=0;e<d;e++)c.push(a[e]);return c}return goog.object.getValues(a)};
goog.structs.getKeys=function(a){if("function"==typeof a.getKeys)return a.getKeys();if("function"!=typeof a.getValues){if(goog.isArrayLike(a)||goog.isString(a)){for(var c=[],a=a.length,d=0;d<a;d++)c.push(d);return c}return goog.object.getKeys(a)}};goog.structs.contains=function(a,c){return"function"==typeof a.contains?a.contains(c):"function"==typeof a.containsValue?a.containsValue(c):goog.isArrayLike(a)||goog.isString(a)?goog.array.contains(a,c):goog.object.containsValue(a,c)};
goog.structs.isEmpty=function(a){return"function"==typeof a.isEmpty?a.isEmpty():goog.isArrayLike(a)||goog.isString(a)?goog.array.isEmpty(a):goog.object.isEmpty(a)};goog.structs.clear=function(a){"function"==typeof a.clear?a.clear():goog.isArrayLike(a)?goog.array.clear(a):goog.object.clear(a)};
goog.structs.forEach=function(a,c,d){if("function"==typeof a.forEach)a.forEach(c,d);else if(goog.isArrayLike(a)||goog.isString(a))goog.array.forEach(a,c,d);else for(var e=goog.structs.getKeys(a),f=goog.structs.getValues(a),h=f.length,k=0;k<h;k++)c.call(d,f[k],e&&e[k],a)};
goog.structs.filter=function(a,c,d){if("function"==typeof a.filter)return a.filter(c,d);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.filter(a,c,d);var e,f=goog.structs.getKeys(a),h=goog.structs.getValues(a),k=h.length;if(f){e={};for(var l=0;l<k;l++)c.call(d,h[l],f[l],a)&&(e[f[l]]=h[l])}else{e=[];for(l=0;l<k;l++)c.call(d,h[l],void 0,a)&&e.push(h[l])}return e};
goog.structs.map=function(a,c,d){if("function"==typeof a.map)return a.map(c,d);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.map(a,c,d);var e,f=goog.structs.getKeys(a),h=goog.structs.getValues(a),k=h.length;if(f){e={};for(var l=0;l<k;l++)e[f[l]]=c.call(d,h[l],f[l],a)}else{e=[];for(l=0;l<k;l++)e[l]=c.call(d,h[l],void 0,a)}return e};
goog.structs.some=function(a,c,d){if("function"==typeof a.some)return a.some(c,d);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.some(a,c,d);for(var e=goog.structs.getKeys(a),f=goog.structs.getValues(a),h=f.length,k=0;k<h;k++)if(c.call(d,f[k],e&&e[k],a))return!0;return!1};
goog.structs.every=function(a,c,d){if("function"==typeof a.every)return a.every(c,d);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.every(a,c,d);for(var e=goog.structs.getKeys(a),f=goog.structs.getValues(a),h=f.length,k=0;k<h;k++)if(!c.call(d,f[k],e&&e[k],a))return!1;return!0};goog.structs.Collection=function(){};goog.iter={};goog.iter.StopIteration="StopIteration"in goog.global?goog.global.StopIteration:Error("StopIteration");goog.iter.Iterator=function(){};goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration;};goog.iter.Iterator.prototype.__iterator__=function(){return this};
goog.iter.toIterator=function(a){if(a instanceof goog.iter.Iterator)return a;if("function"==typeof a.__iterator__)return a.__iterator__(!1);if(goog.isArrayLike(a)){var c=0,d=new goog.iter.Iterator;d.next=function(){for(;;){if(c>=a.length)throw goog.iter.StopIteration;if(c in a)return a[c++];c++}};return d}throw Error("Not implemented");};
goog.iter.forEach=function(a,c,d){if(goog.isArrayLike(a))try{goog.array.forEach(a,c,d)}catch(e){if(e!==goog.iter.StopIteration)throw e;}else{a=goog.iter.toIterator(a);try{for(;;)c.call(d,a.next(),void 0,a)}catch(f){if(f!==goog.iter.StopIteration)throw f;}}};goog.iter.filter=function(a,c,d){var e=goog.iter.toIterator(a),a=new goog.iter.Iterator;a.next=function(){for(;;){var a=e.next();if(c.call(d,a,void 0,e))return a}};return a};
goog.iter.range=function(a,c,d){var e=0,f=a,h=d||1;1<arguments.length&&(e=a,f=c);if(0==h)throw Error("Range step argument must not be zero");var k=new goog.iter.Iterator;k.next=function(){if(0<h&&e>=f||0>h&&e<=f)throw goog.iter.StopIteration;var a=e;e+=h;return a};return k};goog.iter.join=function(a,c){return goog.iter.toArray(a).join(c)};goog.iter.map=function(a,c,d){var e=goog.iter.toIterator(a),a=new goog.iter.Iterator;a.next=function(){for(;;){var a=e.next();return c.call(d,a,void 0,e)}};return a};
goog.iter.reduce=function(a,c,d,e){var f=d;goog.iter.forEach(a,function(a){f=c.call(e,f,a)});return f};goog.iter.some=function(a,c,d){a=goog.iter.toIterator(a);try{for(;;)if(c.call(d,a.next(),void 0,a))return!0}catch(e){if(e!==goog.iter.StopIteration)throw e;}return!1};goog.iter.every=function(a,c,d){a=goog.iter.toIterator(a);try{for(;;)if(!c.call(d,a.next(),void 0,a))return!1}catch(e){if(e!==goog.iter.StopIteration)throw e;}return!0};
goog.iter.chain=function(a){var c=arguments,d=c.length,e=0,f=new goog.iter.Iterator;f.next=function(){try{if(e>=d)throw goog.iter.StopIteration;return goog.iter.toIterator(c[e]).next()}catch(a){if(a!==goog.iter.StopIteration||e>=d)throw a;e++;return this.next()}};return f};goog.iter.dropWhile=function(a,c,d){var e=goog.iter.toIterator(a),a=new goog.iter.Iterator,f=!0;a.next=function(){for(;;){var a=e.next();if(!f||!c.call(d,a,void 0,e))return f=!1,a}};return a};
goog.iter.takeWhile=function(a,c,d){var e=goog.iter.toIterator(a),a=new goog.iter.Iterator,f=!0;a.next=function(){for(;;)if(f){var a=e.next();if(c.call(d,a,void 0,e))return a;f=!1}else throw goog.iter.StopIteration;};return a};goog.iter.toArray=function(a){if(goog.isArrayLike(a))return goog.array.toArray(a);var a=goog.iter.toIterator(a),c=[];goog.iter.forEach(a,function(a){c.push(a)});return c};
goog.iter.equals=function(a,c){var a=goog.iter.toIterator(a),c=goog.iter.toIterator(c),d,e;try{for(;;){d=e=!1;var f=a.next();d=!0;var h=c.next();e=!0;if(f!=h)break}}catch(k){if(k!==goog.iter.StopIteration)throw k;if(d&&!e)return!1;if(!e)try{c.next()}catch(l){if(l!==goog.iter.StopIteration)throw l;return!0}}return!1};goog.iter.nextOrValue=function(a,c){try{return goog.iter.toIterator(a).next()}catch(d){if(d!=goog.iter.StopIteration)throw d;return c}};
goog.iter.product=function(a){if(goog.array.some(arguments,function(a){return!a.length})||!arguments.length)return new goog.iter.Iterator;var c=new goog.iter.Iterator,d=arguments,e=goog.array.repeat(0,d.length);c.next=function(){if(e){for(var a=goog.array.map(e,function(a,c){return d[c][a]}),c=e.length-1;0<=c;c--){goog.asserts.assert(e);if(e[c]<d[c].length-1){e[c]++;break}if(0==c){e=null;break}e[c]=0}return a}throw goog.iter.StopIteration;};return c};
goog.iter.cycle=function(a){var c=goog.iter.toIterator(a),d=[],e=0,a=new goog.iter.Iterator,f=!1;a.next=function(){var a=null;if(!f)try{return a=c.next(),d.push(a),a}catch(k){if(k!=goog.iter.StopIteration||goog.array.isEmpty(d))throw k;f=!0}a=d[e];e=(e+1)%d.length;return a};return a};goog.structs.Map=function(a,c){this.map_={};this.keys_=[];var d=arguments.length;if(1<d){if(d%2)throw Error("Uneven number of arguments");for(var e=0;e<d;e+=2)this.set(arguments[e],arguments[e+1])}else a&&this.addAll(a)};goog.structs.Map.prototype.count_=0;goog.structs.Map.prototype.version_=0;goog.structs.Map.prototype.getCount=function(){return this.count_};
goog.structs.Map.prototype.getValues=function(){this.cleanupKeysArray_();for(var a=[],c=0;c<this.keys_.length;c++)a.push(this.map_[this.keys_[c]]);return a};goog.structs.Map.prototype.getKeys=function(){this.cleanupKeysArray_();return this.keys_.concat()};goog.structs.Map.prototype.containsKey=function(a){return goog.structs.Map.hasKey_(this.map_,a)};
goog.structs.Map.prototype.containsValue=function(a){for(var c=0;c<this.keys_.length;c++){var d=this.keys_[c];if(goog.structs.Map.hasKey_(this.map_,d)&&this.map_[d]==a)return!0}return!1};goog.structs.Map.prototype.equals=function(a,c){if(this===a)return!0;if(this.count_!=a.getCount())return!1;var d=c||goog.structs.Map.defaultEquals;this.cleanupKeysArray_();for(var e,f=0;e=this.keys_[f];f++)if(!d(this.get(e),a.get(e)))return!1;return!0};goog.structs.Map.defaultEquals=function(a,c){return a===c};
goog.structs.Map.prototype.isEmpty=function(){return 0==this.count_};goog.structs.Map.prototype.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};goog.structs.Map.prototype.remove=function(a){return goog.structs.Map.hasKey_(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),!0):!1};
goog.structs.Map.prototype.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var a=0,c=0;a<this.keys_.length;){var d=this.keys_[a];goog.structs.Map.hasKey_(this.map_,d)&&(this.keys_[c++]=d);a++}this.keys_.length=c}if(this.count_!=this.keys_.length){for(var e={},c=a=0;a<this.keys_.length;)d=this.keys_[a],goog.structs.Map.hasKey_(e,d)||(this.keys_[c++]=d,e[d]=1),a++;this.keys_.length=c}};
goog.structs.Map.prototype.get=function(a,c){return goog.structs.Map.hasKey_(this.map_,a)?this.map_[a]:c};goog.structs.Map.prototype.set=function(a,c){goog.structs.Map.hasKey_(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=c};goog.structs.Map.prototype.addAll=function(a){var c;a instanceof goog.structs.Map?(c=a.getKeys(),a=a.getValues()):(c=goog.object.getKeys(a),a=goog.object.getValues(a));for(var d=0;d<c.length;d++)this.set(c[d],a[d])};
goog.structs.Map.prototype.clone=function(){return new goog.structs.Map(this)};goog.structs.Map.prototype.transpose=function(){for(var a=new goog.structs.Map,c=0;c<this.keys_.length;c++){var d=this.keys_[c];a.set(this.map_[d],d)}return a};goog.structs.Map.prototype.toObject=function(){this.cleanupKeysArray_();for(var a={},c=0;c<this.keys_.length;c++){var d=this.keys_[c];a[d]=this.map_[d]}return a};goog.structs.Map.prototype.getKeyIterator=function(){return this.__iterator__(!0)};
goog.structs.Map.prototype.getValueIterator=function(){return this.__iterator__(!1)};goog.structs.Map.prototype.__iterator__=function(a){this.cleanupKeysArray_();var c=0,d=this.keys_,e=this.map_,f=this.version_,h=this,k=new goog.iter.Iterator;k.next=function(){for(;;){if(f!=h.version_)throw Error("The map has changed since the iterator was created");if(c>=d.length)throw goog.iter.StopIteration;var k=d[c++];return a?k:e[k]}};return k};
goog.structs.Map.hasKey_=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};goog.structs.Set=function(a){this.map_=new goog.structs.Map;a&&this.addAll(a)};goog.structs.Set.getKey_=function(a){var c=typeof a;return"object"==c&&a||"function"==c?"o"+goog.getUid(a):c.substr(0,1)+a};goog.structs.Set.prototype.getCount=function(){return this.map_.getCount()};goog.structs.Set.prototype.add=function(a){this.map_.set(goog.structs.Set.getKey_(a),a)};goog.structs.Set.prototype.addAll=function(a){for(var a=goog.structs.getValues(a),c=a.length,d=0;d<c;d++)this.add(a[d])};
goog.structs.Set.prototype.removeAll=function(a){for(var a=goog.structs.getValues(a),c=a.length,d=0;d<c;d++)this.remove(a[d])};goog.structs.Set.prototype.remove=function(a){return this.map_.remove(goog.structs.Set.getKey_(a))};goog.structs.Set.prototype.clear=function(){this.map_.clear()};goog.structs.Set.prototype.isEmpty=function(){return this.map_.isEmpty()};goog.structs.Set.prototype.contains=function(a){return this.map_.containsKey(goog.structs.Set.getKey_(a))};
goog.structs.Set.prototype.containsAll=function(a){return goog.structs.every(a,this.contains,this)};goog.structs.Set.prototype.intersection=function(a){for(var c=new goog.structs.Set,a=goog.structs.getValues(a),d=0;d<a.length;d++){var e=a[d];this.contains(e)&&c.add(e)}return c};goog.structs.Set.prototype.difference=function(a){var c=this.clone();c.removeAll(a);return c};goog.structs.Set.prototype.getValues=function(){return this.map_.getValues()};goog.structs.Set.prototype.clone=function(){return new goog.structs.Set(this)};
goog.structs.Set.prototype.equals=function(a){return this.getCount()==goog.structs.getCount(a)&&this.isSubsetOf(a)};goog.structs.Set.prototype.isSubsetOf=function(a){var c=goog.structs.getCount(a);if(this.getCount()>c)return!1;!(a instanceof goog.structs.Set)&&5<c&&(a=new goog.structs.Set(a));return goog.structs.every(this,function(c){return goog.structs.contains(a,c)})};goog.structs.Set.prototype.__iterator__=function(){return this.map_.__iterator__(!1)};goog.userAgent={};goog.userAgent.ASSUME_IE=!1;goog.userAgent.ASSUME_GECKO=!1;goog.userAgent.ASSUME_WEBKIT=!1;goog.userAgent.ASSUME_MOBILE_WEBKIT=!1;goog.userAgent.ASSUME_OPERA=!1;goog.userAgent.ASSUME_ANY_VERSION=!1;goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA;
goog.userAgent.getUserAgentString=function(){return goog.global.navigator?goog.global.navigator.userAgent:null};goog.userAgent.getNavigator=function(){return goog.global.navigator};
goog.userAgent.init_=function(){goog.userAgent.detectedOpera_=!1;goog.userAgent.detectedIe_=!1;goog.userAgent.detectedWebkit_=!1;goog.userAgent.detectedMobile_=!1;goog.userAgent.detectedGecko_=!1;var a;if(!goog.userAgent.BROWSER_KNOWN_&&(a=goog.userAgent.getUserAgentString())){var c=goog.userAgent.getNavigator();goog.userAgent.detectedOpera_=0==a.indexOf("Opera");goog.userAgent.detectedIe_=!goog.userAgent.detectedOpera_&&-1!=a.indexOf("MSIE");goog.userAgent.detectedWebkit_=!goog.userAgent.detectedOpera_&&
-1!=a.indexOf("WebKit");goog.userAgent.detectedMobile_=goog.userAgent.detectedWebkit_&&-1!=a.indexOf("Mobile");goog.userAgent.detectedGecko_=!goog.userAgent.detectedOpera_&&!goog.userAgent.detectedWebkit_&&"Gecko"==c.product}};goog.userAgent.BROWSER_KNOWN_||goog.userAgent.init_();goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.userAgent.detectedOpera_;goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.userAgent.detectedIe_;
goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.userAgent.detectedGecko_;goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.userAgent.detectedWebkit_;goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.detectedMobile_;goog.userAgent.SAFARI=goog.userAgent.WEBKIT;goog.userAgent.determinePlatform_=function(){var a=goog.userAgent.getNavigator();return a&&a.platform||""};
goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_();goog.userAgent.ASSUME_MAC=!1;goog.userAgent.ASSUME_WINDOWS=!1;goog.userAgent.ASSUME_LINUX=!1;goog.userAgent.ASSUME_X11=!1;goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11;
goog.userAgent.initPlatform_=function(){goog.userAgent.detectedMac_=goog.string.contains(goog.userAgent.PLATFORM,"Mac");goog.userAgent.detectedWindows_=goog.string.contains(goog.userAgent.PLATFORM,"Win");goog.userAgent.detectedLinux_=goog.string.contains(goog.userAgent.PLATFORM,"Linux");goog.userAgent.detectedX11_=!!goog.userAgent.getNavigator()&&goog.string.contains(goog.userAgent.getNavigator().appVersion||"","X11")};goog.userAgent.PLATFORM_KNOWN_||goog.userAgent.initPlatform_();
goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.userAgent.detectedMac_;goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.userAgent.detectedWindows_;goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.detectedLinux_;goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.detectedX11_;
goog.userAgent.determineVersion_=function(){var a="",c;goog.userAgent.OPERA&&goog.global.opera?(a=goog.global.opera.version,a="function"==typeof a?a():a):(goog.userAgent.GECKO?c=/rv\:([^\);]+)(\)|;)/:goog.userAgent.IE?c=/MSIE\s+([^\);]+)(\)|;)/:goog.userAgent.WEBKIT&&(c=/WebKit\/(\S+)/),c&&(a=(a=c.exec(goog.userAgent.getUserAgentString()))?a[1]:""));return goog.userAgent.IE&&(c=goog.userAgent.getDocumentMode_(),c>parseFloat(a))?String(c):a};
goog.userAgent.getDocumentMode_=function(){var a=goog.global.document;return a?a.documentMode:void 0};goog.userAgent.VERSION=goog.userAgent.determineVersion_();goog.userAgent.compare=function(a,c){return goog.string.compareVersions(a,c)};goog.userAgent.isVersionCache_={};goog.userAgent.isVersion=function(a){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionCache_[a]||(goog.userAgent.isVersionCache_[a]=0<=goog.string.compareVersions(goog.userAgent.VERSION,a))};
goog.userAgent.isDocumentModeCache_={};goog.userAgent.isDocumentMode=function(a){return goog.userAgent.isDocumentModeCache_[a]||(goog.userAgent.isDocumentModeCache_[a]=goog.userAgent.IE&&!!document.documentMode&&document.documentMode>=a)};goog.debug.catchErrors=function(a,c,d){var d=d||goog.global,e=d.onerror,f=!!c;goog.userAgent.WEBKIT&&!goog.userAgent.isVersion("535.3")&&(f=!f);d.onerror=function(c,d,l){e&&e(c,d,l);a({message:c,fileName:d,line:l});return f}};goog.debug.expose=function(a,c){if("undefined"==typeof a)return"undefined";if(null==a)return"NULL";var d=[],e;for(e in a)if(c||!goog.isFunction(a[e])){var f=e+" = ";try{f+=a[e]}catch(h){f+="*** "+h+" ***"}d.push(f)}return d.join("\n")};
goog.debug.deepExpose=function(a,c){var d=new goog.structs.Set,e=[],f=function(a,k){var l=k+"  ";try{if(goog.isDef(a))if(goog.isNull(a))e.push("NULL");else if(goog.isString(a))e.push('"'+a.replace(/\n/g,"\n"+k)+'"');else if(goog.isFunction(a))e.push(String(a).replace(/\n/g,"\n"+k));else if(goog.isObject(a))if(d.contains(a))e.push("*** reference loop detected ***");else{d.add(a);e.push("{");for(var m in a)if(c||!goog.isFunction(a[m]))e.push("\n"),e.push(l),e.push(m+" = "),f(a[m],l);e.push("\n"+k+"}")}else e.push(a);
else e.push("undefined")}catch(n){e.push("*** "+n+" ***")}};f(a,"");return e.join("")};goog.debug.exposeArray=function(a){for(var c=[],d=0;d<a.length;d++)goog.isArray(a[d])?c.push(goog.debug.exposeArray(a[d])):c.push(a[d]);return"[ "+c.join(", ")+" ]"};
goog.debug.exposeException=function(a,c){try{var d=goog.debug.normalizeErrorObject(a);return"Message: "+goog.string.htmlEscape(d.message)+'\nUrl: <a href="view-source:'+d.fileName+'" target="_new">'+d.fileName+"</a>\nLine: "+d.lineNumber+"\n\nBrowser stack:\n"+goog.string.htmlEscape(d.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+goog.string.htmlEscape(goog.debug.getStacktrace(c)+"-> ")}catch(e){return"Exception trying to expose exception! You win, we lose. "+e}};
goog.debug.normalizeErrorObject=function(a){var c=goog.getObjectByName("window.location.href");if(goog.isString(a))return{message:a,name:"Unknown error",lineNumber:"Not available",fileName:c,stack:"Not available"};var d,e,f=!1;try{d=a.lineNumber||a.line||"Not available"}catch(h){d="Not available",f=!0}try{e=a.fileName||a.filename||a.sourceURL||c}catch(k){e="Not available",f=!0}return f||!a.lineNumber||!a.fileName||!a.stack?{message:a.message,name:a.name,lineNumber:d,fileName:e,stack:a.stack||"Not available"}:
a};goog.debug.enhanceError=function(a,c){var d="string"==typeof a?Error(a):a;d.stack||(d.stack=goog.debug.getStacktrace(arguments.callee.caller));if(c){for(var e=0;d["message"+e];)++e;d["message"+e]=String(c)}return d};
goog.debug.getStacktraceSimple=function(a){for(var c=[],d=arguments.callee.caller,e=0;d&&(!a||e<a);){c.push(goog.debug.getFunctionName(d));c.push("()\n");try{d=d.caller}catch(f){c.push("[exception trying to get caller]\n");break}e++;if(e>=goog.debug.MAX_STACK_DEPTH){c.push("[...long stack...]");break}}a&&e>=a?c.push("[...reached max depth limit...]"):c.push("[end]");return c.join("")};goog.debug.MAX_STACK_DEPTH=50;
goog.debug.getStacktrace=function(a){return goog.debug.getStacktraceHelper_(a||arguments.callee.caller,[])};
goog.debug.getStacktraceHelper_=function(a,c){var d=[];if(goog.array.contains(c,a))d.push("[...circular reference...]");else if(a&&c.length<goog.debug.MAX_STACK_DEPTH){d.push(goog.debug.getFunctionName(a)+"(");for(var e=a.arguments,f=0;f<e.length;f++){0<f&&d.push(", ");var h;h=e[f];switch(typeof h){case "object":h=h?"object":"null";break;case "string":break;case "number":h=String(h);break;case "boolean":h=h?"true":"false";break;case "function":h=(h=goog.debug.getFunctionName(h))?h:"[fn]";break;default:h=
typeof h}40<h.length&&(h=h.substr(0,40)+"...");d.push(h)}c.push(a);d.push(")\n");try{d.push(goog.debug.getStacktraceHelper_(a.caller,c))}catch(k){d.push("[exception trying to get caller]\n")}}else a?d.push("[...long stack...]"):d.push("[end]");return d.join("")};goog.debug.setFunctionResolver=function(a){goog.debug.fnNameResolver_=a};
goog.debug.getFunctionName=function(a){if(goog.debug.fnNameCache_[a])return goog.debug.fnNameCache_[a];if(goog.debug.fnNameResolver_){var c=goog.debug.fnNameResolver_(a);if(c)return goog.debug.fnNameCache_[a]=c}a=String(a);goog.debug.fnNameCache_[a]||(c=/function ([^\(]+)/.exec(a),goog.debug.fnNameCache_[a]=c?c[1]:"[Anonymous]");return goog.debug.fnNameCache_[a]};
goog.debug.makeWhitespaceVisible=function(a){return a.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,"[n]\n").replace(/\r/g,"[r]").replace(/\t/g,"[t]")};goog.debug.fnNameCache_={};goog.debug.LogRecord=function(a,c,d,e,f){this.reset(a,c,d,e,f)};goog.debug.LogRecord.prototype.sequenceNumber_=0;goog.debug.LogRecord.prototype.exception_=null;goog.debug.LogRecord.prototype.exceptionText_=null;goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS=!0;goog.debug.LogRecord.nextSequenceNumber_=0;
goog.debug.LogRecord.prototype.reset=function(a,c,d,e,f){goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS&&(this.sequenceNumber_="number"==typeof f?f:goog.debug.LogRecord.nextSequenceNumber_++);this.time_=e||goog.now();this.level_=a;this.msg_=c;this.loggerName_=d;delete this.exception_;delete this.exceptionText_};goog.debug.LogRecord.prototype.getLoggerName=function(){return this.loggerName_};goog.debug.LogRecord.prototype.getException=function(){return this.exception_};
goog.debug.LogRecord.prototype.setException=function(a){this.exception_=a};goog.debug.LogRecord.prototype.getExceptionText=function(){return this.exceptionText_};goog.debug.LogRecord.prototype.setExceptionText=function(a){this.exceptionText_=a};goog.debug.LogRecord.prototype.setLoggerName=function(a){this.loggerName_=a};goog.debug.LogRecord.prototype.getLevel=function(){return this.level_};goog.debug.LogRecord.prototype.setLevel=function(a){this.level_=a};
goog.debug.LogRecord.prototype.getMessage=function(){return this.msg_};goog.debug.LogRecord.prototype.setMessage=function(a){this.msg_=a};goog.debug.LogRecord.prototype.getMillis=function(){return this.time_};goog.debug.LogRecord.prototype.setMillis=function(a){this.time_=a};goog.debug.LogRecord.prototype.getSequenceNumber=function(){return this.sequenceNumber_};goog.debug.LogBuffer=function(){goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(),"Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY.");this.clear()};goog.debug.LogBuffer.getInstance=function(){goog.debug.LogBuffer.instance_||(goog.debug.LogBuffer.instance_=new goog.debug.LogBuffer);return goog.debug.LogBuffer.instance_};goog.debug.LogBuffer.CAPACITY=0;
goog.debug.LogBuffer.prototype.addRecord=function(a,c,d){var e=(this.curIndex_+1)%goog.debug.LogBuffer.CAPACITY;this.curIndex_=e;if(this.isFull_)return e=this.buffer_[e],e.reset(a,c,d),e;this.isFull_=e==goog.debug.LogBuffer.CAPACITY-1;return this.buffer_[e]=new goog.debug.LogRecord(a,c,d)};goog.debug.LogBuffer.isBufferingEnabled=function(){return 0<goog.debug.LogBuffer.CAPACITY};
goog.debug.LogBuffer.prototype.clear=function(){this.buffer_=Array(goog.debug.LogBuffer.CAPACITY);this.curIndex_=-1;this.isFull_=!1};goog.debug.LogBuffer.prototype.forEachRecord=function(a){var c=this.buffer_;if(c[0]){var d=this.curIndex_,e=this.isFull_?d:-1;do e=(e+1)%goog.debug.LogBuffer.CAPACITY,a(c[e]);while(e!=d)}};goog.debug.Logger=function(a){this.name_=a};goog.debug.Logger.prototype.parent_=null;goog.debug.Logger.prototype.level_=null;goog.debug.Logger.prototype.children_=null;goog.debug.Logger.prototype.handlers_=null;goog.debug.Logger.ENABLE_HIERARCHY=!0;goog.debug.Logger.ENABLE_HIERARCHY||(goog.debug.Logger.rootHandlers_=[]);goog.debug.Logger.Level=function(a,c){this.name=a;this.value=c};goog.debug.Logger.Level.prototype.toString=function(){return this.name};
goog.debug.Logger.Level.OFF=new goog.debug.Logger.Level("OFF",Infinity);goog.debug.Logger.Level.SHOUT=new goog.debug.Logger.Level("SHOUT",1200);goog.debug.Logger.Level.SEVERE=new goog.debug.Logger.Level("SEVERE",1E3);goog.debug.Logger.Level.WARNING=new goog.debug.Logger.Level("WARNING",900);goog.debug.Logger.Level.INFO=new goog.debug.Logger.Level("INFO",800);goog.debug.Logger.Level.CONFIG=new goog.debug.Logger.Level("CONFIG",700);goog.debug.Logger.Level.FINE=new goog.debug.Logger.Level("FINE",500);
goog.debug.Logger.Level.FINER=new goog.debug.Logger.Level("FINER",400);goog.debug.Logger.Level.FINEST=new goog.debug.Logger.Level("FINEST",300);goog.debug.Logger.Level.ALL=new goog.debug.Logger.Level("ALL",0);
goog.debug.Logger.Level.PREDEFINED_LEVELS=[goog.debug.Logger.Level.OFF,goog.debug.Logger.Level.SHOUT,goog.debug.Logger.Level.SEVERE,goog.debug.Logger.Level.WARNING,goog.debug.Logger.Level.INFO,goog.debug.Logger.Level.CONFIG,goog.debug.Logger.Level.FINE,goog.debug.Logger.Level.FINER,goog.debug.Logger.Level.FINEST,goog.debug.Logger.Level.ALL];goog.debug.Logger.Level.predefinedLevelsCache_=null;
goog.debug.Logger.Level.createPredefinedLevelsCache_=function(){goog.debug.Logger.Level.predefinedLevelsCache_={};for(var a=0,c;c=goog.debug.Logger.Level.PREDEFINED_LEVELS[a];a++)goog.debug.Logger.Level.predefinedLevelsCache_[c.value]=c,goog.debug.Logger.Level.predefinedLevelsCache_[c.name]=c};
goog.debug.Logger.Level.getPredefinedLevel=function(a){goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_();return goog.debug.Logger.Level.predefinedLevelsCache_[a]||null};
goog.debug.Logger.Level.getPredefinedLevelByValue=function(a){goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_();if(a in goog.debug.Logger.Level.predefinedLevelsCache_)return goog.debug.Logger.Level.predefinedLevelsCache_[a];for(var c=0;c<goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++c){var d=goog.debug.Logger.Level.PREDEFINED_LEVELS[c];if(d.value<=a)return d}return null};goog.debug.Logger.getLogger=function(a){return goog.debug.LogManager.getLogger(a)};
goog.debug.Logger.logToProfilers=function(a){goog.global.console&&(goog.global.console.timeStamp?goog.global.console.timeStamp(a):goog.global.console.markTimeline&&goog.global.console.markTimeline(a));goog.global.msWriteProfilerMark&&goog.global.msWriteProfilerMark(a)};goog.debug.Logger.prototype.getName=function(){return this.name_};
goog.debug.Logger.prototype.addHandler=function(a){goog.debug.Logger.ENABLE_HIERARCHY?(this.handlers_||(this.handlers_=[]),this.handlers_.push(a)):(goog.asserts.assert(!this.name_,"Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootHandlers_.push(a))};goog.debug.Logger.prototype.removeHandler=function(a){var c=goog.debug.Logger.ENABLE_HIERARCHY?this.handlers_:goog.debug.Logger.rootHandlers_;return!!c&&goog.array.remove(c,a)};
goog.debug.Logger.prototype.getParent=function(){return this.parent_};goog.debug.Logger.prototype.getChildren=function(){this.children_||(this.children_={});return this.children_};goog.debug.Logger.prototype.setLevel=function(a){goog.debug.Logger.ENABLE_HIERARCHY?this.level_=a:(goog.asserts.assert(!this.name_,"Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootLevel_=a)};goog.debug.Logger.prototype.getLevel=function(){return this.level_};
goog.debug.Logger.prototype.getEffectiveLevel=function(){if(!goog.debug.Logger.ENABLE_HIERARCHY)return goog.debug.Logger.rootLevel_;if(this.level_)return this.level_;if(this.parent_)return this.parent_.getEffectiveLevel();goog.asserts.fail("Root logger has no level set.");return null};goog.debug.Logger.prototype.isLoggable=function(a){return a.value>=this.getEffectiveLevel().value};goog.debug.Logger.prototype.log=function(a,c,d){this.isLoggable(a)&&this.doLogRecord_(this.getLogRecord(a,c,d))};
goog.debug.Logger.prototype.getLogRecord=function(a,c,d){var e=goog.debug.LogBuffer.isBufferingEnabled()?goog.debug.LogBuffer.getInstance().addRecord(a,c,this.name_):new goog.debug.LogRecord(a,String(c),this.name_);d&&(e.setException(d),e.setExceptionText(goog.debug.exposeException(d,arguments.callee.caller)));return e};goog.debug.Logger.prototype.shout=function(a,c){this.log(goog.debug.Logger.Level.SHOUT,a,c)};
goog.debug.Logger.prototype.severe=function(a,c){this.log(goog.debug.Logger.Level.SEVERE,a,c)};goog.debug.Logger.prototype.warning=function(a,c){this.log(goog.debug.Logger.Level.WARNING,a,c)};goog.debug.Logger.prototype.info=function(a,c){this.log(goog.debug.Logger.Level.INFO,a,c)};goog.debug.Logger.prototype.config=function(a,c){this.log(goog.debug.Logger.Level.CONFIG,a,c)};goog.debug.Logger.prototype.fine=function(a,c){this.log(goog.debug.Logger.Level.FINE,a,c)};
goog.debug.Logger.prototype.finer=function(a,c){this.log(goog.debug.Logger.Level.FINER,a,c)};goog.debug.Logger.prototype.finest=function(a,c){this.log(goog.debug.Logger.Level.FINEST,a,c)};goog.debug.Logger.prototype.logRecord=function(a){this.isLoggable(a.getLevel())&&this.doLogRecord_(a)};
goog.debug.Logger.prototype.doLogRecord_=function(a){goog.debug.Logger.logToProfilers("log:"+a.getMessage());if(goog.debug.Logger.ENABLE_HIERARCHY)for(var c=this;c;)c.callPublish_(a),c=c.getParent();else for(var c=0,d;d=goog.debug.Logger.rootHandlers_[c++];)d(a)};goog.debug.Logger.prototype.callPublish_=function(a){if(this.handlers_)for(var c=0,d;d=this.handlers_[c];c++)d(a)};goog.debug.Logger.prototype.setParent_=function(a){this.parent_=a};
goog.debug.Logger.prototype.addChild_=function(a,c){this.getChildren()[a]=c};goog.debug.LogManager={};goog.debug.LogManager.loggers_={};goog.debug.LogManager.rootLogger_=null;goog.debug.LogManager.initialize=function(){goog.debug.LogManager.rootLogger_||(goog.debug.LogManager.rootLogger_=new goog.debug.Logger(""),goog.debug.LogManager.loggers_[""]=goog.debug.LogManager.rootLogger_,goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG))};goog.debug.LogManager.getLoggers=function(){return goog.debug.LogManager.loggers_};
goog.debug.LogManager.getRoot=function(){goog.debug.LogManager.initialize();return goog.debug.LogManager.rootLogger_};goog.debug.LogManager.getLogger=function(a){goog.debug.LogManager.initialize();return goog.debug.LogManager.loggers_[a]||goog.debug.LogManager.createLogger_(a)};goog.debug.LogManager.createFunctionForCatchErrors=function(a){return function(c){(a||goog.debug.LogManager.getRoot()).severe("Error: "+c.message+" ("+c.fileName+" @ Line: "+c.line+")")}};
goog.debug.LogManager.createLogger_=function(a){var c=new goog.debug.Logger(a);if(goog.debug.Logger.ENABLE_HIERARCHY){var d=a.lastIndexOf("."),e=a.substr(0,d),d=a.substr(d+1),e=goog.debug.LogManager.getLogger(e);e.addChild_(d,c);c.setParent_(e)}return goog.debug.LogManager.loggers_[a]=c};goog.debug.RelativeTimeProvider=function(){this.relativeTimeStart_=goog.now()};goog.debug.RelativeTimeProvider.defaultInstance_=new goog.debug.RelativeTimeProvider;goog.debug.RelativeTimeProvider.prototype.set=function(a){this.relativeTimeStart_=a};goog.debug.RelativeTimeProvider.prototype.reset=function(){this.set(goog.now())};goog.debug.RelativeTimeProvider.prototype.get=function(){return this.relativeTimeStart_};goog.debug.RelativeTimeProvider.getDefaultInstance=function(){return goog.debug.RelativeTimeProvider.defaultInstance_};goog.debug.Formatter=function(a){this.prefix_=a||"";this.startTimeProvider_=goog.debug.RelativeTimeProvider.getDefaultInstance()};goog.debug.Formatter.prototype.showAbsoluteTime=!0;goog.debug.Formatter.prototype.showRelativeTime=!0;goog.debug.Formatter.prototype.showLoggerName=!0;goog.debug.Formatter.prototype.showExceptionText=!1;goog.debug.Formatter.prototype.showSeverityLevel=!1;goog.debug.Formatter.prototype.setStartTimeProvider=function(a){this.startTimeProvider_=a};
goog.debug.Formatter.prototype.getStartTimeProvider=function(){return this.startTimeProvider_};goog.debug.Formatter.prototype.resetRelativeTimeStart=function(){this.startTimeProvider_.reset()};
goog.debug.Formatter.getDateTimeStamp_=function(a){a=new Date(a.getMillis());return goog.debug.Formatter.getTwoDigitString_(a.getFullYear()-2E3)+goog.debug.Formatter.getTwoDigitString_(a.getMonth()+1)+goog.debug.Formatter.getTwoDigitString_(a.getDate())+" "+goog.debug.Formatter.getTwoDigitString_(a.getHours())+":"+goog.debug.Formatter.getTwoDigitString_(a.getMinutes())+":"+goog.debug.Formatter.getTwoDigitString_(a.getSeconds())+"."+goog.debug.Formatter.getTwoDigitString_(Math.floor(a.getMilliseconds()/
10))};goog.debug.Formatter.getTwoDigitString_=function(a){return 10>a?"0"+a:String(a)};goog.debug.Formatter.getRelativeTime_=function(a,c){var d=(a.getMillis()-c)/1E3,e=d.toFixed(3),f=0;if(1>d)f=2;else for(;100>d;)f++,d*=10;for(;0<f--;)e=" "+e;return e};goog.debug.HtmlFormatter=function(a){goog.debug.Formatter.call(this,a)};goog.inherits(goog.debug.HtmlFormatter,goog.debug.Formatter);goog.debug.HtmlFormatter.prototype.showExceptionText=!0;
goog.debug.HtmlFormatter.prototype.formatRecord=function(a){var c;switch(a.getLevel().value){case goog.debug.Logger.Level.SHOUT.value:c="dbg-sh";break;case goog.debug.Logger.Level.SEVERE.value:c="dbg-sev";break;case goog.debug.Logger.Level.WARNING.value:c="dbg-w";break;case goog.debug.Logger.Level.INFO.value:c="dbg-i";break;default:c="dbg-f"}var d=[];d.push(this.prefix_," ");this.showAbsoluteTime&&d.push("[",goog.debug.Formatter.getDateTimeStamp_(a),"] ");this.showRelativeTime&&d.push("[",goog.string.whitespaceEscape(goog.debug.Formatter.getRelativeTime_(a,
this.startTimeProvider_.get())),"s] ");this.showLoggerName&&d.push("[",goog.string.htmlEscape(a.getLoggerName()),"] ");d.push('<span class="',c,'">',goog.string.newLineToBr(goog.string.whitespaceEscape(goog.string.htmlEscape(a.getMessage()))));this.showExceptionText&&a.getException()&&d.push("<br>",goog.string.newLineToBr(goog.string.whitespaceEscape(a.getExceptionText()||"")));d.push("</span><br>");return d.join("")};goog.debug.TextFormatter=function(a){goog.debug.Formatter.call(this,a)};
goog.inherits(goog.debug.TextFormatter,goog.debug.Formatter);
goog.debug.TextFormatter.prototype.formatRecord=function(a){var c=[];c.push(this.prefix_," ");this.showAbsoluteTime&&c.push("[",goog.debug.Formatter.getDateTimeStamp_(a),"] ");this.showRelativeTime&&c.push("[",goog.debug.Formatter.getRelativeTime_(a,this.startTimeProvider_.get()),"s] ");this.showLoggerName&&c.push("[",a.getLoggerName(),"] ");this.showSeverityLevel&&c.push("[",a.getLevel().name,"] ");c.push(a.getMessage(),"\n");this.showExceptionText&&a.getException()&&c.push(a.getExceptionText(),
"\n");return c.join("")};goog.debug.Console=function(){this.publishHandler_=goog.bind(this.addLogRecord,this);this.formatter_=new goog.debug.TextFormatter;this.formatter_.showAbsoluteTime=!1;this.isCapturing_=this.formatter_.showExceptionText=!1;this.logBuffer_="";this.filteredLoggers_={}};goog.debug.Console.prototype.getFormatter=function(){return this.formatter_};
goog.debug.Console.prototype.setCapturing=function(a){if(a!=this.isCapturing_){var c=goog.debug.LogManager.getRoot();a?c.addHandler(this.publishHandler_):(c.removeHandler(this.publishHandler_),this.logBuffer="");this.isCapturing_=a}};
goog.debug.Console.prototype.addLogRecord=function(a){if(!this.filteredLoggers_[a.getLoggerName()]){var c=this.formatter_.formatRecord(a),d=goog.debug.Console.console_;if(d)switch(a.getLevel()){case goog.debug.Logger.Level.SHOUT:goog.debug.Console.logToConsole_(d,"info",c);break;case goog.debug.Logger.Level.SEVERE:goog.debug.Console.logToConsole_(d,"error",c);break;case goog.debug.Logger.Level.WARNING:goog.debug.Console.logToConsole_(d,"warn",c);break;default:goog.debug.Console.logToConsole_(d,"debug",
c)}else window.opera?window.opera.postError(c):this.logBuffer_+=c}};goog.debug.Console.prototype.addFilter=function(a){this.filteredLoggers_[a]=!0};goog.debug.Console.prototype.removeFilter=function(a){delete this.filteredLoggers_[a]};goog.debug.Console.instance=null;goog.debug.Console.console_=window.console;goog.debug.Console.autoInstall=function(){goog.debug.Console.instance||(goog.debug.Console.instance=new goog.debug.Console);-1!=window.location.href.indexOf("Debug=true")&&goog.debug.Console.instance.setCapturing(!0)};
goog.debug.Console.show=function(){alert(goog.debug.Console.instance.logBuffer_)};goog.debug.Console.logToConsole_=function(a,c,d){if(a[c])a[c](d);else a.log(d)};goog.dom={};goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentMode(9)||goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersion("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE};goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",
DL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",
NAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",
TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"};goog.dom.classes={};goog.dom.classes.set=function(a,c){a.className=c};goog.dom.classes.get=function(a){a=a.className;return goog.isString(a)&&a.match(/\S+/g)||[]};goog.dom.classes.add=function(a,c){var d=goog.dom.classes.get(a),e=goog.array.slice(arguments,1),f=d.length+e.length;goog.dom.classes.add_(d,e);a.className=d.join(" ");return d.length==f};
goog.dom.classes.remove=function(a,c){var d=goog.dom.classes.get(a),e=goog.array.slice(arguments,1),f=goog.dom.classes.getDifference_(d,e);a.className=f.join(" ");return f.length==d.length-e.length};goog.dom.classes.add_=function(a,c){for(var d=0;d<c.length;d++)goog.array.contains(a,c[d])||a.push(c[d])};goog.dom.classes.getDifference_=function(a,c){return goog.array.filter(a,function(a){return!goog.array.contains(c,a)})};
goog.dom.classes.swap=function(a,c,d){for(var e=goog.dom.classes.get(a),f=!1,h=0;h<e.length;h++)e[h]==c&&(goog.array.splice(e,h--,1),f=!0);f&&(e.push(d),a.className=e.join(" "));return f};goog.dom.classes.addRemove=function(a,c,d){var e=goog.dom.classes.get(a);goog.isString(c)?goog.array.remove(e,c):goog.isArray(c)&&(e=goog.dom.classes.getDifference_(e,c));goog.isString(d)&&!goog.array.contains(e,d)?e.push(d):goog.isArray(d)&&goog.dom.classes.add_(e,d);a.className=e.join(" ")};
goog.dom.classes.has=function(a,c){return goog.array.contains(goog.dom.classes.get(a),c)};goog.dom.classes.enable=function(a,c,d){d?goog.dom.classes.add(a,c):goog.dom.classes.remove(a,c)};goog.dom.classes.toggle=function(a,c){var d=!goog.dom.classes.has(a,c);goog.dom.classes.enable(a,c,d);return d};goog.math={};goog.math.randomInt=function(a){return Math.floor(Math.random()*a)};goog.math.uniformRandom=function(a,c){return a+Math.random()*(c-a)};goog.math.clamp=function(a,c,d){return Math.min(Math.max(a,c),d)};goog.math.modulo=function(a,c){var d=a%c;return 0>d*c?d+c:d};goog.math.lerp=function(a,c,d){return a+d*(c-a)};goog.math.nearlyEquals=function(a,c,d){return Math.abs(a-c)<=(d||1E-6)};goog.math.standardAngle=function(a){return goog.math.modulo(a,360)};
goog.math.toRadians=function(a){return a*Math.PI/180};goog.math.toDegrees=function(a){return 180*a/Math.PI};goog.math.angleDx=function(a,c){return c*Math.cos(goog.math.toRadians(a))};goog.math.angleDy=function(a,c){return c*Math.sin(goog.math.toRadians(a))};goog.math.angle=function(a,c,d,e){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(e-c,d-a)))};goog.math.angleDifference=function(a,c){var d=goog.math.standardAngle(c)-goog.math.standardAngle(a);180<d?d-=360:-180>=d&&(d=360+d);return d};
goog.math.sign=function(a){return 0==a?0:0>a?-1:1};goog.math.longestCommonSubsequence=function(a,c,d,e){for(var d=d||function(a,c){return a==c},e=e||function(c){return a[c]},f=a.length,h=c.length,k=[],l=0;l<f+1;l++)k[l]=[],k[l][0]=0;for(var m=0;m<h+1;m++)k[0][m]=0;for(l=1;l<=f;l++)for(m=1;m<=f;m++)k[l][m]=d(a[l-1],c[m-1])?k[l-1][m-1]+1:Math.max(k[l-1][m],k[l][m-1]);for(var n=[],l=f,m=h;0<l&&0<m;)d(a[l-1],c[m-1])?(n.unshift(e(l-1,m-1)),l--,m--):k[l-1][m]>k[l][m-1]?l--:m--;return n};
goog.math.sum=function(a){return goog.array.reduce(arguments,function(a,d){return a+d},0)};goog.math.average=function(a){return goog.math.sum.apply(null,arguments)/arguments.length};goog.math.standardDeviation=function(a){var c=arguments.length;if(2>c)return 0;var d=goog.math.average.apply(null,arguments),c=goog.math.sum.apply(null,goog.array.map(arguments,function(a){return Math.pow(a-d,2)}))/(c-1);return Math.sqrt(c)};goog.math.isInt=function(a){return isFinite(a)&&0==a%1};
goog.math.isFiniteNumber=function(a){return isFinite(a)&&!isNaN(a)};goog.math.Coordinate=function(a,c){this.x=goog.isDef(a)?a:0;this.y=goog.isDef(c)?c:0};goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)};goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"});goog.math.Coordinate.equals=function(a,c){return a==c?!0:!a||!c?!1:a.x==c.x&&a.y==c.y};goog.math.Coordinate.distance=function(a,c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)};
goog.math.Coordinate.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};goog.math.Coordinate.azimuth=function(a){return goog.math.angle(0,0,a.x,a.y)};goog.math.Coordinate.squaredDistance=function(a,c){var d=a.x-c.x,e=a.y-c.y;return d*d+e*e};goog.math.Coordinate.difference=function(a,c){return new goog.math.Coordinate(a.x-c.x,a.y-c.y)};goog.math.Coordinate.sum=function(a,c){return new goog.math.Coordinate(a.x+c.x,a.y+c.y)};goog.math.Size=function(a,c){this.width=a;this.height=c};goog.math.Size.equals=function(a,c){return a==c?!0:!a||!c?!1:a.width==c.width&&a.height==c.height};goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)};goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"});goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)};
goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)};goog.math.Size.prototype.area=function(){return this.width*this.height};goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)};goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height};goog.math.Size.prototype.isEmpty=function(){return!this.area()};goog.math.Size.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
goog.math.Size.prototype.fitsInside=function(a){return this.width<=a.width&&this.height<=a.height};goog.math.Size.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};goog.math.Size.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};goog.math.Size.prototype.scale=function(a){this.width*=a;this.height*=a;return this};
goog.math.Size.prototype.scaleToFit=function(a){a=this.aspectRatio()>a.aspectRatio()?a.width/this.width:a.height/this.height;return this.scale(a)};goog.dom.ASSUME_QUIRKS_MODE=!1;goog.dom.ASSUME_STANDARDS_MODE=!1;goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE;goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.dom.getDomHelper=function(a){return a?new goog.dom.DomHelper(goog.dom.getOwnerDocument(a)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)};
goog.dom.getDocument=function(){return document};goog.dom.getElement=function(a){return goog.isString(a)?document.getElementById(a):a};goog.dom.$=goog.dom.getElement;goog.dom.getElementsByTagNameAndClass=function(a,c,d){return goog.dom.getElementsByTagNameAndClass_(document,a,c,d)};
goog.dom.getElementsByClass=function(a,c){var d=c||document;return goog.dom.canUseQuerySelector_(d)?d.querySelectorAll("."+a):d.getElementsByClassName?d.getElementsByClassName(a):goog.dom.getElementsByTagNameAndClass_(document,"*",a,c)};goog.dom.getElementByClass=function(a,c){var d=c||document,e=null;return(e=goog.dom.canUseQuerySelector_(d)?d.querySelector("."+a):goog.dom.getElementsByClass(a,c)[0])||null};goog.dom.canUseQuerySelector_=function(a){return!(!a.querySelectorAll||!a.querySelector)};
goog.dom.getElementsByTagNameAndClass_=function(a,c,d,e){a=e||a;c=c&&"*"!=c?c.toUpperCase():"";if(goog.dom.canUseQuerySelector_(a)&&(c||d))return a.querySelectorAll(c+(d?"."+d:""));if(d&&a.getElementsByClassName){a=a.getElementsByClassName(d);if(c){for(var e={},f=0,h=0,k;k=a[h];h++)c==k.nodeName&&(e[f++]=k);e.length=f;return e}return a}a=a.getElementsByTagName(c||"*");if(d){e={};for(h=f=0;k=a[h];h++)c=k.className,"function"==typeof c.split&&goog.array.contains(c.split(/\s+/),d)&&(e[f++]=k);e.length=
f;return e}return a};goog.dom.$$=goog.dom.getElementsByTagNameAndClass;goog.dom.setProperties=function(a,c){goog.object.forEach(c,function(c,e){"style"==e?a.style.cssText=c:"class"==e?a.className=c:"for"==e?a.htmlFor=c:e in goog.dom.DIRECT_ATTRIBUTE_MAP_?a.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[e],c):goog.string.startsWith(e,"aria-")||goog.string.startsWith(e,"data-")?a.setAttribute(e,c):a[e]=c})};
goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};goog.dom.getViewportSize=function(a){return goog.dom.getViewportSize_(a||window)};goog.dom.getViewportSize_=function(a){a=a.document;a=goog.dom.isCss1CompatMode_(a)?a.documentElement:a.body;return new goog.math.Size(a.clientWidth,a.clientHeight)};
goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)};goog.dom.getDocumentHeight_=function(a){var c=a.document,d=0;if(c){var a=goog.dom.getViewportSize_(a).height,d=c.body,e=c.documentElement;if(goog.dom.isCss1CompatMode_(c)&&e.scrollHeight)d=e.scrollHeight!=a?e.scrollHeight:e.offsetHeight;else{var c=e.scrollHeight,f=e.offsetHeight;e.clientHeight!=f&&(c=d.scrollHeight,f=d.offsetHeight);d=c>a?c>f?c:f:c<f?c:f}}return d};
goog.dom.getPageScroll=function(a){return goog.dom.getDomHelper((a||goog.global||window).document).getDocumentScroll()};goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)};goog.dom.getDocumentScroll_=function(a){var c=goog.dom.getDocumentScrollElement_(a),a=goog.dom.getWindow_(a);return new goog.math.Coordinate(a.pageXOffset||c.scrollLeft,a.pageYOffset||c.scrollTop)};goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)};
goog.dom.getDocumentScrollElement_=function(a){return!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(a)?a.documentElement:a.body};goog.dom.getWindow=function(a){return a?goog.dom.getWindow_(a):window};goog.dom.getWindow_=function(a){return a.parentWindow||a.defaultView};goog.dom.createDom=function(a,c,d){return goog.dom.createDom_(document,arguments)};
goog.dom.createDom_=function(a,c){var d=c[0],e=c[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&e&&(e.name||e.type)){d=["<",d];e.name&&d.push(' name="',goog.string.htmlEscape(e.name),'"');if(e.type){d.push(' type="',goog.string.htmlEscape(e.type),'"');var f={};goog.object.extend(f,e);delete f.type;e=f}d.push(">");d=d.join("")}d=a.createElement(d);e&&(goog.isString(e)?d.className=e:goog.isArray(e)?goog.dom.classes.add.apply(null,[d].concat(e)):goog.dom.setProperties(d,e));2<c.length&&
goog.dom.append_(a,d,c,2);return d};goog.dom.append_=function(a,c,d,e){function f(d){d&&c.appendChild(goog.isString(d)?a.createTextNode(d):d)}for(;e<d.length;e++){var h=d[e];goog.isArrayLike(h)&&!goog.dom.isNodeLike(h)?goog.array.forEach(goog.dom.isNodeList(h)?goog.array.toArray(h):h,f):f(h)}};goog.dom.$dom=goog.dom.createDom;goog.dom.createElement=function(a){return document.createElement(a)};goog.dom.createTextNode=function(a){return document.createTextNode(a)};
goog.dom.createTable=function(a,c,d){return goog.dom.createTable_(document,a,c,!!d)};goog.dom.createTable_=function(a,c,d,e){for(var f=["<tr>"],h=0;h<d;h++)f.push(e?"<td>&nbsp;</td>":"<td></td>");f.push("</tr>");f=f.join("");d=["<table>"];for(h=0;h<c;h++)d.push(f);d.push("</table>");a=a.createElement(goog.dom.TagName.DIV);a.innerHTML=d.join("");return a.removeChild(a.firstChild)};goog.dom.htmlToDocumentFragment=function(a){return goog.dom.htmlToDocumentFragment_(document,a)};
goog.dom.htmlToDocumentFragment_=function(a,c){var d=a.createElement("div");goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(d.innerHTML="<br>"+c,d.removeChild(d.firstChild)):d.innerHTML=c;if(1==d.childNodes.length)return d.removeChild(d.firstChild);for(var e=a.createDocumentFragment();d.firstChild;)e.appendChild(d.firstChild);return e};goog.dom.getCompatMode=function(){return goog.dom.isCss1CompatMode()?"CSS1Compat":"BackCompat"};goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)};
goog.dom.isCss1CompatMode_=function(a){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==a.compatMode};goog.dom.canHaveChildren=function(a){if(a.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(a.tagName){case goog.dom.TagName.APPLET:case goog.dom.TagName.AREA:case goog.dom.TagName.BASE:case goog.dom.TagName.BR:case goog.dom.TagName.COL:case goog.dom.TagName.COMMAND:case goog.dom.TagName.EMBED:case goog.dom.TagName.FRAME:case goog.dom.TagName.HR:case goog.dom.TagName.IMG:case goog.dom.TagName.INPUT:case goog.dom.TagName.IFRAME:case goog.dom.TagName.ISINDEX:case goog.dom.TagName.KEYGEN:case goog.dom.TagName.LINK:case goog.dom.TagName.NOFRAMES:case goog.dom.TagName.NOSCRIPT:case goog.dom.TagName.META:case goog.dom.TagName.OBJECT:case goog.dom.TagName.PARAM:case goog.dom.TagName.SCRIPT:case goog.dom.TagName.SOURCE:case goog.dom.TagName.STYLE:case goog.dom.TagName.TRACK:case goog.dom.TagName.WBR:return!1}return!0};
goog.dom.appendChild=function(a,c){a.appendChild(c)};goog.dom.append=function(a,c){goog.dom.append_(goog.dom.getOwnerDocument(a),a,arguments,1)};goog.dom.removeChildren=function(a){for(var c;c=a.firstChild;)a.removeChild(c)};goog.dom.insertSiblingBefore=function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c)};goog.dom.insertSiblingAfter=function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c.nextSibling)};goog.dom.insertChildAt=function(a,c,d){a.insertBefore(c,a.childNodes[d]||null)};
goog.dom.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};goog.dom.replaceNode=function(a,c){var d=c.parentNode;d&&d.replaceChild(a,c)};goog.dom.flattenElement=function(a){var c,d=a.parentNode;if(d&&d.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(a.removeNode)return a.removeNode(!1);for(;c=a.firstChild;)d.insertBefore(c,a);return goog.dom.removeNode(a)}};
goog.dom.getChildren=function(a){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&void 0!=a.children?a.children:goog.array.filter(a.childNodes,function(a){return a.nodeType==goog.dom.NodeType.ELEMENT})};goog.dom.getFirstElementChild=function(a){return void 0!=a.firstElementChild?a.firstElementChild:goog.dom.getNextElementNode_(a.firstChild,!0)};goog.dom.getLastElementChild=function(a){return void 0!=a.lastElementChild?a.lastElementChild:goog.dom.getNextElementNode_(a.lastChild,!1)};
goog.dom.getNextElementSibling=function(a){return void 0!=a.nextElementSibling?a.nextElementSibling:goog.dom.getNextElementNode_(a.nextSibling,!0)};goog.dom.getPreviousElementSibling=function(a){return void 0!=a.previousElementSibling?a.previousElementSibling:goog.dom.getNextElementNode_(a.previousSibling,!1)};goog.dom.getNextElementNode_=function(a,c){for(;a&&a.nodeType!=goog.dom.NodeType.ELEMENT;)a=c?a.nextSibling:a.previousSibling;return a};
goog.dom.getNextNode=function(a){if(!a)return null;if(a.firstChild)return a.firstChild;for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null};goog.dom.getPreviousNode=function(a){if(!a)return null;if(!a.previousSibling)return a.parentNode;for(a=a.previousSibling;a&&a.lastChild;)a=a.lastChild;return a};goog.dom.isNodeLike=function(a){return goog.isObject(a)&&0<a.nodeType};goog.dom.isElement=function(a){return goog.isObject(a)&&a.nodeType==goog.dom.NodeType.ELEMENT};
goog.dom.isWindow=function(a){return goog.isObject(a)&&a.window==a};goog.dom.getParentElement=function(a){if(goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY)return a.parentElement;a=a.parentNode;return goog.dom.isElement(a)?a:null};goog.dom.contains=function(a,c){if(a.contains&&c.nodeType==goog.dom.NodeType.ELEMENT)return a==c||a.contains(c);if("undefined"!=typeof a.compareDocumentPosition)return a==c||Boolean(a.compareDocumentPosition(c)&16);for(;c&&a!=c;)c=c.parentNode;return c==a};
goog.dom.compareNodeOrder=function(a,c){if(a==c)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(c)&2?1:-1;if((a.nodeType==goog.dom.NodeType.DOCUMENT||c.nodeType==goog.dom.NodeType.DOCUMENT)&&goog.userAgent.IE&&!goog.userAgent.isVersion(9)){if(a.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(c.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var d=a.nodeType==goog.dom.NodeType.ELEMENT,e=c.nodeType==goog.dom.NodeType.ELEMENT;
if(d&&e)return a.sourceIndex-c.sourceIndex;var f=a.parentNode,h=c.parentNode;return f==h?goog.dom.compareSiblingOrder_(a,c):!d&&goog.dom.contains(f,c)?-1*goog.dom.compareParentsDescendantNodeIe_(a,c):!e&&goog.dom.contains(h,a)?goog.dom.compareParentsDescendantNodeIe_(c,a):(d?a.sourceIndex:f.sourceIndex)-(e?c.sourceIndex:h.sourceIndex)}e=goog.dom.getOwnerDocument(a);d=e.createRange();d.selectNode(a);d.collapse(!0);e=e.createRange();e.selectNode(c);e.collapse(!0);return d.compareBoundaryPoints(goog.global.Range.START_TO_END,
e)};goog.dom.compareParentsDescendantNodeIe_=function(a,c){var d=a.parentNode;if(d==c)return-1;for(var e=c;e.parentNode!=d;)e=e.parentNode;return goog.dom.compareSiblingOrder_(e,a)};goog.dom.compareSiblingOrder_=function(a,c){for(var d=c;d=d.previousSibling;)if(d==a)return-1;return 1};
goog.dom.findCommonAncestor=function(a){var c,d=arguments.length;if(d){if(1==d)return arguments[0]}else return null;var e=[],f=Infinity;for(c=0;c<d;c++){for(var h=[],k=arguments[c];k;)h.unshift(k),k=k.parentNode;e.push(h);f=Math.min(f,h.length)}h=null;for(c=0;c<f;c++){for(var k=e[0][c],l=1;l<d;l++)if(k!=e[l][c])return h;h=k}return h};goog.dom.getOwnerDocument=function(a){return a.nodeType==goog.dom.NodeType.DOCUMENT?a:a.ownerDocument||a.document};
goog.dom.getFrameContentDocument=function(a){return a.contentDocument||a.contentWindow.document};goog.dom.getFrameContentWindow=function(a){return a.contentWindow||goog.dom.getWindow_(goog.dom.getFrameContentDocument(a))};
goog.dom.setTextContent=function(a,c){if("textContent"in a)a.textContent=c;else if(a.firstChild&&a.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=c}else{goog.dom.removeChildren(a);var d=goog.dom.getOwnerDocument(a);a.appendChild(d.createTextNode(c))}};goog.dom.getOuterHtml=function(a){if("outerHTML"in a)return a.outerHTML;var c=goog.dom.getOwnerDocument(a).createElement("div");c.appendChild(a.cloneNode(!0));return c.innerHTML};
goog.dom.findNode=function(a,c){var d=[];return goog.dom.findNodes_(a,c,d,!0)?d[0]:void 0};goog.dom.findNodes=function(a,c){var d=[];goog.dom.findNodes_(a,c,d,!1);return d};goog.dom.findNodes_=function(a,c,d,e){if(null!=a)for(a=a.firstChild;a;){if(c(a)&&(d.push(a),e)||goog.dom.findNodes_(a,c,d,e))return!0;a=a.nextSibling}return!1};goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1};goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"};
goog.dom.isFocusableTabIndex=function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?(a=a.tabIndex,goog.isNumber(a)&&0<=a&&32768>a):!1};goog.dom.setFocusableTabIndex=function(a,c){c?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))};
goog.dom.getTextContent=function(a){if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in a)a=goog.string.canonicalizeNewlines(a.innerText);else{var c=[];goog.dom.getTextContent_(a,c,!0);a=c.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a};goog.dom.getRawTextContent=function(a){var c=[];goog.dom.getTextContent_(a,c,!1);return c.join("")};
goog.dom.getTextContent_=function(a,c,d){if(!(a.nodeName in goog.dom.TAGS_TO_IGNORE_))if(a.nodeType==goog.dom.NodeType.TEXT)d?c.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(a.nodeValue);else if(a.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)c.push(goog.dom.PREDEFINED_TAG_VALUES_[a.nodeName]);else for(a=a.firstChild;a;)goog.dom.getTextContent_(a,c,d),a=a.nextSibling};goog.dom.getNodeTextLength=function(a){return goog.dom.getTextContent(a).length};
goog.dom.getNodeTextOffset=function(a,c){for(var d=c||goog.dom.getOwnerDocument(a).body,e=[];a&&a!=d;){for(var f=a;f=f.previousSibling;)e.unshift(goog.dom.getTextContent(f));a=a.parentNode}return goog.string.trimLeft(e.join("")).replace(/ +/g," ").length};
goog.dom.getNodeAtOffset=function(a,c,d){for(var a=[a],e=0,f;0<a.length&&e<c;)if(f=a.pop(),!(f.nodeName in goog.dom.TAGS_TO_IGNORE_))if(f.nodeType==goog.dom.NodeType.TEXT)var h=f.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," "),e=e+h.length;else if(f.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)e+=goog.dom.PREDEFINED_TAG_VALUES_[f.nodeName].length;else for(h=f.childNodes.length-1;0<=h;h--)a.push(f.childNodes[h]);goog.isObject(d)&&(d.remainder=f?f.nodeValue.length+c-e-1:0,d.node=f);return f};
goog.dom.isNodeList=function(a){if(a&&"number"==typeof a.length){if(goog.isObject(a))return"function"==typeof a.item||"string"==typeof a.item;if(goog.isFunction(a))return"function"==typeof a.item}return!1};goog.dom.getAncestorByTagNameAndClass=function(a,c,d){if(!c&&!d)return null;var e=c?c.toUpperCase():null;return goog.dom.getAncestor(a,function(a){return(!e||a.nodeName==e)&&(!d||goog.dom.classes.has(a,d))},!0)};
goog.dom.getAncestorByClass=function(a,c){return goog.dom.getAncestorByTagNameAndClass(a,null,c)};goog.dom.getAncestor=function(a,c,d,e){d||(a=a.parentNode);for(var d=null==e,f=0;a&&(d||f<=e);){if(c(a))return a;a=a.parentNode;f++}return null};goog.dom.getActiveElement=function(a){try{return a&&a.activeElement}catch(c){}return null};goog.dom.DomHelper=function(a){this.document_=a||goog.global.document||document};goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper;
goog.dom.DomHelper.prototype.setDocument=function(a){this.document_=a};goog.dom.DomHelper.prototype.getDocument=function(){return this.document_};goog.dom.DomHelper.prototype.getElement=function(a){return goog.isString(a)?this.document_.getElementById(a):a};goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement;goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(a,c,d){return goog.dom.getElementsByTagNameAndClass_(this.document_,a,c,d)};
goog.dom.DomHelper.prototype.getElementsByClass=function(a,c){return goog.dom.getElementsByClass(a,c||this.document_)};goog.dom.DomHelper.prototype.getElementByClass=function(a,c){return goog.dom.getElementByClass(a,c||this.document_)};goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties;goog.dom.DomHelper.prototype.getViewportSize=function(a){return goog.dom.getViewportSize(a||this.getWindow())};
goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())};goog.dom.DomHelper.prototype.createDom=function(a,c,d){return goog.dom.createDom_(this.document_,arguments)};goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom;goog.dom.DomHelper.prototype.createElement=function(a){return this.document_.createElement(a)};goog.dom.DomHelper.prototype.createTextNode=function(a){return this.document_.createTextNode(a)};
goog.dom.DomHelper.prototype.createTable=function(a,c,d){return goog.dom.createTable_(this.document_,a,c,!!d)};goog.dom.DomHelper.prototype.htmlToDocumentFragment=function(a){return goog.dom.htmlToDocumentFragment_(this.document_,a)};goog.dom.DomHelper.prototype.getCompatMode=function(){return this.isCss1CompatMode()?"CSS1Compat":"BackCompat"};goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)};goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)};
goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)};goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)};goog.dom.DomHelper.prototype.getActiveElement=function(a){return goog.dom.getActiveElement(a||this.document_)};goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild;goog.dom.DomHelper.prototype.append=goog.dom.append;
goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren;goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren;goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore;goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter;goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt;goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode;goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode;
goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement;goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren;goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild;goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild;goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling;goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling;
goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode;goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode;goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike;goog.dom.DomHelper.prototype.isElement=goog.dom.isElement;goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow;goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement;goog.dom.DomHelper.prototype.contains=goog.dom.contains;goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder;
goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor;goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument;goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument;goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow;goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent;goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml;goog.dom.DomHelper.prototype.findNode=goog.dom.findNode;
goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes;goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex;goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex;goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent;goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength;goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset;goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset;
goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList;goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass;goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass;goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor;goog.debug.entryPointRegistry={};goog.debug.EntryPointMonitor=function(){};goog.debug.entryPointRegistry.refList_=[];goog.debug.entryPointRegistry.monitors_=[];goog.debug.entryPointRegistry.monitorsMayExist_=!1;goog.debug.entryPointRegistry.register=function(a){goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=a;if(goog.debug.entryPointRegistry.monitorsMayExist_)for(var c=goog.debug.entryPointRegistry.monitors_,d=0;d<c.length;d++)a(goog.bind(c[d].wrap,c[d]))};
goog.debug.entryPointRegistry.monitorAll=function(a){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var c=goog.bind(a.wrap,a),d=0;d<goog.debug.entryPointRegistry.refList_.length;d++)goog.debug.entryPointRegistry.refList_[d](c);goog.debug.entryPointRegistry.monitors_.push(a)};
goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(a){var c=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(a==c[c.length-1],"Only the most recent monitor can be unwrapped.");for(var a=goog.bind(a.unwrap,a),d=0;d<goog.debug.entryPointRegistry.refList_.length;d++)goog.debug.entryPointRegistry.refList_[d](a);c.length--};goog.debug.errorHandlerWeakDep={protectEntryPoint:function(a){return a}};goog.events={};
goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersion("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersion("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersion("8")||goog.userAgent.OPERA&&goog.userAgent.isVersion("9.5")||
goog.userAgent.WEBKIT&&goog.userAgent.isVersion("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersion("8")||goog.userAgent.IE&&!goog.userAgent.isVersion("9")};goog.disposable={};goog.disposable.IDisposable=function(){};goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(this.creationStack=Error().stack,goog.Disposable.instances_[goog.getUid(this)]=this)};goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2};goog.Disposable.MONITORING_MODE=0;goog.Disposable.instances_={};goog.Disposable.getUndisposedObjects=function(){var a=[],c;for(c in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(c)&&a.push(goog.Disposable.instances_[Number(c)]);return a};
goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}};goog.Disposable.prototype.disposed_=!1;goog.Disposable.prototype.isDisposed=function(){return this.disposed_};goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed;
goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var a=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(a))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[a]}};
goog.Disposable.prototype.registerDisposable=function(a){this.dependentDisposables_||(this.dependentDisposables_=[]);this.dependentDisposables_.push(a)};goog.Disposable.prototype.addOnDisposeCallback=function(a,c){this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]);this.onDisposeCallbacks_.push(goog.bind(a,c))};goog.Disposable.prototype.disposeInternal=function(){this.dependentDisposables_&&goog.disposeAll.apply(null,this.dependentDisposables_);if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};
goog.Disposable.isDisposed=function(a){return a&&"function"==typeof a.isDisposed?a.isDisposed():!1};goog.dispose=function(a){a&&"function"==typeof a.dispose&&a.dispose()};goog.disposeAll=function(a){for(var c=0,d=arguments.length;c<d;++c){var e=arguments[c];goog.isArrayLike(e)?goog.disposeAll.apply(null,e):goog.dispose(e)}};goog.events.Event=function(a,c){this.type=a;this.currentTarget=this.target=c};goog.events.Event.prototype.disposeInternal=function(){};goog.events.Event.prototype.dispose=function(){};goog.events.Event.prototype.propagationStopped_=!1;goog.events.Event.prototype.defaultPrevented=!1;goog.events.Event.prototype.returnValue_=!0;goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0};
goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0;this.returnValue_=!1};goog.events.Event.stopPropagation=function(a){a.stopPropagation()};goog.events.Event.preventDefault=function(a){a.preventDefault()};goog.events.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",SELECTSTART:"selectstart",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:goog.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:goog.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",
DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",CONTEXTMENU:"contextmenu",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",
BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",TRANSITIONEND:goog.userAgent.WEBKIT?"webkitTransitionEnd":goog.userAgent.OPERA?"oTransitionEnd":"transitionend"};goog.reflect={};goog.reflect.object=function(a,c){return c};goog.reflect.sinkValue=function(a){goog.reflect.sinkValue[" "](a);return a};goog.reflect.sinkValue[" "]=goog.nullFunction;goog.reflect.canAccessProperty=function(a,c){try{return goog.reflect.sinkValue(a[c]),!0}catch(d){}return!1};goog.events.BrowserEvent=function(a,c){a&&this.init(a,c)};goog.inherits(goog.events.BrowserEvent,goog.events.Event);goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2};goog.events.BrowserEvent.IEButtonMap=[1,4,2];goog.events.BrowserEvent.prototype.target=null;goog.events.BrowserEvent.prototype.relatedTarget=null;goog.events.BrowserEvent.prototype.offsetX=0;goog.events.BrowserEvent.prototype.offsetY=0;goog.events.BrowserEvent.prototype.clientX=0;
goog.events.BrowserEvent.prototype.clientY=0;goog.events.BrowserEvent.prototype.screenX=0;goog.events.BrowserEvent.prototype.screenY=0;goog.events.BrowserEvent.prototype.button=0;goog.events.BrowserEvent.prototype.keyCode=0;goog.events.BrowserEvent.prototype.charCode=0;goog.events.BrowserEvent.prototype.ctrlKey=!1;goog.events.BrowserEvent.prototype.altKey=!1;goog.events.BrowserEvent.prototype.shiftKey=!1;goog.events.BrowserEvent.prototype.metaKey=!1;
goog.events.BrowserEvent.prototype.platformModifierKey=!1;goog.events.BrowserEvent.prototype.event_=null;
goog.events.BrowserEvent.prototype.init=function(a,c){var d=this.type=a.type;goog.events.Event.call(this,d);this.target=a.target||a.srcElement;this.currentTarget=c;var e=a.relatedTarget;e?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(e,"nodeName")||(e=null)):d==goog.events.EventType.MOUSEOVER?e=a.fromElement:d==goog.events.EventType.MOUSEOUT&&(e=a.toElement);this.relatedTarget=e;this.offsetX=goog.userAgent.WEBKIT||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=goog.userAgent.WEBKIT||void 0!==
a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==d?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.platformModifierKey=goog.userAgent.MAC?a.metaKey:a.ctrlKey;this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault();
delete this.propagationStopped_};goog.events.BrowserEvent.prototype.isButton=function(a){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==a:"click"==this.type?a==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IEButtonMap[a])};goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)};
goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this);this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0};
goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(c){}};goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_};goog.events.BrowserEvent.prototype.disposeInternal=function(){};goog.events.EventWrapper=function(){};goog.events.EventWrapper.prototype.listen=function(){};goog.events.EventWrapper.prototype.unlisten=function(){};goog.events.Listener=function(){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack)};goog.events.Listener.counter_=0;goog.events.Listener.ENABLE_MONITORING=!1;goog.events.Listener.prototype.key=0;goog.events.Listener.prototype.removed=!1;goog.events.Listener.prototype.callOnce=!1;
goog.events.Listener.prototype.init=function(a,c,d,e,f,h){if(goog.isFunction(a))this.isFunctionListener_=!0;else if(a&&a.handleEvent&&goog.isFunction(a.handleEvent))this.isFunctionListener_=!1;else throw Error("Invalid listener argument");this.listener=a;this.proxy=c;this.src=d;this.type=e;this.capture=!!f;this.handler=h;this.callOnce=!1;this.key=++goog.events.Listener.counter_;this.removed=!1};
goog.events.Listener.prototype.handleEvent=function(a){return this.isFunctionListener_?this.listener.call(this.handler||this.src,a):this.listener.handleEvent.call(this.listener,a)};goog.events.listeners_={};goog.events.listenerTree_={};goog.events.sources_={};goog.events.onString_="on";goog.events.onStringMap_={};goog.events.keySeparator_="_";
goog.events.listen=function(a,c,d,e,f){if(c){if(goog.isArray(c)){for(var h=0;h<c.length;h++)goog.events.listen(a,c[h],d,e,f);return null}var e=!!e,k=goog.events.listenerTree_;c in k||(k[c]={count_:0,remaining_:0});k=k[c];e in k||(k[e]={count_:0,remaining_:0},k.count_++);var k=k[e],l=goog.getUid(a),m;k.remaining_++;if(k[l]){m=k[l];for(h=0;h<m.length;h++)if(k=m[h],k.listener==d&&k.handler==f){if(k.removed)break;return m[h].key}}else m=k[l]=[],k.count_++;h=goog.events.getProxy();h.src=a;k=new goog.events.Listener;
k.init(d,h,a,c,e,f);d=k.key;h.key=d;m.push(k);goog.events.listeners_[d]=k;goog.events.sources_[l]||(goog.events.sources_[l]=[]);goog.events.sources_[l].push(k);a.addEventListener?(a==goog.global||!a.customEvent_)&&a.addEventListener(c,h,e):a.attachEvent(goog.events.getOnString_(c),h);return d}throw Error("Invalid event type");};
goog.events.getProxy=function(){var a=goog.events.handleBrowserEvent_,c=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(d){return a.call(c.src,c.key,d)}:function(d){d=a.call(c.src,c.key,d);if(!d)return d};return c};goog.events.listenOnce=function(a,c,d,e,f){if(goog.isArray(c)){for(var h=0;h<c.length;h++)goog.events.listenOnce(a,c[h],d,e,f);return null}a=goog.events.listen(a,c,d,e,f);goog.events.listeners_[a].callOnce=!0;return a};
goog.events.listenWithWrapper=function(a,c,d,e,f){c.listen(a,d,e,f)};goog.events.unlisten=function(a,c,d,e,f){if(goog.isArray(c)){for(var h=0;h<c.length;h++)goog.events.unlisten(a,c[h],d,e,f);return null}e=!!e;a=goog.events.getListeners_(a,c,e);if(!a)return!1;for(h=0;h<a.length;h++)if(a[h].listener==d&&a[h].capture==e&&a[h].handler==f)return goog.events.unlistenByKey(a[h].key);return!1};
goog.events.unlistenByKey=function(a){if(!goog.events.listeners_[a])return!1;var c=goog.events.listeners_[a];if(c.removed)return!1;var d=c.src,e=c.type,f=c.proxy,h=c.capture;d.removeEventListener?(d==goog.global||!d.customEvent_)&&d.removeEventListener(e,f,h):d.detachEvent&&d.detachEvent(goog.events.getOnString_(e),f);d=goog.getUid(d);goog.events.sources_[d]&&(f=goog.events.sources_[d],goog.array.remove(f,c),0==f.length&&delete goog.events.sources_[d]);c.removed=!0;if(c=goog.events.listenerTree_[e][h][d])c.needsCleanup_=
!0,goog.events.cleanUp_(e,h,d,c);delete goog.events.listeners_[a];return!0};goog.events.unlistenWithWrapper=function(a,c,d,e,f){c.unlisten(a,d,e,f)};
goog.events.cleanUp_=function(a,c,d,e){if(!e.locked_&&e.needsCleanup_){for(var f=0,h=0;f<e.length;f++)e[f].removed?e[f].proxy.src=null:(f!=h&&(e[h]=e[f]),h++);e.length=h;e.needsCleanup_=!1;0==h&&(delete goog.events.listenerTree_[a][c][d],goog.events.listenerTree_[a][c].count_--,0==goog.events.listenerTree_[a][c].count_&&(delete goog.events.listenerTree_[a][c],goog.events.listenerTree_[a].count_--),0==goog.events.listenerTree_[a].count_&&delete goog.events.listenerTree_[a])}};
goog.events.removeAll=function(a,c,d){var e=0,f=null==c,h=null==d,d=!!d;if(null==a)goog.object.forEach(goog.events.sources_,function(a){for(var k=a.length-1;0<=k;k--){var l=a[k];if((f||c==l.type)&&(h||d==l.capture))goog.events.unlistenByKey(l.key),e++}});else if(a=goog.getUid(a),goog.events.sources_[a])for(var a=goog.events.sources_[a],k=a.length-1;0<=k;k--){var l=a[k];if((f||c==l.type)&&(h||d==l.capture))goog.events.unlistenByKey(l.key),e++}return e};
goog.events.getListeners=function(a,c,d){return goog.events.getListeners_(a,c,d)||[]};goog.events.getListeners_=function(a,c,d){var e=goog.events.listenerTree_;return c in e&&(e=e[c],d in e&&(e=e[d],a=goog.getUid(a),e[a]))?e[a]:null};goog.events.getListener=function(a,c,d,e,f){e=!!e;if(a=goog.events.getListeners_(a,c,e))for(c=0;c<a.length;c++)if(!a[c].removed&&a[c].listener==d&&a[c].capture==e&&a[c].handler==f)return a[c];return null};
goog.events.hasListener=function(a,c,d){var a=goog.getUid(a),e=goog.events.sources_[a];if(e){var f=goog.isDef(c),h=goog.isDef(d);return f&&h?(e=goog.events.listenerTree_[c],!!e&&!!e[d]&&a in e[d]):!f&&!h?!0:goog.array.some(e,function(a){return f&&a.type==c||h&&a.capture==d})}return!1};goog.events.expose=function(a){var c=[],d;for(d in a)a[d]&&a[d].id?c.push(d+" = "+a[d]+" ("+a[d].id+")"):c.push(d+" = "+a[d]);return c.join("\n")};
goog.events.getOnString_=function(a){return a in goog.events.onStringMap_?goog.events.onStringMap_[a]:goog.events.onStringMap_[a]=goog.events.onString_+a};goog.events.fireListeners=function(a,c,d,e){var f=goog.events.listenerTree_;return c in f&&(f=f[c],d in f)?goog.events.fireListeners_(f[d],a,c,d,e):!0};
goog.events.fireListeners_=function(a,c,d,e,f){var h=1,c=goog.getUid(c);if(a[c]){a.remaining_--;a=a[c];a.locked_?a.locked_++:a.locked_=1;try{for(var k=a.length,l=0;l<k;l++){var m=a[l];m&&!m.removed&&(h&=!1!==goog.events.fireListener(m,f))}}finally{a.locked_--,goog.events.cleanUp_(d,e,c,a)}}return Boolean(h)};goog.events.fireListener=function(a,c){a.callOnce&&goog.events.unlistenByKey(a.key);return a.handleEvent(c)};goog.events.getTotalListenerCount=function(){return goog.object.getCount(goog.events.listeners_)};
goog.events.dispatchEvent=function(a,c){var d=c.type||c,e=goog.events.listenerTree_;if(!(d in e))return!0;if(goog.isString(c))c=new goog.events.Event(c,a);else if(c instanceof goog.events.Event)c.target=c.target||a;else{var f=c,c=new goog.events.Event(d,a);goog.object.extend(c,f)}var f=1,h,e=e[d],d=!0 in e,k;if(d){h=[];for(k=a;k;k=k.getParentEventTarget())h.push(k);k=e[!0];k.remaining_=k.count_;for(var l=h.length-1;!c.propagationStopped_&&0<=l&&k.remaining_;l--)c.currentTarget=h[l],f&=goog.events.fireListeners_(k,
h[l],c.type,!0,c)&&!1!=c.returnValue_}if(!1 in e)if(k=e[!1],k.remaining_=k.count_,d)for(l=0;!c.propagationStopped_&&l<h.length&&k.remaining_;l++)c.currentTarget=h[l],f&=goog.events.fireListeners_(k,h[l],c.type,!1,c)&&!1!=c.returnValue_;else for(e=a;!c.propagationStopped_&&e&&k.remaining_;e=e.getParentEventTarget())c.currentTarget=e,f&=goog.events.fireListeners_(k,e,c.type,!1,c)&&!1!=c.returnValue_;return Boolean(f)};
goog.events.protectBrowserEventEntryPoint=function(a){goog.events.handleBrowserEvent_=a.protectEntryPoint(goog.events.handleBrowserEvent_)};
goog.events.handleBrowserEvent_=function(a,c){if(!goog.events.listeners_[a])return!0;var d=goog.events.listeners_[a],e=d.type,f=goog.events.listenerTree_;if(!(e in f))return!0;var f=f[e],h,k;if(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){h=c||goog.getObjectByName("window.event");var l=!0 in f,m=!1 in f;if(l){if(goog.events.isMarkedIeEvent_(h))return!0;goog.events.markIeEvent_(h)}var n=new goog.events.BrowserEvent;n.init(h,this);h=!0;try{if(l){for(var p=[],q=n.currentTarget;q;q=q.parentNode)p.push(q);
k=f[!0];k.remaining_=k.count_;for(var u=p.length-1;!n.propagationStopped_&&0<=u&&k.remaining_;u--)n.currentTarget=p[u],h&=goog.events.fireListeners_(k,p[u],e,!0,n);if(m){k=f[!1];k.remaining_=k.count_;for(u=0;!n.propagationStopped_&&u<p.length&&k.remaining_;u++)n.currentTarget=p[u],h&=goog.events.fireListeners_(k,p[u],e,!1,n)}}else h=goog.events.fireListener(d,n)}finally{p&&(p.length=0)}return h}e=new goog.events.BrowserEvent(c,this);return h=goog.events.fireListener(d,e)};
goog.events.markIeEvent_=function(a){var c=!1;if(0==a.keyCode)try{a.keyCode=-1;return}catch(d){c=!0}if(c||void 0==a.returnValue)a.returnValue=!0};goog.events.isMarkedIeEvent_=function(a){return 0>a.keyCode||void 0!=a.returnValue};goog.events.uniqueIdCounter_=0;goog.events.getUniqueId=function(a){return a+"_"+goog.events.uniqueIdCounter_++};goog.debug.entryPointRegistry.register(function(a){goog.events.handleBrowserEvent_=a(goog.events.handleBrowserEvent_)});goog.events.EventHandler=function(a){goog.Disposable.call(this);this.handler_=a;this.keys_=[]};goog.inherits(goog.events.EventHandler,goog.Disposable);goog.events.EventHandler.typeArray_=[];goog.events.EventHandler.prototype.listen=function(a,c,d,e,f){goog.isArray(c)||(goog.events.EventHandler.typeArray_[0]=c,c=goog.events.EventHandler.typeArray_);for(var h=0;h<c.length;h++){var k=goog.events.listen(a,c[h],d||this,e||!1,f||this.handler_||this);this.keys_.push(k)}return this};
goog.events.EventHandler.prototype.listenOnce=function(a,c,d,e,f){if(goog.isArray(c))for(var h=0;h<c.length;h++)this.listenOnce(a,c[h],d,e,f);else a=goog.events.listenOnce(a,c,d||this,e,f||this.handler_||this),this.keys_.push(a);return this};goog.events.EventHandler.prototype.listenWithWrapper=function(a,c,d,e,f){c.listen(a,d,e,f||this.handler_||this,this);return this};goog.events.EventHandler.prototype.getListenerCount=function(){return this.keys_.length};
goog.events.EventHandler.prototype.unlisten=function(a,c,d,e,f){if(goog.isArray(c))for(var h=0;h<c.length;h++)this.unlisten(a,c[h],d,e,f);else if(a=goog.events.getListener(a,c,d||this,e,f||this.handler_||this))a=a.key,goog.events.unlistenByKey(a),goog.array.remove(this.keys_,a);return this};goog.events.EventHandler.prototype.unlistenWithWrapper=function(a,c,d,e,f){c.unlisten(a,d,e,f||this.handler_||this,this);return this};
goog.events.EventHandler.prototype.removeAll=function(){goog.array.forEach(this.keys_,goog.events.unlistenByKey);this.keys_.length=0};goog.events.EventHandler.prototype.disposeInternal=function(){goog.events.EventHandler.superClass_.disposeInternal.call(this);this.removeAll()};goog.events.EventHandler.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};goog.events.EventTarget=function(){goog.Disposable.call(this)};goog.inherits(goog.events.EventTarget,goog.Disposable);goog.events.EventTarget.prototype.customEvent_=!0;goog.events.EventTarget.prototype.parentEventTarget_=null;goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_};goog.events.EventTarget.prototype.setParentEventTarget=function(a){this.parentEventTarget_=a};
goog.events.EventTarget.prototype.addEventListener=function(a,c,d,e){goog.events.listen(this,a,c,d,e)};goog.events.EventTarget.prototype.removeEventListener=function(a,c,d,e){goog.events.unlisten(this,a,c,d,e)};goog.events.EventTarget.prototype.dispatchEvent=function(a){return goog.events.dispatchEvent(this,a)};goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this);goog.events.removeAll(this);this.parentEventTarget_=null};goog.events.FileDropHandler=function(a,c){goog.events.EventTarget.call(this);this.eventHandler_=new goog.events.EventHandler(this);var d=a;c&&(d=goog.dom.getOwnerDocument(a));this.eventHandler_.listen(d,goog.events.EventType.DRAGENTER,this.onDocDragEnter_);d!=a&&this.eventHandler_.listen(d,goog.events.EventType.DRAGOVER,this.onDocDragOver_);this.eventHandler_.listen(a,goog.events.EventType.DRAGOVER,this.onElemDragOver_);this.eventHandler_.listen(a,goog.events.EventType.DROP,this.onElemDrop_)};
goog.inherits(goog.events.FileDropHandler,goog.events.EventTarget);goog.events.FileDropHandler.prototype.dndContainsFiles_=!1;goog.events.FileDropHandler.prototype.logger_=goog.debug.Logger.getLogger("goog.events.FileDropHandler");goog.events.FileDropHandler.EventType={DROP:goog.events.EventType.DROP};goog.events.FileDropHandler.prototype.disposeInternal=function(){goog.events.FileDropHandler.superClass_.disposeInternal.call(this);this.eventHandler_.dispose()};
goog.events.FileDropHandler.prototype.dispatch_=function(a){this.logger_.fine("Firing DROP event...");a=new goog.events.BrowserEvent(a.getBrowserEvent());a.type=goog.events.FileDropHandler.EventType.DROP;this.dispatchEvent(a)};
goog.events.FileDropHandler.prototype.onDocDragEnter_=function(a){this.logger_.finer('"'+a.target.id+'" ('+a.target+") dispatched: "+a.type);var c=a.getBrowserEvent().dataTransfer;(this.dndContainsFiles_=!(!c||!(c.types&&(goog.array.contains(c.types,"Files")||goog.array.contains(c.types,"public.file-url"))||c.files&&0<c.files.length)))&&a.preventDefault();this.logger_.finer("dndContainsFiles_: "+this.dndContainsFiles_)};
goog.events.FileDropHandler.prototype.onDocDragOver_=function(a){this.logger_.finest('"'+a.target.id+'" ('+a.target+") dispatched: "+a.type);this.dndContainsFiles_&&(a.preventDefault(),a.getBrowserEvent().dataTransfer.dropEffect="none")};
goog.events.FileDropHandler.prototype.onElemDragOver_=function(a){this.logger_.finest('"'+a.target.id+'" ('+a.target+") dispatched: "+a.type);this.dndContainsFiles_&&(a.preventDefault(),a.stopPropagation(),a=a.getBrowserEvent().dataTransfer,a.effectAllowed="all",a.dropEffect="copy")};goog.events.FileDropHandler.prototype.onElemDrop_=function(a){this.logger_.finer('"'+a.target.id+'" ('+a.target+") dispatched: "+a.type);this.dndContainsFiles_&&(a.preventDefault(),a.stopPropagation(),this.dispatch_(a))};goog.dom.a11y={};
goog.dom.a11y.State={ACTIVEDESCENDANT:"activedescendant",ATOMIC:"atomic",AUTOCOMPLETE:"autocomplete",BUSY:"busy",CHECKED:"checked",CONTROLS:"controls",DESCRIBEDBY:"describedby",DISABLED:"disabled",DROPEFFECT:"dropeffect",EXPANDED:"expanded",FLOWTO:"flowto",GRABBED:"grabbed",HASPOPUP:"haspopup",HIDDEN:"hidden",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",LIVE:"live",MULTILINE:"multiline",MULTISELECTABLE:"multiselectable",ORIENTATION:"orientation",OWNS:"owns",POSINSET:"posinset",
PRESSED:"pressed",READONLY:"readonly",RELEVANT:"relevant",REQUIRED:"required",SELECTED:"selected",SETSIZE:"setsize",SORT:"sort",VALUEMAX:"valuemax",VALUEMIN:"valuemin",VALUENOW:"valuenow",VALUETEXT:"valuetext"};
goog.dom.a11y.Role={ALERT:"alert",ALERTDIALOG:"alertdialog",APPLICATION:"application",ARTICLE:"article",BANNER:"banner",BUTTON:"button",CHECKBOX:"checkbox",COLUMNHEADER:"columnheader",COMBOBOX:"combobox",COMPLEMENTARY:"complementary",DIALOG:"dialog",DIRECTORY:"directory",DOCUMENT:"document",FORM:"form",GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",HEADING:"heading",IMG:"img",LINK:"link",LIST:"list",LISTBOX:"listbox",LISTITEM:"listitem",LOG:"log",MAIN:"main",MARQUEE:"marquee",MATH:"math",MENU:"menu",
MENUBAR:"menubar",MENU_ITEM:"menuitem",MENU_ITEM_CHECKBOX:"menuitemcheckbox",MENU_ITEM_RADIO:"menuitemradio",NAVIGATION:"navigation",NOTE:"note",OPTION:"option",PRESENTATION:"presentation",PROGRESSBAR:"progressbar",RADIO:"radio",RADIOGROUP:"radiogroup",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SCROLLBAR:"scrollbar",SEARCH:"search",SEPARATOR:"separator",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",TAB:"tab",TAB_LIST:"tablist",TAB_PANEL:"tabpanel",TEXTBOX:"textbox",
TIMER:"timer",TOOLBAR:"toolbar",TOOLTIP:"tooltip",TREE:"tree",TREEGRID:"treegrid",TREEITEM:"treeitem"};goog.dom.a11y.LivePriority={OFF:"off",POLITE:"polite",ASSERTIVE:"assertive"};goog.dom.a11y.setRole=function(a,c){a.setAttribute("role",c)};goog.dom.a11y.getRole=function(a){return a.getAttribute("role")||""};goog.dom.a11y.setState=function(a,c,d){a.setAttribute("aria-"+c,d)};goog.dom.a11y.getState=function(a,c){var d=a.getAttribute("aria-"+c);return!0===d||!1===d?d?"true":"false":d?String(d):""};
goog.dom.a11y.getActiveDescendant=function(a){var c=goog.dom.a11y.getState(a,goog.dom.a11y.State.ACTIVEDESCENDANT);return goog.dom.getOwnerDocument(a).getElementById(c)};goog.dom.a11y.setActiveDescendant=function(a,c){goog.dom.a11y.setState(a,goog.dom.a11y.State.ACTIVEDESCENDANT,c?c.id:"")};goog.dom.a11y.Announcer=function(a){goog.Disposable.call(this);this.domHelper_=a;this.liveRegions_={}};goog.inherits(goog.dom.a11y.Announcer,goog.Disposable);
goog.dom.a11y.Announcer.prototype.disposeInternal=function(){goog.object.forEach(this.liveRegions_,this.domHelper_.removeNode,this.domHelper_);this.domHelper_=this.liveRegions_=null;goog.dom.a11y.Announcer.superClass_.disposeInternal.call(this)};goog.dom.a11y.Announcer.prototype.say=function(a,c){goog.dom.setTextContent(this.getLiveRegion_(c||goog.dom.a11y.LivePriority.POLITE),a)};
goog.dom.a11y.Announcer.prototype.getLiveRegion_=function(a){if(this.liveRegions_[a])return this.liveRegions_[a];var c;c=this.domHelper_.createElement("div");c.style.position="absolute";c.style.top="-1000px";goog.dom.a11y.setState(c,"live",a);goog.dom.a11y.setState(c,"atomic","true");this.domHelper_.getDocument().body.appendChild(c);return this.liveRegions_[a]=c};goog.math.Box=function(a,c,d,e){this.top=a;this.right=c;this.bottom=d;this.left=e};goog.math.Box.boundingBox=function(a){for(var c=new goog.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),d=1;d<arguments.length;d++){var e=arguments[d];c.top=Math.min(c.top,e.y);c.right=Math.max(c.right,e.x);c.bottom=Math.max(c.bottom,e.y);c.left=Math.min(c.left,e.x)}return c};goog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)};
goog.DEBUG&&(goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"});goog.math.Box.prototype.contains=function(a){return goog.math.Box.contains(this,a)};goog.math.Box.prototype.expand=function(a,c,d,e){goog.isObject(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=c,this.bottom+=d,this.left-=e);return this};
goog.math.Box.prototype.expandToInclude=function(a){this.left=Math.min(this.left,a.left);this.top=Math.min(this.top,a.top);this.right=Math.max(this.right,a.right);this.bottom=Math.max(this.bottom,a.bottom)};goog.math.Box.equals=function(a,c){return a==c?!0:!a||!c?!1:a.top==c.top&&a.right==c.right&&a.bottom==c.bottom&&a.left==c.left};
goog.math.Box.contains=function(a,c){return!a||!c?!1:c instanceof goog.math.Box?c.left>=a.left&&c.right<=a.right&&c.top>=a.top&&c.bottom<=a.bottom:c.x>=a.left&&c.x<=a.right&&c.y>=a.top&&c.y<=a.bottom};goog.math.Box.relativePositionX=function(a,c){return c.x<a.left?c.x-a.left:c.x>a.right?c.x-a.right:0};goog.math.Box.relativePositionY=function(a,c){return c.y<a.top?c.y-a.top:c.y>a.bottom?c.y-a.bottom:0};
goog.math.Box.distance=function(a,c){var d=goog.math.Box.relativePositionX(a,c),e=goog.math.Box.relativePositionY(a,c);return Math.sqrt(d*d+e*e)};goog.math.Box.intersects=function(a,c){return a.left<=c.right&&c.left<=a.right&&a.top<=c.bottom&&c.top<=a.bottom};goog.math.Box.intersectsWithPadding=function(a,c,d){return a.left<=c.right+d&&c.left<=a.right+d&&a.top<=c.bottom+d&&c.top<=a.bottom+d};goog.math.Rect=function(a,c,d,e){this.left=a;this.top=c;this.width=d;this.height=e};goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)};goog.math.Rect.prototype.toBox=function(){return new goog.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)};goog.math.Rect.createFromBox=function(a){return new goog.math.Rect(a.left,a.top,a.right-a.left,a.bottom-a.top)};
goog.DEBUG&&(goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"});goog.math.Rect.equals=function(a,c){return a==c?!0:!a||!c?!1:a.left==c.left&&a.width==c.width&&a.top==c.top&&a.height==c.height};
goog.math.Rect.prototype.intersection=function(a){var c=Math.max(this.left,a.left),d=Math.min(this.left+this.width,a.left+a.width);if(c<=d){var e=Math.max(this.top,a.top),a=Math.min(this.top+this.height,a.top+a.height);if(e<=a)return this.left=c,this.top=e,this.width=d-c,this.height=a-e,!0}return!1};
goog.math.Rect.intersection=function(a,c){var d=Math.max(a.left,c.left),e=Math.min(a.left+a.width,c.left+c.width);if(d<=e){var f=Math.max(a.top,c.top),h=Math.min(a.top+a.height,c.top+c.height);if(f<=h)return new goog.math.Rect(d,f,e-d,h-f)}return null};goog.math.Rect.intersects=function(a,c){return a.left<=c.left+c.width&&c.left<=a.left+a.width&&a.top<=c.top+c.height&&c.top<=a.top+a.height};goog.math.Rect.prototype.intersects=function(a){return goog.math.Rect.intersects(this,a)};
goog.math.Rect.difference=function(a,c){var d=goog.math.Rect.intersection(a,c);if(!d||!d.height||!d.width)return[a.clone()];var d=[],e=a.top,f=a.height,h=a.left+a.width,k=a.top+a.height,l=c.left+c.width,m=c.top+c.height;c.top>a.top&&(d.push(new goog.math.Rect(a.left,a.top,a.width,c.top-a.top)),e=c.top,f-=c.top-a.top);m<k&&(d.push(new goog.math.Rect(a.left,m,a.width,k-m)),f=m-e);c.left>a.left&&d.push(new goog.math.Rect(a.left,e,c.left-a.left,f));l<h&&d.push(new goog.math.Rect(l,e,h-l,f));return d};
goog.math.Rect.prototype.difference=function(a){return goog.math.Rect.difference(this,a)};goog.math.Rect.prototype.boundingRect=function(a){var c=Math.max(this.left+this.width,a.left+a.width),d=Math.max(this.top+this.height,a.top+a.height);this.left=Math.min(this.left,a.left);this.top=Math.min(this.top,a.top);this.width=c-this.left;this.height=d-this.top};goog.math.Rect.boundingRect=function(a,c){if(!a||!c)return null;var d=a.clone();d.boundingRect(c);return d};
goog.math.Rect.prototype.contains=function(a){return a instanceof goog.math.Rect?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)};goog.style={};goog.style.setStyle=function(a,c,d){goog.isString(c)?goog.style.setStyle_(a,d,c):goog.object.forEach(c,goog.partial(goog.style.setStyle_,a))};goog.style.setStyle_=function(a,c,d){a.style[goog.string.toCamelCase(d)]=c};goog.style.getStyle=function(a,c){return a.style[goog.string.toCamelCase(c)]||""};
goog.style.getComputedStyle=function(a,c){var d=goog.dom.getOwnerDocument(a);return d.defaultView&&d.defaultView.getComputedStyle&&(d=d.defaultView.getComputedStyle(a,null))?d[c]||d.getPropertyValue(c)||"":""};goog.style.getCascadedStyle=function(a,c){return a.currentStyle?a.currentStyle[c]:null};goog.style.getStyle_=function(a,c){return goog.style.getComputedStyle(a,c)||goog.style.getCascadedStyle(a,c)||a.style&&a.style[c]};
goog.style.getComputedPosition=function(a){return goog.style.getStyle_(a,"position")};goog.style.getBackgroundColor=function(a){return goog.style.getStyle_(a,"backgroundColor")};goog.style.getComputedOverflowX=function(a){return goog.style.getStyle_(a,"overflowX")};goog.style.getComputedOverflowY=function(a){return goog.style.getStyle_(a,"overflowY")};goog.style.getComputedZIndex=function(a){return goog.style.getStyle_(a,"zIndex")};
goog.style.getComputedTextAlign=function(a){return goog.style.getStyle_(a,"textAlign")};goog.style.getComputedCursor=function(a){return goog.style.getStyle_(a,"cursor")};goog.style.setPosition=function(a,c,d){var e,f=goog.userAgent.GECKO&&(goog.userAgent.MAC||goog.userAgent.X11)&&goog.userAgent.isVersion("1.9");c instanceof goog.math.Coordinate?(e=c.x,c=c.y):(e=c,c=d);a.style.left=goog.style.getPixelStyleValue_(e,f);a.style.top=goog.style.getPixelStyleValue_(c,f)};
goog.style.getPosition=function(a){return new goog.math.Coordinate(a.offsetLeft,a.offsetTop)};goog.style.getClientViewportElement=function(a){a=a?goog.dom.getOwnerDocument(a):goog.dom.getDocument();return goog.userAgent.IE&&!goog.userAgent.isDocumentMode(9)&&!goog.dom.getDomHelper(a).isCss1CompatMode()?a.body:a.documentElement};goog.style.getViewportPageOffset=function(a){var c=a.body,a=a.documentElement;return new goog.math.Coordinate(c.scrollLeft||a.scrollLeft,c.scrollTop||a.scrollTop)};
goog.style.getBoundingClientRect_=function(a){var c=a.getBoundingClientRect();goog.userAgent.IE&&(a=a.ownerDocument,c.left-=a.documentElement.clientLeft+a.body.clientLeft,c.top-=a.documentElement.clientTop+a.body.clientTop);return c};
goog.style.getOffsetParent=function(a){if(goog.userAgent.IE&&!goog.userAgent.isDocumentMode(8))return a.offsetParent;for(var c=goog.dom.getOwnerDocument(a),d=goog.style.getStyle_(a,"position"),e="fixed"==d||"absolute"==d,a=a.parentNode;a&&a!=c;a=a.parentNode)if(d=goog.style.getStyle_(a,"position"),e=e&&"static"==d&&a!=c.documentElement&&a!=c.body,!e&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==d||"absolute"==d||"relative"==d))return a;return null};
goog.style.getVisibleRectForElement=function(a){for(var c=new goog.math.Box(0,Infinity,Infinity,0),d=goog.dom.getDomHelper(a),e=d.getDocument().body,f=d.getDocument().documentElement,h=d.getDocumentScrollElement();a=goog.style.getOffsetParent(a);)if((!goog.userAgent.IE||0!=a.clientWidth)&&(!goog.userAgent.WEBKIT||0!=a.clientHeight||a!=e)&&a!=e&&a!=f&&"visible"!=goog.style.getStyle_(a,"overflow")){var k=goog.style.getPageOffset(a),l=goog.style.getClientLeftTop(a);k.x+=l.x;k.y+=l.y;c.top=Math.max(c.top,
k.y);c.right=Math.min(c.right,k.x+a.clientWidth);c.bottom=Math.min(c.bottom,k.y+a.clientHeight);c.left=Math.max(c.left,k.x)}e=h.scrollLeft;h=h.scrollTop;c.left=Math.max(c.left,e);c.top=Math.max(c.top,h);d=d.getViewportSize();c.right=Math.min(c.right,e+d.width);c.bottom=Math.min(c.bottom,h+d.height);return 0<=c.top&&0<=c.left&&c.bottom>c.top&&c.right>c.left?c:null};
goog.style.getContainerOffsetToScrollInto=function(a,c,d){var e=goog.style.getPageOffset(a),f=goog.style.getPageOffset(c),h=goog.style.getBorderBox(c),k=e.x-f.x-h.left,e=e.y-f.y-h.top,f=c.clientWidth-a.offsetWidth,a=c.clientHeight-a.offsetHeight,h=c.scrollLeft,c=c.scrollTop;d?(h+=k-f/2,c+=e-a/2):(h+=Math.min(k,Math.max(k-f,0)),c+=Math.min(e,Math.max(e-a,0)));return new goog.math.Coordinate(h,c)};
goog.style.scrollIntoContainerView=function(a,c,d){a=goog.style.getContainerOffsetToScrollInto(a,c,d);c.scrollLeft=a.x;c.scrollTop=a.y};
goog.style.getClientLeftTop=function(a){if(goog.userAgent.GECKO&&!goog.userAgent.isVersion("1.9")){var c=parseFloat(goog.style.getComputedStyle(a,"borderLeftWidth"));if(goog.style.isRightToLeft(a))var d=a.offsetWidth-a.clientWidth-c-parseFloat(goog.style.getComputedStyle(a,"borderRightWidth")),c=c+d;return new goog.math.Coordinate(c,parseFloat(goog.style.getComputedStyle(a,"borderTopWidth")))}return new goog.math.Coordinate(a.clientLeft,a.clientTop)};
goog.style.getPageOffset=function(a){var c,d=goog.dom.getOwnerDocument(a),e=goog.style.getStyle_(a,"position");goog.asserts.assertObject(a,"Parameter is required");var f=goog.userAgent.GECKO&&d.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==e&&(c=d.getBoxObjectFor(a))&&(0>c.screenX||0>c.screenY),h=new goog.math.Coordinate(0,0),k=goog.style.getClientViewportElement(d);if(a==k)return h;if(a.getBoundingClientRect)c=goog.style.getBoundingClientRect_(a),a=goog.dom.getDomHelper(d).getDocumentScroll(),
h.x=c.left+a.x,h.y=c.top+a.y;else if(d.getBoxObjectFor&&!f)c=d.getBoxObjectFor(a),a=d.getBoxObjectFor(k),h.x=c.screenX-a.screenX,h.y=c.screenY-a.screenY;else{c=a;do{h.x+=c.offsetLeft;h.y+=c.offsetTop;c!=a&&(h.x+=c.clientLeft||0,h.y+=c.clientTop||0);if(goog.userAgent.WEBKIT&&"fixed"==goog.style.getComputedPosition(c)){h.x+=d.body.scrollLeft;h.y+=d.body.scrollTop;break}c=c.offsetParent}while(c&&c!=a);if(goog.userAgent.OPERA||goog.userAgent.WEBKIT&&"absolute"==e)h.y-=d.body.offsetTop;for(c=a;(c=goog.style.getOffsetParent(c))&&
c!=d.body&&c!=k;)if(h.x-=c.scrollLeft,!goog.userAgent.OPERA||"TR"!=c.tagName)h.y-=c.scrollTop}return h};goog.style.getPageOffsetLeft=function(a){return goog.style.getPageOffset(a).x};goog.style.getPageOffsetTop=function(a){return goog.style.getPageOffset(a).y};
goog.style.getFramedPageOffset=function(a,c){var d=new goog.math.Coordinate(0,0),e=goog.dom.getWindow(goog.dom.getOwnerDocument(a)),f=a;do{var h=e==c?goog.style.getPageOffset(f):goog.style.getClientPosition(f);d.x+=h.x;d.y+=h.y}while(e&&e!=c&&(f=e.frameElement)&&(e=e.parent));return d};
goog.style.translateRectForAnotherFrame=function(a,c,d){if(c.getDocument()!=d.getDocument()){var e=c.getDocument().body,d=goog.style.getFramedPageOffset(e,d.getWindow()),d=goog.math.Coordinate.difference(d,goog.style.getPageOffset(e));goog.userAgent.IE&&!c.isCss1CompatMode()&&(d=goog.math.Coordinate.difference(d,c.getDocumentScroll()));a.left+=d.x;a.top+=d.y}};
goog.style.getRelativePosition=function(a,c){var d=goog.style.getClientPosition(a),e=goog.style.getClientPosition(c);return new goog.math.Coordinate(d.x-e.x,d.y-e.y)};
goog.style.getClientPosition=function(a){var c=new goog.math.Coordinate;if(a.nodeType==goog.dom.NodeType.ELEMENT){if(a.getBoundingClientRect){var d=goog.style.getBoundingClientRect_(a);c.x=d.left;c.y=d.top}else{var d=goog.dom.getDomHelper(a).getDocumentScroll(),e=goog.style.getPageOffset(a);c.x=e.x-d.x;c.y=e.y-d.y}goog.userAgent.GECKO&&!goog.userAgent.isVersion(12)&&(c=goog.math.Coordinate.sum(c,goog.style.getCssTranslation(a)))}else d=goog.isFunction(a.getBrowserEvent),e=a,a.targetTouches?e=a.targetTouches[0]:
d&&a.getBrowserEvent().targetTouches&&(e=a.getBrowserEvent().targetTouches[0]),c.x=e.clientX,c.y=e.clientY;return c};goog.style.setPageOffset=function(a,c,d){var e=goog.style.getPageOffset(a);c instanceof goog.math.Coordinate&&(d=c.y,c=c.x);goog.style.setPosition(a,a.offsetLeft+(c-e.x),a.offsetTop+(d-e.y))};
goog.style.setSize=function(a,c,d){if(c instanceof goog.math.Size)d=c.height,c=c.width;else if(void 0==d)throw Error("missing height argument");goog.style.setWidth(a,c);goog.style.setHeight(a,d)};goog.style.getPixelStyleValue_=function(a,c){"number"==typeof a&&(a=(c?Math.round(a):a)+"px");return a};goog.style.setHeight=function(a,c){a.style.height=goog.style.getPixelStyleValue_(c,!0)};goog.style.setWidth=function(a,c){a.style.width=goog.style.getPixelStyleValue_(c,!0)};
goog.style.getSize=function(a){if("none"!=goog.style.getStyle_(a,"display"))return goog.style.getSizeWithDisplay_(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=goog.style.getSizeWithDisplay_(a);c.display=d;c.position=f;c.visibility=e;return a};
goog.style.getSizeWithDisplay_=function(a){var c=a.offsetWidth,d=a.offsetHeight,e=goog.userAgent.WEBKIT&&!c&&!d;return(!goog.isDef(c)||e)&&a.getBoundingClientRect?(a=goog.style.getBoundingClientRect_(a),new goog.math.Size(a.right-a.left,a.bottom-a.top)):new goog.math.Size(c,d)};goog.style.getBounds=function(a){var c=goog.style.getPageOffset(a),a=goog.style.getSize(a);return new goog.math.Rect(c.x,c.y,a.width,a.height)};goog.style.toCamelCase=function(a){return goog.string.toCamelCase(String(a))};
goog.style.toSelectorCase=function(a){return goog.string.toSelectorCase(a)};goog.style.getOpacity=function(a){var c=a.style,a="";"opacity"in c?a=c.opacity:"MozOpacity"in c?a=c.MozOpacity:"filter"in c&&(c=c.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(a=String(c[1]/100));return""==a?a:Number(a)};goog.style.setOpacity=function(a,c){var d=a.style;"opacity"in d?d.opacity=c:"MozOpacity"in d?d.MozOpacity=c:"filter"in d&&(d.filter=""===c?"":"alpha(opacity="+100*c+")")};
goog.style.setTransparentBackgroundImage=function(a,c){var d=a.style;goog.userAgent.IE&&!goog.userAgent.isVersion("8")?d.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+c+'", sizingMethod="crop")':(d.backgroundImage="url("+c+")",d.backgroundPosition="top left",d.backgroundRepeat="no-repeat")};goog.style.clearTransparentBackgroundImage=function(a){a=a.style;"filter"in a?a.filter="":a.backgroundImage="none"};goog.style.showElement=function(a,c){a.style.display=c?"":"none"};
goog.style.isElementShown=function(a){return"none"!=a.style.display};goog.style.installStyles=function(a,c){var d=goog.dom.getDomHelper(c),e=null;if(goog.userAgent.IE)e=d.getDocument().createStyleSheet(),goog.style.setStyles(e,a);else{var f=d.getElementsByTagNameAndClass("head")[0];f||(e=d.getElementsByTagNameAndClass("body")[0],f=d.createDom("head"),e.parentNode.insertBefore(f,e));e=d.createDom("style");goog.style.setStyles(e,a);d.appendChild(f,e)}return e};
goog.style.uninstallStyles=function(a){goog.dom.removeNode(a.ownerNode||a.owningElement||a)};goog.style.setStyles=function(a,c){goog.userAgent.IE?a.cssText=c:a.innerHTML=c};goog.style.setPreWrap=function(a){a=a.style;goog.userAgent.IE&&!goog.userAgent.isVersion("8")?(a.whiteSpace="pre",a.wordWrap="break-word"):a.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"};
goog.style.setInlineBlock=function(a){a=a.style;a.position="relative";goog.userAgent.IE&&!goog.userAgent.isVersion("8")?(a.zoom="1",a.display="inline"):a.display=goog.userAgent.GECKO?goog.userAgent.isVersion("1.9a")?"inline-block":"-moz-inline-box":"inline-block"};goog.style.isRightToLeft=function(a){return"rtl"==goog.style.getStyle_(a,"direction")};goog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT?"WebkitUserSelect":null;
goog.style.isUnselectable=function(a){return goog.style.unselectableStyle_?"none"==a.style[goog.style.unselectableStyle_].toLowerCase():goog.userAgent.IE||goog.userAgent.OPERA?"on"==a.getAttribute("unselectable"):!1};
goog.style.setUnselectable=function(a,c,d){var d=!d?a.getElementsByTagName("*"):null,e=goog.style.unselectableStyle_;if(e){if(c=c?"none":"",a.style[e]=c,d)for(var a=0,f;f=d[a];a++)f.style[e]=c}else if(goog.userAgent.IE||goog.userAgent.OPERA)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(a=0;f=d[a];a++)f.setAttribute("unselectable",c)};goog.style.getBorderBoxSize=function(a){return new goog.math.Size(a.offsetWidth,a.offsetHeight)};
goog.style.setBorderBoxSize=function(a,c){var d=goog.dom.getOwnerDocument(a),e=goog.dom.getDomHelper(d).isCss1CompatMode();if(goog.userAgent.IE&&(!e||!goog.userAgent.isVersion("8")))if(d=a.style,e){var e=goog.style.getPaddingBox(a),f=goog.style.getBorderBox(a);d.pixelWidth=c.width-f.left-e.left-e.right-f.right;d.pixelHeight=c.height-f.top-e.top-e.bottom-f.bottom}else d.pixelWidth=c.width,d.pixelHeight=c.height;else goog.style.setBoxSizingSize_(a,c,"border-box")};
goog.style.getContentBoxSize=function(a){var c=goog.dom.getOwnerDocument(a),d=goog.userAgent.IE&&a.currentStyle;if(d&&goog.dom.getDomHelper(c).isCss1CompatMode()&&"auto"!=d.width&&"auto"!=d.height&&!d.boxSizing)return c=goog.style.getIePixelValue_(a,d.width,"width","pixelWidth"),a=goog.style.getIePixelValue_(a,d.height,"height","pixelHeight"),new goog.math.Size(c,a);d=goog.style.getBorderBoxSize(a);c=goog.style.getPaddingBox(a);a=goog.style.getBorderBox(a);return new goog.math.Size(d.width-a.left-
c.left-c.right-a.right,d.height-a.top-c.top-c.bottom-a.bottom)};
goog.style.setContentBoxSize=function(a,c){var d=goog.dom.getOwnerDocument(a),e=goog.dom.getDomHelper(d).isCss1CompatMode();if(goog.userAgent.IE&&(!e||!goog.userAgent.isVersion("8")))if(d=a.style,e)d.pixelWidth=c.width,d.pixelHeight=c.height;else{var e=goog.style.getPaddingBox(a),f=goog.style.getBorderBox(a);d.pixelWidth=c.width+f.left+e.left+e.right+f.right;d.pixelHeight=c.height+f.top+e.top+e.bottom+f.bottom}else goog.style.setBoxSizingSize_(a,c,"content-box")};
goog.style.setBoxSizingSize_=function(a,c,d){a=a.style;goog.userAgent.GECKO?a.MozBoxSizing=d:goog.userAgent.WEBKIT?a.WebkitBoxSizing=d:a.boxSizing=d;a.width=Math.max(c.width,0)+"px";a.height=Math.max(c.height,0)+"px"};goog.style.getIePixelValue_=function(a,c,d,e){if(/^\d+px?$/.test(c))return parseInt(c,10);var f=a.style[d],h=a.runtimeStyle[d];a.runtimeStyle[d]=a.currentStyle[d];a.style[d]=c;c=a.style[e];a.style[d]=f;a.runtimeStyle[d]=h;return c};
goog.style.getIePixelDistance_=function(a,c){return goog.style.getIePixelValue_(a,goog.style.getCascadedStyle(a,c),"left","pixelLeft")};
goog.style.getBox_=function(a,c){if(goog.userAgent.IE){var d=goog.style.getIePixelDistance_(a,c+"Left"),e=goog.style.getIePixelDistance_(a,c+"Right"),f=goog.style.getIePixelDistance_(a,c+"Top"),h=goog.style.getIePixelDistance_(a,c+"Bottom");return new goog.math.Box(f,e,h,d)}d=goog.style.getComputedStyle(a,c+"Left");e=goog.style.getComputedStyle(a,c+"Right");f=goog.style.getComputedStyle(a,c+"Top");h=goog.style.getComputedStyle(a,c+"Bottom");return new goog.math.Box(parseFloat(f),parseFloat(e),parseFloat(h),
parseFloat(d))};goog.style.getPaddingBox=function(a){return goog.style.getBox_(a,"padding")};goog.style.getMarginBox=function(a){return goog.style.getBox_(a,"margin")};goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6};
goog.style.getIePixelBorder_=function(a,c){if("none"==goog.style.getCascadedStyle(a,c+"Style"))return 0;var d=goog.style.getCascadedStyle(a,c+"Width");return d in goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[d]:goog.style.getIePixelValue_(a,d,"left","pixelLeft")};
goog.style.getBorderBox=function(a){if(goog.userAgent.IE){var c=goog.style.getIePixelBorder_(a,"borderLeft"),d=goog.style.getIePixelBorder_(a,"borderRight"),e=goog.style.getIePixelBorder_(a,"borderTop"),a=goog.style.getIePixelBorder_(a,"borderBottom");return new goog.math.Box(e,d,a,c)}c=goog.style.getComputedStyle(a,"borderLeftWidth");d=goog.style.getComputedStyle(a,"borderRightWidth");e=goog.style.getComputedStyle(a,"borderTopWidth");a=goog.style.getComputedStyle(a,"borderBottomWidth");return new goog.math.Box(parseFloat(e),
parseFloat(d),parseFloat(a),parseFloat(c))};goog.style.getFontFamily=function(a){var c=goog.dom.getOwnerDocument(a),d="";if(c.body.createTextRange){c=c.body.createTextRange();c.moveToElementText(a);try{d=c.queryCommandValue("FontName")}catch(e){d=""}}d||(d=goog.style.getStyle_(a,"fontFamily"));a=d.split(",");1<a.length&&(d=a[0]);return goog.string.stripQuotes(d,"\"'")};goog.style.lengthUnitRegex_=/[^\d]+$/;
goog.style.getLengthUnits=function(a){return(a=a.match(goog.style.lengthUnitRegex_))&&a[0]||null};goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,"in":1,mm:1,pc:1,pt:1};goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1};
goog.style.getFontSize=function(a){var c=goog.style.getStyle_(a,"fontSize"),d=goog.style.getLengthUnits(c);if(c&&"px"==d)return parseInt(c,10);if(goog.userAgent.IE){if(d in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(a,c,"left","pixelLeft");if(a.parentNode&&a.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&d in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)return a=a.parentNode,d=goog.style.getStyle_(a,"fontSize"),goog.style.getIePixelValue_(a,c==d?"1em":c,"left","pixelLeft")}d=
goog.dom.createDom("span",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"});goog.dom.appendChild(a,d);c=d.offsetHeight;goog.dom.removeNode(d);return c};goog.style.parseStyleAttribute=function(a){var c={};goog.array.forEach(a.split(/\s*;\s*/),function(a){a=a.split(/\s*:\s*/);2==a.length&&(c[goog.string.toCamelCase(a[0].toLowerCase())]=a[1])});return c};
goog.style.toStyleAttribute=function(a){var c=[];goog.object.forEach(a,function(a,e){c.push(goog.string.toSelectorCase(e),":",a,";")});return c.join("")};goog.style.setFloat=function(a,c){a.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=c};goog.style.getFloat=function(a){return a.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""};
goog.style.getScrollbarWidth=function(a){var c=goog.dom.createElement("div");a&&(c.className=a);c.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px";a=goog.dom.createElement("div");goog.style.setSize(a,"200px","200px");c.appendChild(a);goog.dom.appendChild(goog.dom.getDocument().body,c);a=c.offsetWidth-c.clientWidth;goog.dom.removeNode(c);return a};goog.style.MATRIX_TRANSLATION_REGEX_=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;
goog.style.getCssTranslation=function(a){var c;goog.userAgent.IE?c="-ms-transform":goog.userAgent.WEBKIT?c="-webkit-transform":goog.userAgent.OPERA?c="-o-transform":goog.userAgent.GECKO&&(c="-moz-transform");var d;c&&(d=goog.style.getStyle_(a,c));d||(d=goog.style.getStyle_(a,"transform"));if(!d)return new goog.math.Coordinate(0,0);a=d.match(goog.style.MATRIX_TRANSLATION_REGEX_);return!a?new goog.math.Coordinate(0,0):new goog.math.Coordinate(parseFloat(a[1]),parseFloat(a[2]))};goog.ui={};goog.ui.IdGenerator=function(){};goog.addSingletonGetter(goog.ui.IdGenerator);goog.ui.IdGenerator.prototype.nextId_=0;goog.ui.IdGenerator.prototype.getNextUniqueId=function(){return":"+(this.nextId_++).toString(36)};goog.ui.IdGenerator.instance=goog.ui.IdGenerator.getInstance();goog.ui.Component=function(a){goog.events.EventTarget.call(this);this.dom_=a||goog.dom.getDomHelper();this.rightToLeft_=goog.ui.Component.defaultRightToLeft_};goog.inherits(goog.ui.Component,goog.events.EventTarget);goog.ui.Component.prototype.idGenerator_=goog.ui.IdGenerator.getInstance();goog.ui.Component.defaultRightToLeft_=null;
goog.ui.Component.EventType={BEFORE_SHOW:"beforeshow",SHOW:"show",HIDE:"hide",DISABLE:"disable",ENABLE:"enable",HIGHLIGHT:"highlight",UNHIGHLIGHT:"unhighlight",ACTIVATE:"activate",DEACTIVATE:"deactivate",SELECT:"select",UNSELECT:"unselect",CHECK:"check",UNCHECK:"uncheck",FOCUS:"focus",BLUR:"blur",OPEN:"open",CLOSE:"close",ENTER:"enter",LEAVE:"leave",ACTION:"action",CHANGE:"change"};
goog.ui.Component.Error={NOT_SUPPORTED:"Method not supported",DECORATE_INVALID:"Invalid element to decorate",ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds",NOT_OUR_CHILD:"Child is not in parent component",NOT_IN_DOCUMENT:"Operation not supported while component is not in document",STATE_INVALID:"Invalid component state"};
goog.ui.Component.State={ALL:255,DISABLED:1,HOVER:2,ACTIVE:4,SELECTED:8,CHECKED:16,FOCUSED:32,OPENED:64};
goog.ui.Component.getStateTransitionEvent=function(a,c){switch(a){case goog.ui.Component.State.DISABLED:return c?goog.ui.Component.EventType.DISABLE:goog.ui.Component.EventType.ENABLE;case goog.ui.Component.State.HOVER:return c?goog.ui.Component.EventType.HIGHLIGHT:goog.ui.Component.EventType.UNHIGHLIGHT;case goog.ui.Component.State.ACTIVE:return c?goog.ui.Component.EventType.ACTIVATE:goog.ui.Component.EventType.DEACTIVATE;case goog.ui.Component.State.SELECTED:return c?goog.ui.Component.EventType.SELECT:
goog.ui.Component.EventType.UNSELECT;case goog.ui.Component.State.CHECKED:return c?goog.ui.Component.EventType.CHECK:goog.ui.Component.EventType.UNCHECK;case goog.ui.Component.State.FOCUSED:return c?goog.ui.Component.EventType.FOCUS:goog.ui.Component.EventType.BLUR;case goog.ui.Component.State.OPENED:return c?goog.ui.Component.EventType.OPEN:goog.ui.Component.EventType.CLOSE}throw Error(goog.ui.Component.Error.STATE_INVALID);};
goog.ui.Component.setDefaultRightToLeft=function(a){goog.ui.Component.defaultRightToLeft_=a};goog.ui.Component.prototype.id_=null;goog.ui.Component.prototype.inDocument_=!1;goog.ui.Component.prototype.element_=null;goog.ui.Component.prototype.rightToLeft_=null;goog.ui.Component.prototype.model_=null;goog.ui.Component.prototype.parent_=null;goog.ui.Component.prototype.children_=null;goog.ui.Component.prototype.childIndex_=null;goog.ui.Component.prototype.wasDecorated_=!1;
goog.ui.Component.prototype.getId=function(){return this.id_||(this.id_=this.idGenerator_.getNextUniqueId())};goog.ui.Component.prototype.setId=function(a){this.parent_&&this.parent_.childIndex_&&(goog.object.remove(this.parent_.childIndex_,this.id_),goog.object.add(this.parent_.childIndex_,a,this));this.id_=a};goog.ui.Component.prototype.getElement=function(){return this.element_};goog.ui.Component.prototype.setElementInternal=function(a){this.element_=a};
goog.ui.Component.prototype.getElementsByClass=function(a){return this.element_?this.dom_.getElementsByClass(a,this.element_):[]};goog.ui.Component.prototype.getElementByClass=function(a){return this.element_?this.dom_.getElementByClass(a,this.element_):null};goog.ui.Component.prototype.getHandler=function(){return this.googUiComponentHandler_||(this.googUiComponentHandler_=new goog.events.EventHandler(this))};
goog.ui.Component.prototype.setParent=function(a){if(this==a)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);if(a&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=a)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=a;goog.ui.Component.superClass_.setParentEventTarget.call(this,a)};goog.ui.Component.prototype.getParent=function(){return this.parent_};
goog.ui.Component.prototype.setParentEventTarget=function(a){if(this.parent_&&this.parent_!=a)throw Error(goog.ui.Component.Error.NOT_SUPPORTED);goog.ui.Component.superClass_.setParentEventTarget.call(this,a)};goog.ui.Component.prototype.getDomHelper=function(){return this.dom_};goog.ui.Component.prototype.isInDocument=function(){return this.inDocument_};goog.ui.Component.prototype.createDom=function(){this.element_=this.dom_.createElement("div")};goog.ui.Component.prototype.render=function(a){this.render_(a)};
goog.ui.Component.prototype.renderBefore=function(a){this.render_(a.parentNode,a)};goog.ui.Component.prototype.render_=function(a,c){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.element_||this.createDom();a?a.insertBefore(this.element_,c||null):this.dom_.getDocument().body.appendChild(this.element_);(!this.parent_||this.parent_.isInDocument())&&this.enterDocument()};
goog.ui.Component.prototype.decorate=function(a){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(a&&this.canDecorate(a)){this.wasDecorated_=!0;if(!this.dom_||this.dom_.getDocument()!=goog.dom.getOwnerDocument(a))this.dom_=goog.dom.getDomHelper(a);this.decorateInternal(a);this.enterDocument()}else throw Error(goog.ui.Component.Error.DECORATE_INVALID);};goog.ui.Component.prototype.canDecorate=function(){return!0};goog.ui.Component.prototype.wasDecorated=function(){return this.wasDecorated_};
goog.ui.Component.prototype.decorateInternal=function(a){this.element_=a};goog.ui.Component.prototype.enterDocument=function(){this.inDocument_=!0;this.forEachChild(function(a){!a.isInDocument()&&a.getElement()&&a.enterDocument()})};goog.ui.Component.prototype.exitDocument=function(){this.forEachChild(function(a){a.isInDocument()&&a.exitDocument()});this.googUiComponentHandler_&&this.googUiComponentHandler_.removeAll();this.inDocument_=!1};
goog.ui.Component.prototype.disposeInternal=function(){goog.ui.Component.superClass_.disposeInternal.call(this);this.inDocument_&&this.exitDocument();this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_);this.forEachChild(function(a){a.dispose()});!this.wasDecorated_&&this.element_&&goog.dom.removeNode(this.element_);this.parent_=this.model_=this.element_=this.childIndex_=this.children_=null};
goog.ui.Component.prototype.makeId=function(a){return this.getId()+"."+a};goog.ui.Component.prototype.makeIds=function(a){var c={},d;for(d in a)c[d]=this.makeId(a[d]);return c};goog.ui.Component.prototype.getModel=function(){return this.model_};goog.ui.Component.prototype.setModel=function(a){this.model_=a};goog.ui.Component.prototype.getFragmentFromId=function(a){return a.substring(this.getId().length+1)};
goog.ui.Component.prototype.getElementByFragment=function(a){if(!this.inDocument_)throw Error(goog.ui.Component.Error.NOT_IN_DOCUMENT);return this.dom_.getElement(this.makeId(a))};goog.ui.Component.prototype.addChild=function(a,c){this.addChildAt(a,this.getChildCount(),c)};
goog.ui.Component.prototype.addChildAt=function(a,c,d){if(a.inDocument_&&(d||!this.inDocument_))throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(0>c||c>this.getChildCount())throw Error(goog.ui.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);if(!this.childIndex_||!this.children_)this.childIndex_={},this.children_=[];a.getParent()==this?(goog.object.set(this.childIndex_,a.getId(),a),goog.array.remove(this.children_,a)):goog.object.add(this.childIndex_,a.getId(),a);a.setParent(this);goog.array.insertAt(this.children_,
a,c);a.inDocument_&&this.inDocument_&&a.getParent()==this?(d=this.getContentElement(),d.insertBefore(a.getElement(),d.childNodes[c]||null)):d?(this.element_||this.createDom(),c=this.getChildAt(c+1),a.render_(this.getContentElement(),c?c.element_:null)):this.inDocument_&&(!a.inDocument_&&a.element_&&a.element_.parentNode)&&a.enterDocument()};goog.ui.Component.prototype.getContentElement=function(){return this.element_};
goog.ui.Component.prototype.isRightToLeft=function(){null==this.rightToLeft_&&(this.rightToLeft_=goog.style.isRightToLeft(this.inDocument_?this.element_:this.dom_.getDocument().body));return this.rightToLeft_};goog.ui.Component.prototype.setRightToLeft=function(a){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.rightToLeft_=a};goog.ui.Component.prototype.hasChildren=function(){return!!this.children_&&0!=this.children_.length};
goog.ui.Component.prototype.getChildCount=function(){return this.children_?this.children_.length:0};goog.ui.Component.prototype.getChildIds=function(){var a=[];this.forEachChild(function(c){a.push(c.getId())});return a};goog.ui.Component.prototype.getChild=function(a){return this.childIndex_&&a?goog.object.get(this.childIndex_,a)||null:null};goog.ui.Component.prototype.getChildAt=function(a){return this.children_?this.children_[a]||null:null};
goog.ui.Component.prototype.forEachChild=function(a,c){this.children_&&goog.array.forEach(this.children_,a,c)};goog.ui.Component.prototype.indexOfChild=function(a){return this.children_&&a?goog.array.indexOf(this.children_,a):-1};
goog.ui.Component.prototype.removeChild=function(a,c){if(a){var d=goog.isString(a)?a:a.getId(),a=this.getChild(d);d&&a&&(goog.object.remove(this.childIndex_,d),goog.array.remove(this.children_,a),c&&(a.exitDocument(),a.element_&&goog.dom.removeNode(a.element_)),a.setParent(null))}if(!a)throw Error(goog.ui.Component.Error.NOT_OUR_CHILD);return a};goog.ui.Component.prototype.removeChildAt=function(a,c){return this.removeChild(this.getChildAt(a),c)};
goog.ui.Component.prototype.removeChildren=function(a){for(var c=[];this.hasChildren();)c.push(this.removeChildAt(0,a));return c};goog.ui.RangeModel=function(){goog.events.EventTarget.call(this)};goog.inherits(goog.ui.RangeModel,goog.events.EventTarget);goog.ui.RangeModel.prototype.value_=0;goog.ui.RangeModel.prototype.minimum_=0;goog.ui.RangeModel.prototype.maximum_=100;goog.ui.RangeModel.prototype.extent_=0;goog.ui.RangeModel.prototype.step_=1;goog.ui.RangeModel.prototype.isChanging_=!1;goog.ui.RangeModel.prototype.mute_=!1;goog.ui.RangeModel.prototype.setMute=function(a){this.mute_=a};
goog.ui.RangeModel.prototype.setValue=function(a){a=this.roundToStepWithMin(a);this.value_!=a&&(this.value_=a+this.extent_>this.maximum_?this.maximum_-this.extent_:a<this.minimum_?this.minimum_:a,!this.isChanging_&&!this.mute_&&this.dispatchEvent(goog.ui.Component.EventType.CHANGE))};goog.ui.RangeModel.prototype.getValue=function(){return this.roundToStepWithMin(this.value_)};
goog.ui.RangeModel.prototype.setExtent=function(a){a=this.roundToStepWithMin(a);this.extent_!=a&&(this.extent_=0>a?0:this.value_+a>this.maximum_?this.maximum_-this.value_:a,!this.isChanging_&&!this.mute_&&this.dispatchEvent(goog.ui.Component.EventType.CHANGE))};goog.ui.RangeModel.prototype.getExtent=function(){return this.roundToStep(this.extent_)};
goog.ui.RangeModel.prototype.setMinimum=function(a){if(this.minimum_!=a){var c=this.isChanging_;this.isChanging_=!0;this.minimum_=a;a+this.extent_>this.maximum_&&(this.extent_=this.maximum_-this.minimum_);a>this.value_&&this.setValue(a);a>this.maximum_&&(this.extent_=0,this.setMaximum(a),this.setValue(a));this.isChanging_=c;!this.isChanging_&&!this.mute_&&this.dispatchEvent(goog.ui.Component.EventType.CHANGE)}};goog.ui.RangeModel.prototype.getMinimum=function(){return this.roundToStepWithMin(this.minimum_)};
goog.ui.RangeModel.prototype.setMaximum=function(a){a=this.roundToStepWithMin(a);if(this.maximum_!=a){var c=this.isChanging_;this.isChanging_=!0;this.maximum_=a;a<this.value_+this.extent_&&this.setValue(a-this.extent_);a<this.minimum_&&(this.extent_=0,this.setMinimum(a),this.setValue(this.maximum_));a<this.minimum_+this.extent_&&(this.extent_=this.maximum_-this.minimum_);this.isChanging_=c;!this.isChanging_&&!this.mute_&&this.dispatchEvent(goog.ui.Component.EventType.CHANGE)}};
goog.ui.RangeModel.prototype.getMaximum=function(){return this.roundToStepWithMin(this.maximum_)};goog.ui.RangeModel.prototype.getStep=function(){return this.step_};goog.ui.RangeModel.prototype.setStep=function(a){this.step_!=a&&(this.step_=a,a=this.isChanging_,this.isChanging_=!0,this.setMaximum(this.getMaximum()),this.setExtent(this.getExtent()),this.setValue(this.getValue()),this.isChanging_=a,!this.isChanging_&&!this.mute_&&this.dispatchEvent(goog.ui.Component.EventType.CHANGE))};
goog.ui.RangeModel.prototype.roundToStepWithMin=function(a){return null==this.step_?a:this.minimum_+Math.round((a-this.minimum_)/this.step_)*this.step_};goog.ui.RangeModel.prototype.roundToStep=function(a){return null==this.step_?a:Math.round(a/this.step_)*this.step_};goog.ui.ProgressBar=function(a){goog.ui.Component.call(this,a);this.rangeModel_=new goog.ui.RangeModel;goog.events.listen(this.rangeModel_,goog.ui.Component.EventType.CHANGE,this.handleChange_,!1,this)};goog.inherits(goog.ui.ProgressBar,goog.ui.Component);goog.ui.ProgressBar.Orientation={VERTICAL:"vertical",HORIZONTAL:"horizontal"};goog.ui.ProgressBar.ORIENTATION_TO_CSS_NAME_={};goog.ui.ProgressBar.ORIENTATION_TO_CSS_NAME_[goog.ui.ProgressBar.Orientation.VERTICAL]="progress-bar-vertical";
goog.ui.ProgressBar.ORIENTATION_TO_CSS_NAME_[goog.ui.ProgressBar.Orientation.HORIZONTAL]="progress-bar-horizontal";goog.ui.ProgressBar.prototype.createDom=function(){this.thumbElement_=this.createThumb_();var a=goog.ui.ProgressBar.ORIENTATION_TO_CSS_NAME_[this.orientation_];this.setElementInternal(this.getDomHelper().createDom("div",a,this.thumbElement_));this.setValueState_();this.setMinimumState_();this.setMaximumState_()};
goog.ui.ProgressBar.prototype.enterDocument=function(){goog.ui.ProgressBar.superClass_.enterDocument.call(this);this.attachEvents_();this.updateUi_();goog.dom.a11y.setRole(this.getElement(),"progressbar");goog.dom.a11y.setState(this.getElement(),"live","polite")};goog.ui.ProgressBar.prototype.exitDocument=function(){goog.ui.ProgressBar.superClass_.exitDocument.call(this);this.detachEvents_()};goog.ui.ProgressBar.prototype.createThumb_=function(){return this.getDomHelper().createDom("div","progress-bar-thumb")};
goog.ui.ProgressBar.prototype.attachEvents_=function(){goog.userAgent.IE&&7>goog.userAgent.VERSION&&goog.events.listen(this.getElement(),goog.events.EventType.RESIZE,this.updateUi_,!1,this)};goog.ui.ProgressBar.prototype.detachEvents_=function(){goog.userAgent.IE&&7>goog.userAgent.VERSION&&goog.events.unlisten(this.getElement(),goog.events.EventType.RESIZE,this.updateUi_,!1,this)};
goog.ui.ProgressBar.prototype.decorateInternal=function(a){goog.ui.ProgressBar.superClass_.decorateInternal.call(this,a);goog.dom.classes.add(this.getElement(),goog.ui.ProgressBar.ORIENTATION_TO_CSS_NAME_[this.orientation_]);a=goog.dom.getElementsByTagNameAndClass(null,"progress-bar-thumb",this.getElement())[0];a||(a=this.createThumb_(),this.getElement().appendChild(a));this.thumbElement_=a};goog.ui.ProgressBar.prototype.getValue=function(){return this.rangeModel_.getValue()};
goog.ui.ProgressBar.prototype.setValue=function(a){this.rangeModel_.setValue(a);this.getElement()&&this.setValueState_()};goog.ui.ProgressBar.prototype.setValueState_=function(){goog.dom.a11y.setState(this.getElement(),"valuenow",this.getValue())};goog.ui.ProgressBar.prototype.getMinimum=function(){return this.rangeModel_.getMinimum()};goog.ui.ProgressBar.prototype.setMinimum=function(a){this.rangeModel_.setMinimum(a);this.getElement()&&this.setMinimumState_()};
goog.ui.ProgressBar.prototype.setMinimumState_=function(){goog.dom.a11y.setState(this.getElement(),"valuemin",this.getMinimum())};goog.ui.ProgressBar.prototype.getMaximum=function(){return this.rangeModel_.getMaximum()};goog.ui.ProgressBar.prototype.setMaximum=function(a){this.rangeModel_.setMaximum(a);this.getElement()&&this.setMaximumState_()};goog.ui.ProgressBar.prototype.setMaximumState_=function(){goog.dom.a11y.setState(this.getElement(),"valuemax",this.getMaximum())};
goog.ui.ProgressBar.prototype.orientation_=goog.ui.ProgressBar.Orientation.HORIZONTAL;goog.ui.ProgressBar.prototype.handleChange_=function(){this.updateUi_();this.dispatchEvent(goog.ui.Component.EventType.CHANGE)};
goog.ui.ProgressBar.prototype.updateUi_=function(){if(this.thumbElement_){var a=this.getMinimum(),c=this.getMaximum(),a=(this.getValue()-a)/(c-a),c=Math.round(100*a);this.orientation_==goog.ui.ProgressBar.Orientation.VERTICAL?goog.userAgent.IE&&7>goog.userAgent.VERSION?(this.thumbElement_.style.top=0,this.thumbElement_.style.height="100%",c=this.thumbElement_.offsetHeight,a=Math.round(a*c),this.thumbElement_.style.top=c-a+"px",this.thumbElement_.style.height=a+"px"):(this.thumbElement_.style.top=
100-c+"%",this.thumbElement_.style.height=c+"%"):this.thumbElement_.style.width=c+"%"}};goog.ui.ProgressBar.prototype.initializeUi_=function(){var a=this.thumbElement_.style;this.orientation_==goog.ui.ProgressBar.Orientation.VERTICAL?(a.left=0,a.width="100%"):(a.top=a.left=0,a.height="100%")};
goog.ui.ProgressBar.prototype.setOrientation=function(a){if(this.orientation_!=a){var c=goog.ui.ProgressBar.ORIENTATION_TO_CSS_NAME_[this.orientation_],d=goog.ui.ProgressBar.ORIENTATION_TO_CSS_NAME_[a];this.orientation_=a;this.getElement()&&(goog.dom.classes.swap(this.getElement(),c,d),this.initializeUi_(),this.updateUi_())}};goog.ui.ProgressBar.prototype.getOrientation=function(){return this.orientation_};
goog.ui.ProgressBar.prototype.disposeInternal=function(){this.detachEvents_();goog.ui.ProgressBar.superClass_.disposeInternal.call(this);this.thumbElement_=null;this.rangeModel_.dispose()};goog.ui.ProgressBar.prototype.getStep=function(){return this.rangeModel_.getStep()};goog.ui.ProgressBar.prototype.setStep=function(a){this.rangeModel_.setStep(a)};goog.events.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,
X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,
SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,PHANTOM:255};
goog.events.KeyCodes.isTextModifyingKeyEvent=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=goog.events.KeyCodes.F1&&a.keyCode<=goog.events.KeyCodes.F12)return!1;switch(a.keyCode){case goog.events.KeyCodes.ALT:case goog.events.KeyCodes.CAPS_LOCK:case goog.events.KeyCodes.CONTEXT_MENU:case goog.events.KeyCodes.CTRL:case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.END:case goog.events.KeyCodes.ESC:case goog.events.KeyCodes.HOME:case goog.events.KeyCodes.INSERT:case goog.events.KeyCodes.LEFT:case goog.events.KeyCodes.MAC_FF_META:case goog.events.KeyCodes.META:case goog.events.KeyCodes.NUMLOCK:case goog.events.KeyCodes.NUM_CENTER:case goog.events.KeyCodes.PAGE_DOWN:case goog.events.KeyCodes.PAGE_UP:case goog.events.KeyCodes.PAUSE:case goog.events.KeyCodes.PHANTOM:case goog.events.KeyCodes.PRINT_SCREEN:case goog.events.KeyCodes.RIGHT:case goog.events.KeyCodes.SCROLL_LOCK:case goog.events.KeyCodes.SHIFT:case goog.events.KeyCodes.UP:case goog.events.KeyCodes.WIN_KEY:case goog.events.KeyCodes.WIN_KEY_RIGHT:return!1;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return!goog.userAgent.GECKO;
default:return a.keyCode<goog.events.KeyCodes.FIRST_MEDIA_KEY||a.keyCode>goog.events.KeyCodes.LAST_MEDIA_KEY}};
goog.events.KeyCodes.firesKeyPressEvent=function(a,c,d,e,f){if(!goog.userAgent.IE&&(!goog.userAgent.WEBKIT||!goog.userAgent.isVersion("525")))return!0;if(goog.userAgent.MAC&&f)return goog.events.KeyCodes.isCharacterKey(a);if(f&&!e||!d&&(c==goog.events.KeyCodes.CTRL||c==goog.events.KeyCodes.ALT)||goog.userAgent.IE&&e&&c==a)return!1;switch(a){case goog.events.KeyCodes.ENTER:return!(goog.userAgent.IE&&goog.userAgent.isDocumentMode(9));case goog.events.KeyCodes.ESC:return!goog.userAgent.WEBKIT}return goog.events.KeyCodes.isCharacterKey(a)};
goog.events.KeyCodes.isCharacterKey=function(a){if(a>=goog.events.KeyCodes.ZERO&&a<=goog.events.KeyCodes.NINE||a>=goog.events.KeyCodes.NUM_ZERO&&a<=goog.events.KeyCodes.NUM_MULTIPLY||a>=goog.events.KeyCodes.A&&a<=goog.events.KeyCodes.Z||goog.userAgent.WEBKIT&&0==a)return!0;switch(a){case goog.events.KeyCodes.SPACE:case goog.events.KeyCodes.QUESTION_MARK:case goog.events.KeyCodes.NUM_PLUS:case goog.events.KeyCodes.NUM_MINUS:case goog.events.KeyCodes.NUM_PERIOD:case goog.events.KeyCodes.NUM_DIVISION:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.FF_SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.FF_EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:return!0;
default:return!1}};goog.events.KeyCodes.normalizeGeckoKeyCode=function(a){switch(a){case goog.events.KeyCodes.FF_EQUALS:return goog.events.KeyCodes.EQUALS;case goog.events.KeyCodes.FF_SEMICOLON:return goog.events.KeyCodes.SEMICOLON;case goog.events.KeyCodes.MAC_FF_META:return goog.events.KeyCodes.META;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return goog.events.KeyCodes.WIN_KEY;default:return a}};goog.style.bidi={};goog.style.bidi.getScrollLeft=function(a){var c=goog.style.isRightToLeft(a);return c&&goog.userAgent.GECKO?-a.scrollLeft:c&&(!goog.userAgent.IE||!goog.userAgent.isVersion("8"))?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft};
goog.style.bidi.getOffsetStart=function(a){var c=a.offsetLeft,d=a.offsetParent;!d&&"fixed"==goog.style.getComputedPosition(a)&&(d=goog.dom.getOwnerDocument(a).documentElement);if(!d)return c;if(goog.userAgent.GECKO)var e=goog.style.getBorderBox(d),c=c+e.left;else goog.userAgent.isDocumentMode(8)&&(e=goog.style.getBorderBox(d),c-=e.left);return goog.style.isRightToLeft(d)?d.clientWidth-(c+a.offsetWidth):c};
goog.style.bidi.setScrollOffset=function(a,c){c=Math.max(c,0);a.scrollLeft=goog.style.isRightToLeft(a)?goog.userAgent.GECKO?-c:!goog.userAgent.IE||!goog.userAgent.isVersion("8")?a.scrollWidth-c-a.clientWidth:c:c};goog.style.bidi.setPosition=function(a,c,d,e){goog.isNull(d)||(a.style.top=d+"px");e?(a.style.right=c+"px",a.style.left=""):(a.style.left=c+"px",a.style.right="")};goog.fx={};goog.fx.Dragger=function(a,c,d){goog.events.EventTarget.call(this);this.target=a;this.handle=c||a;this.limits=d||new goog.math.Rect(NaN,NaN,NaN,NaN);this.document_=goog.dom.getOwnerDocument(a);this.eventHandler_=new goog.events.EventHandler(this);goog.events.listen(this.handle,[goog.events.EventType.TOUCHSTART,goog.events.EventType.MOUSEDOWN],this.startDrag,!1,this)};goog.inherits(goog.fx.Dragger,goog.events.EventTarget);
goog.fx.Dragger.HAS_SET_CAPTURE_=goog.userAgent.IE||goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9.3");goog.fx.Dragger.EventType={EARLY_CANCEL:"earlycancel",START:"start",BEFOREDRAG:"beforedrag",DRAG:"drag",END:"end"};goog.fx.Dragger.prototype.clientX=0;goog.fx.Dragger.prototype.clientY=0;goog.fx.Dragger.prototype.screenX=0;goog.fx.Dragger.prototype.screenY=0;goog.fx.Dragger.prototype.startX=0;goog.fx.Dragger.prototype.startY=0;goog.fx.Dragger.prototype.deltaX=0;
goog.fx.Dragger.prototype.deltaY=0;goog.fx.Dragger.prototype.enabled_=!0;goog.fx.Dragger.prototype.dragging_=!1;goog.fx.Dragger.prototype.hysteresisDistanceSquared_=0;goog.fx.Dragger.prototype.mouseDownTime_=0;goog.fx.Dragger.prototype.ieDragStartCancellingOn_=!1;goog.fx.Dragger.prototype.useRightPositioningForRtl_=!1;goog.fx.Dragger.prototype.enableRightPositioningForRtl=function(a){this.useRightPositioningForRtl_=a};goog.fx.Dragger.prototype.getHandler=function(){return this.eventHandler_};
goog.fx.Dragger.prototype.setLimits=function(a){this.limits=a||new goog.math.Rect(NaN,NaN,NaN,NaN)};goog.fx.Dragger.prototype.setHysteresis=function(a){this.hysteresisDistanceSquared_=Math.pow(a,2)};goog.fx.Dragger.prototype.getHysteresis=function(){return Math.sqrt(this.hysteresisDistanceSquared_)};goog.fx.Dragger.prototype.setScrollTarget=function(a){this.scrollTarget_=a};goog.fx.Dragger.prototype.setCancelIeDragStart=function(a){this.ieDragStartCancellingOn_=a};
goog.fx.Dragger.prototype.getEnabled=function(){return this.enabled_};goog.fx.Dragger.prototype.setEnabled=function(a){this.enabled_=a};goog.fx.Dragger.prototype.disposeInternal=function(){goog.fx.Dragger.superClass_.disposeInternal.call(this);goog.events.unlisten(this.handle,[goog.events.EventType.TOUCHSTART,goog.events.EventType.MOUSEDOWN],this.startDrag,!1,this);this.cleanUpAfterDragging_();this.eventHandler_=this.handle=this.target=null};
goog.fx.Dragger.prototype.isRightToLeft_=function(){goog.isDef(this.rightToLeft_)||(this.rightToLeft_=goog.style.isRightToLeft(this.target));return this.rightToLeft_};
goog.fx.Dragger.prototype.startDrag=function(a){var c=a.type==goog.events.EventType.MOUSEDOWN;if(this.enabled_&&!this.dragging_&&(!c||a.isMouseActionButton())){this.maybeReinitTouchEvent_(a);if(0==this.hysteresisDistanceSquared_)if(this.fireDragStart_(a))this.dragging_=!0,a.preventDefault();else return;else a.preventDefault();this.setupDragHandlers();this.clientX=this.startX=a.clientX;this.clientY=this.startY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.deltaX=this.useRightPositioningForRtl_?
goog.style.bidi.getOffsetStart(this.target):this.target.offsetLeft;this.deltaY=this.target.offsetTop;this.pageScroll=goog.dom.getDomHelper(this.document_).getDocumentScroll();this.mouseDownTime_=goog.now()}else this.dispatchEvent(goog.fx.Dragger.EventType.EARLY_CANCEL)};
goog.fx.Dragger.prototype.setupDragHandlers=function(){var a=this.document_,c=a.documentElement,d=!goog.fx.Dragger.HAS_SET_CAPTURE_;this.eventHandler_.listen(a,[goog.events.EventType.TOUCHMOVE,goog.events.EventType.MOUSEMOVE],this.handleMove_,d);this.eventHandler_.listen(a,[goog.events.EventType.TOUCHEND,goog.events.EventType.MOUSEUP],this.endDrag,d);goog.fx.Dragger.HAS_SET_CAPTURE_?(c.setCapture(!1),this.eventHandler_.listen(c,goog.events.EventType.LOSECAPTURE,this.endDrag)):this.eventHandler_.listen(goog.dom.getWindow(a),
goog.events.EventType.BLUR,this.endDrag);goog.userAgent.IE&&this.ieDragStartCancellingOn_&&this.eventHandler_.listen(a,goog.events.EventType.DRAGSTART,goog.events.Event.preventDefault);this.scrollTarget_&&this.eventHandler_.listen(this.scrollTarget_,goog.events.EventType.SCROLL,this.onScroll_,d)};goog.fx.Dragger.prototype.fireDragStart_=function(a){return this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.START,this,a.clientX,a.clientY,a))};
goog.fx.Dragger.prototype.cleanUpAfterDragging_=function(){this.eventHandler_.removeAll();goog.fx.Dragger.HAS_SET_CAPTURE_&&this.document_.releaseCapture()};
goog.fx.Dragger.prototype.endDrag=function(a,c){this.cleanUpAfterDragging_();if(this.dragging_){this.maybeReinitTouchEvent_(a);this.dragging_=!1;var d=this.limitX(this.deltaX),e=this.limitY(this.deltaY);this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.END,this,a.clientX,a.clientY,a,d,e,c||a.type==goog.events.EventType.TOUCHCANCEL))}else this.dispatchEvent(goog.fx.Dragger.EventType.EARLY_CANCEL);(a.type==goog.events.EventType.TOUCHEND||a.type==goog.events.EventType.TOUCHCANCEL)&&
a.preventDefault()};goog.fx.Dragger.prototype.endDragCancel=function(a){this.endDrag(a,!0)};goog.fx.Dragger.prototype.maybeReinitTouchEvent_=function(a){var c=a.type;c==goog.events.EventType.TOUCHSTART||c==goog.events.EventType.TOUCHMOVE?a.init(a.getBrowserEvent().targetTouches[0],a.currentTarget):(c==goog.events.EventType.TOUCHEND||c==goog.events.EventType.TOUCHCANCEL)&&a.init(a.getBrowserEvent().changedTouches[0],a.currentTarget)};
goog.fx.Dragger.prototype.handleMove_=function(a){if(this.enabled_){this.maybeReinitTouchEvent_(a);var c=(this.useRightPositioningForRtl_&&this.isRightToLeft_()?-1:1)*(a.clientX-this.clientX),d=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.dragging_){var e=this.startX-this.clientX,f=this.startY-this.clientY;if(e*e+f*f>this.hysteresisDistanceSquared_)if(this.fireDragStart_(a))this.dragging_=!0;else{this.isDisposed()||this.endDrag(a);
return}}d=this.calculatePosition_(c,d);c=d.x;d=d.y;this.dragging_&&this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.BEFOREDRAG,this,a.clientX,a.clientY,a,c,d))&&(this.doDrag(a,c,d,!1),a.preventDefault())}};
goog.fx.Dragger.prototype.calculatePosition_=function(a,c){var d=goog.dom.getDomHelper(this.document_).getDocumentScroll(),a=a+(d.x-this.pageScroll.x),c=c+(d.y-this.pageScroll.y);this.pageScroll=d;this.deltaX+=a;this.deltaY+=c;var d=this.limitX(this.deltaX),e=this.limitY(this.deltaY);return new goog.math.Coordinate(d,e)};goog.fx.Dragger.prototype.onScroll_=function(a){var c=this.calculatePosition_(0,0);a.clientX=this.clientX;a.clientY=this.clientY;this.doDrag(a,c.x,c.y,!0)};
goog.fx.Dragger.prototype.doDrag=function(a,c,d){this.defaultAction(c,d);this.dispatchEvent(new goog.fx.DragEvent(goog.fx.Dragger.EventType.DRAG,this,a.clientX,a.clientY,a,c,d))};goog.fx.Dragger.prototype.limitX=function(a){var c=this.limits,d=!isNaN(c.left)?c.left:null,c=!isNaN(c.width)?c.width:0;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,a))};
goog.fx.Dragger.prototype.limitY=function(a){var c=this.limits,d=!isNaN(c.top)?c.top:null,c=!isNaN(c.height)?c.height:0;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,a))};goog.fx.Dragger.prototype.defaultAction=function(a,c){this.useRightPositioningForRtl_&&this.isRightToLeft_()?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=c+"px"};goog.fx.Dragger.prototype.isDragging=function(){return this.dragging_};
goog.fx.DragEvent=function(a,c,d,e,f,h,k,l){goog.events.Event.call(this,a);this.clientX=d;this.clientY=e;this.browserEvent=f;this.left=goog.isDef(h)?h:c.deltaX;this.top=goog.isDef(k)?k:c.deltaY;this.dragger=c;this.dragCanceled=!!l};goog.inherits(goog.fx.DragEvent,goog.events.Event);goog.Timer=function(a,c){goog.events.EventTarget.call(this);this.interval_=a||1;this.timerObject_=c||goog.Timer.defaultTimerObject;this.boundTick_=goog.bind(this.tick_,this);this.last_=goog.now()};goog.inherits(goog.Timer,goog.events.EventTarget);goog.Timer.MAX_TIMEOUT_=2147483647;goog.Timer.prototype.enabled=!1;goog.Timer.defaultTimerObject=goog.global.window;goog.Timer.intervalScale=0.8;goog.Timer.prototype.timer_=null;goog.Timer.prototype.getInterval=function(){return this.interval_};
goog.Timer.prototype.setInterval=function(a){this.interval_=a;this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()};goog.Timer.prototype.tick_=function(){if(this.enabled){var a=goog.now()-this.last_;0<a&&a<this.interval_*goog.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-a):(this.dispatchTick(),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now()))}};
goog.Timer.prototype.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)};goog.Timer.prototype.start=function(){this.enabled=!0;this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())};goog.Timer.prototype.stop=function(){this.enabled=!1;this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)};goog.Timer.prototype.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this);this.stop();delete this.timerObject_};
goog.Timer.TICK="tick";goog.Timer.callOnce=function(a,c,d){if(goog.isFunction(a))d&&(a=goog.bind(a,d));else if(a&&"function"==typeof a.handleEvent)a=goog.bind(a.handleEvent,a);else throw Error("Invalid listener argument");return c>goog.Timer.MAX_TIMEOUT_?-1:goog.Timer.defaultTimerObject.setTimeout(a,c||0)};goog.Timer.clear=function(a){goog.Timer.defaultTimerObject.clearTimeout(a)};goog.dom.iframe={};goog.dom.iframe.BLANK_SOURCE='javascript:""';goog.dom.iframe.STYLES_="border:0;vertical-align:bottom;";goog.dom.iframe.createBlank=function(a,c){return a.createDom("iframe",{frameborder:0,style:goog.dom.iframe.STYLES_+(c||""),src:goog.dom.iframe.BLANK_SOURCE})};goog.dom.iframe.writeContent=function(a,c){var d=goog.dom.getFrameContentDocument(a);d.open();d.write(c);d.close()};
goog.dom.iframe.createWithContent=function(a,c,d,e,f){var h=goog.dom.getDomHelper(a),k=[];f||k.push("<!DOCTYPE html>");k.push("<html><head>",c,"</head><body>",d,"</body></html>");c=goog.dom.iframe.createBlank(h,e);a.appendChild(c);goog.dom.iframe.writeContent(c,k.join(""));return c};goog.events.FocusHandler=function(a){goog.events.EventTarget.call(this);this.element_=a;a=goog.userAgent.IE?"focusout":"blur";this.listenKeyIn_=goog.events.listen(this.element_,goog.userAgent.IE?"focusin":"focus",this,!goog.userAgent.IE);this.listenKeyOut_=goog.events.listen(this.element_,a,this,!goog.userAgent.IE)};goog.inherits(goog.events.FocusHandler,goog.events.EventTarget);goog.events.FocusHandler.EventType={FOCUSIN:"focusin",FOCUSOUT:"focusout"};
goog.events.FocusHandler.prototype.handleEvent=function(a){var c=a.getBrowserEvent(),c=new goog.events.BrowserEvent(c);c.type="focusin"==a.type||"focus"==a.type?goog.events.FocusHandler.EventType.FOCUSIN:goog.events.FocusHandler.EventType.FOCUSOUT;this.dispatchEvent(c)};goog.events.FocusHandler.prototype.disposeInternal=function(){goog.events.FocusHandler.superClass_.disposeInternal.call(this);goog.events.unlistenByKey(this.listenKeyIn_);goog.events.unlistenByKey(this.listenKeyOut_);delete this.element_};goog.fx.Transition=function(){};goog.fx.Transition.EventType={PLAY:"play",BEGIN:"begin",RESUME:"resume",END:"end",STOP:"stop",FINISH:"finish",PAUSE:"pause"};goog.ui.PopupBase=function(a,c){goog.events.EventTarget.call(this);this.handler_=new goog.events.EventHandler(this);this.setElement(a||null);c&&this.setType(c)};goog.inherits(goog.ui.PopupBase,goog.events.EventTarget);goog.ui.PopupBase.Type={TOGGLE_DISPLAY:"toggle_display",MOVE_OFFSCREEN:"move_offscreen"};goog.ui.PopupBase.prototype.element_=null;goog.ui.PopupBase.prototype.autoHide_=!0;goog.ui.PopupBase.prototype.autoHideRegion_=null;goog.ui.PopupBase.prototype.isVisible_=!1;
goog.ui.PopupBase.prototype.shouldHideAsync_=!1;goog.ui.PopupBase.prototype.lastShowTime_=-1;goog.ui.PopupBase.prototype.lastHideTime_=-1;goog.ui.PopupBase.prototype.hideOnEscape_=!1;goog.ui.PopupBase.prototype.enableCrossIframeDismissal_=!0;goog.ui.PopupBase.prototype.type_=goog.ui.PopupBase.Type.TOGGLE_DISPLAY;goog.ui.PopupBase.EventType={BEFORE_SHOW:"beforeshow",SHOW:"show",BEFORE_HIDE:"beforehide",HIDE:"hide"};goog.ui.PopupBase.DEBOUNCE_DELAY_MS=150;goog.ui.PopupBase.prototype.getType=function(){return this.type_};
goog.ui.PopupBase.prototype.setType=function(a){this.type_=a};goog.ui.PopupBase.prototype.shouldHideAsync=function(){return this.shouldHideAsync_};goog.ui.PopupBase.prototype.setShouldHideAsync=function(a){this.shouldHideAsync_=a};goog.ui.PopupBase.prototype.getElement=function(){return this.element_};goog.ui.PopupBase.prototype.setElement=function(a){this.ensureNotVisible_();this.element_=a};goog.ui.PopupBase.prototype.getAutoHide=function(){return this.autoHide_};
goog.ui.PopupBase.prototype.setAutoHide=function(a){this.ensureNotVisible_();this.autoHide_=a};goog.ui.PopupBase.prototype.getHideOnEscape=function(){return this.hideOnEscape_};goog.ui.PopupBase.prototype.setHideOnEscape=function(a){this.ensureNotVisible_();this.hideOnEscape_=a};goog.ui.PopupBase.prototype.getEnableCrossIframeDismissal=function(){return this.enableCrossIframeDismissal_};goog.ui.PopupBase.prototype.setEnableCrossIframeDismissal=function(a){this.enableCrossIframeDismissal_=a};
goog.ui.PopupBase.prototype.getAutoHideRegion=function(){return this.autoHideRegion_};goog.ui.PopupBase.prototype.setAutoHideRegion=function(a){this.autoHideRegion_=a};goog.ui.PopupBase.prototype.setTransition=function(a,c){this.showTransition_=a;this.hideTransition_=c};goog.ui.PopupBase.prototype.getLastShowTime=function(){return this.lastShowTime_};goog.ui.PopupBase.prototype.getLastHideTime=function(){return this.lastHideTime_};
goog.ui.PopupBase.prototype.ensureNotVisible_=function(){if(this.isVisible_)throw Error("Can not change this state of the popup while showing.");};goog.ui.PopupBase.prototype.isVisible=function(){return this.isVisible_};goog.ui.PopupBase.prototype.isOrWasRecentlyVisible=function(){return this.isVisible_||goog.now()-this.lastHideTime_<goog.ui.PopupBase.DEBOUNCE_DELAY_MS};
goog.ui.PopupBase.prototype.setVisible=function(a){this.showTransition_&&this.showTransition_.stop();this.hideTransition_&&this.hideTransition_.stop();a?this.show_():this.hide_()};goog.ui.PopupBase.prototype.reposition=goog.nullFunction;
goog.ui.PopupBase.prototype.show_=function(){if(!this.isVisible_&&this.onBeforeShow()){if(!this.element_)throw Error("Caller must call setElement before trying to show the popup");this.reposition();var a=goog.dom.getOwnerDocument(this.element_);this.hideOnEscape_&&this.handler_.listen(a,goog.events.EventType.KEYDOWN,this.onDocumentKeyDown_,!0);if(this.autoHide_)if(this.handler_.listen(a,goog.events.EventType.MOUSEDOWN,this.onDocumentMouseDown_,!0),goog.userAgent.IE){var c;try{c=a.activeElement}catch(d){}for(;c&&
"IFRAME"==c.nodeName;){try{var e=goog.dom.getFrameContentDocument(c)}catch(f){break}a=e;c=a.activeElement}this.handler_.listen(a,goog.events.EventType.MOUSEDOWN,this.onDocumentMouseDown_,!0);this.handler_.listen(a,goog.events.EventType.DEACTIVATE,this.onDocumentBlur_)}else this.handler_.listen(a,goog.events.EventType.BLUR,this.onDocumentBlur_);this.type_==goog.ui.PopupBase.Type.TOGGLE_DISPLAY?this.showPopupElement():this.type_==goog.ui.PopupBase.Type.MOVE_OFFSCREEN&&this.reposition();this.isVisible_=
!0;if(this.showTransition_)goog.events.listenOnce(this.showTransition_,goog.fx.Transition.EventType.END,this.onShow_,!1,this),this.showTransition_.play();else this.onShow_()}};
goog.ui.PopupBase.prototype.hide_=function(a){if(!this.isVisible_||!this.onBeforeHide_(a))return!1;this.handler_&&this.handler_.removeAll();this.isVisible_=!1;this.lastHideTime_=goog.now();this.hideTransition_?(goog.events.listenOnce(this.hideTransition_,goog.fx.Transition.EventType.END,goog.partial(this.continueHidingPopup_,a),!1,this),this.hideTransition_.play()):this.continueHidingPopup_(a);return!0};
goog.ui.PopupBase.prototype.continueHidingPopup_=function(a){this.type_==goog.ui.PopupBase.Type.TOGGLE_DISPLAY?this.shouldHideAsync_?goog.Timer.callOnce(this.hidePopupElement_,0,this):this.hidePopupElement_():this.type_==goog.ui.PopupBase.Type.MOVE_OFFSCREEN&&this.moveOffscreen_();this.onHide_(a)};goog.ui.PopupBase.prototype.showPopupElement=function(){this.element_.style.visibility="visible";goog.style.showElement(this.element_,!0)};
goog.ui.PopupBase.prototype.hidePopupElement_=function(){this.element_.style.visibility="hidden";goog.style.showElement(this.element_,!1)};goog.ui.PopupBase.prototype.moveOffscreen_=function(){this.element_.style.top="-10000px"};goog.ui.PopupBase.prototype.onBeforeShow=function(){return this.dispatchEvent(goog.ui.PopupBase.EventType.BEFORE_SHOW)};goog.ui.PopupBase.prototype.onShow_=function(){this.lastShowTime_=goog.now();this.lastHideTime_=-1;this.dispatchEvent(goog.ui.PopupBase.EventType.SHOW)};
goog.ui.PopupBase.prototype.onBeforeHide_=function(a){return this.dispatchEvent({type:goog.ui.PopupBase.EventType.BEFORE_HIDE,target:a})};goog.ui.PopupBase.prototype.onHide_=function(a){this.dispatchEvent({type:goog.ui.PopupBase.EventType.HIDE,target:a})};goog.ui.PopupBase.prototype.onDocumentMouseDown_=function(a){a=a.target;!goog.dom.contains(this.element_,a)&&((!this.autoHideRegion_||goog.dom.contains(this.autoHideRegion_,a))&&!this.shouldDebounce_())&&this.hide_(a)};
goog.ui.PopupBase.prototype.onDocumentKeyDown_=function(a){a.keyCode==goog.events.KeyCodes.ESC&&this.hide_(a.target)&&(a.preventDefault(),a.stopPropagation())};goog.ui.PopupBase.prototype.onDocumentBlur_=function(a){if(this.enableCrossIframeDismissal_){var c=goog.dom.getOwnerDocument(this.element_);if(goog.userAgent.IE||goog.userAgent.OPERA){if(a=c.activeElement,!a||goog.dom.contains(this.element_,a)||"BODY"==a.tagName)return}else if(a.target!=c)return;this.shouldDebounce_()||this.hide_()}};
goog.ui.PopupBase.prototype.shouldDebounce_=function(){return goog.now()-this.lastShowTime_<goog.ui.PopupBase.DEBOUNCE_DELAY_MS};goog.ui.PopupBase.prototype.disposeInternal=function(){goog.ui.PopupBase.superClass_.disposeInternal.call(this);this.handler_.dispose();goog.dispose(this.showTransition_);goog.dispose(this.hideTransition_);delete this.element_;delete this.handler_};goog.ui.ModalPopup=function(a,c){goog.ui.Component.call(this,c);this.useIframeMask_=!!a};goog.inherits(goog.ui.ModalPopup,goog.ui.Component);goog.ui.ModalPopup.prototype.focusHandler_=null;goog.ui.ModalPopup.prototype.visible_=!1;goog.ui.ModalPopup.prototype.bgEl_=null;goog.ui.ModalPopup.prototype.bgIframeEl_=null;goog.ui.ModalPopup.prototype.tabCatcherElement_=null;goog.ui.ModalPopup.prototype.getCssClass=function(){return"i-modalpopup"};goog.ui.ModalPopup.prototype.getBackgroundIframe=function(){return this.bgIframeEl_};
goog.ui.ModalPopup.prototype.getBackgroundElement=function(){return this.bgEl_};goog.ui.ModalPopup.prototype.createDom=function(){goog.ui.ModalPopup.superClass_.createDom.call(this);var a=this.getElement();goog.dom.classes.add(a,this.getCssClass());goog.dom.setFocusableTabIndex(a,!0);goog.style.showElement(a,!1);this.manageBackgroundDom_();this.createTabCatcher_()};
goog.ui.ModalPopup.prototype.manageBackgroundDom_=function(){this.useIframeMask_&&!this.bgIframeEl_&&(this.bgIframeEl_=goog.dom.iframe.createBlank(this.getDomHelper()),this.bgIframeEl_.className=this.getCssClass()+"-n",goog.style.showElement(this.bgIframeEl_,!1),goog.style.setOpacity(this.bgIframeEl_,0));this.bgEl_||(this.bgEl_=this.getDomHelper().createDom("div",this.getCssClass()+"-n"),goog.style.showElement(this.bgEl_,!1))};
goog.ui.ModalPopup.prototype.createTabCatcher_=function(){this.tabCatcherElement_||(this.tabCatcherElement_=this.getDomHelper().createElement("span"),goog.style.showElement(this.tabCatcherElement_,!1),goog.dom.setFocusableTabIndex(this.tabCatcherElement_,!0),this.tabCatcherElement_.style.position="absolute")};
goog.ui.ModalPopup.prototype.renderBackground_=function(){goog.asserts.assert(!!this.bgEl_,"Background element must not be null.");this.bgIframeEl_&&goog.dom.insertSiblingBefore(this.bgIframeEl_,this.getElement());goog.dom.insertSiblingBefore(this.bgEl_,this.getElement())};goog.ui.ModalPopup.prototype.canDecorate=function(a){return!!a&&a.tagName==goog.dom.TagName.DIV};
goog.ui.ModalPopup.prototype.decorateInternal=function(a){goog.ui.ModalPopup.superClass_.decorateInternal.call(this,a);goog.dom.classes.add(this.getElement(),this.getCssClass());this.manageBackgroundDom_();this.createTabCatcher_();goog.style.showElement(this.getElement(),!1)};
goog.ui.ModalPopup.prototype.enterDocument=function(){this.renderBackground_();goog.ui.ModalPopup.superClass_.enterDocument.call(this);goog.dom.insertSiblingAfter(this.tabCatcherElement_,this.getElement());this.focusHandler_=new goog.events.FocusHandler(this.getDomHelper().getDocument());this.getHandler().listen(this.focusHandler_,goog.events.FocusHandler.EventType.FOCUSIN,this.onFocus_)};
goog.ui.ModalPopup.prototype.exitDocument=function(){this.isVisible()&&this.setVisible(!1);goog.dispose(this.focusHandler_);goog.ui.ModalPopup.superClass_.exitDocument.call(this);goog.dom.removeNode(this.bgIframeEl_);goog.dom.removeNode(this.bgEl_);goog.dom.removeNode(this.tabCatcherElement_)};
goog.ui.ModalPopup.prototype.setVisible=function(a){goog.asserts.assert(this.isInDocument(),"ModalPopup must be rendered first.");a!=this.visible_&&(this.popupShowTransition_&&this.popupShowTransition_.stop(),this.bgShowTransition_&&this.bgShowTransition_.stop(),this.popupHideTransition_&&this.popupHideTransition_.stop(),this.bgHideTransition_&&this.bgHideTransition_.stop(),a?this.show_():this.hide_())};
goog.ui.ModalPopup.prototype.setTransition=function(a,c,d,e){this.popupShowTransition_=a;this.popupHideTransition_=c;this.bgShowTransition_=d;this.bgHideTransition_=e};
goog.ui.ModalPopup.prototype.show_=function(){if(this.dispatchEvent(goog.ui.PopupBase.EventType.BEFORE_SHOW))if(this.resizeBackground_(),this.reposition(),this.getHandler().listen(this.getDomHelper().getWindow(),goog.events.EventType.RESIZE,this.resizeBackground_),this.showPopupElement_(!0),this.focus(),this.visible_=!0,this.popupShowTransition_&&this.bgShowTransition_)goog.events.listenOnce(this.popupShowTransition_,goog.fx.Transition.EventType.END,this.onShow,!1,this),this.bgShowTransition_.play(),
this.popupShowTransition_.play();else this.onShow()};
goog.ui.ModalPopup.prototype.hide_=function(){if(this.dispatchEvent(goog.ui.PopupBase.EventType.BEFORE_HIDE))if(this.getHandler().unlisten(this.getDomHelper().getWindow(),goog.events.EventType.RESIZE,this.resizeBackground_),this.visible_=!1,this.popupHideTransition_&&this.bgHideTransition_)goog.events.listenOnce(this.popupHideTransition_,goog.fx.Transition.EventType.END,this.onHide,!1,this),this.bgHideTransition_.play(),this.popupHideTransition_.play();else this.onHide()};
goog.ui.ModalPopup.prototype.showPopupElement_=function(a){this.bgIframeEl_&&goog.style.showElement(this.bgIframeEl_,a);this.bgEl_&&goog.style.showElement(this.bgEl_,a);goog.style.showElement(this.getElement(),a);goog.style.showElement(this.tabCatcherElement_,a)};goog.ui.ModalPopup.prototype.onShow=function(){this.dispatchEvent(goog.ui.PopupBase.EventType.SHOW)};goog.ui.ModalPopup.prototype.onHide=function(){this.showPopupElement_(!1);this.dispatchEvent(goog.ui.PopupBase.EventType.HIDE)};
goog.ui.ModalPopup.prototype.isVisible=function(){return this.visible_};goog.ui.ModalPopup.prototype.focus=function(){this.focusElement_()};
goog.ui.ModalPopup.prototype.resizeBackground_=function(){this.bgIframeEl_&&goog.style.showElement(this.bgIframeEl_,!1);this.bgEl_&&goog.style.showElement(this.bgEl_,!1);var a=this.getDomHelper().getDocument(),c=goog.dom.getWindow(a)||window,d=goog.dom.getViewportSize(c),c=Math.max(d.width,Math.max(a.body.scrollWidth,a.documentElement.scrollWidth)),a=Math.max(d.height,Math.max(a.body.scrollHeight,a.documentElement.scrollHeight));this.bgIframeEl_&&(goog.style.showElement(this.bgIframeEl_,!0),goog.style.setSize(this.bgIframeEl_,
c,a));this.bgEl_&&(goog.style.showElement(this.bgEl_,!0),goog.style.setSize(this.bgEl_,c,a))};
goog.ui.ModalPopup.prototype.reposition=function(){var a=this.getDomHelper().getDocument(),c=goog.dom.getWindow(a)||window;if("fixed"==goog.style.getComputedPosition(this.getElement()))var d=a=0;else d=this.getDomHelper().getDocumentScroll(),a=d.x,d=d.y;var e=goog.style.getSize(this.getElement()),c=goog.dom.getViewportSize(c),a=Math.max(a+c.width/2-e.width/2,0),d=Math.max(d+c.height/2-e.height/2,0);goog.style.setPosition(this.getElement(),a,d);goog.style.setPosition(this.tabCatcherElement_,a,d)};
goog.ui.ModalPopup.prototype.onFocus_=function(a){a.target==this.tabCatcherElement_&&goog.Timer.callOnce(this.focusElement_,0,this)};goog.ui.ModalPopup.prototype.focusElement_=function(){try{goog.userAgent.IE&&this.getDomHelper().getDocument().body.focus(),this.getElement().focus()}catch(a){}};
goog.ui.ModalPopup.prototype.disposeInternal=function(){goog.dispose(this.popupShowTransition_);this.popupShowTransition_=null;goog.dispose(this.popupHideTransition_);this.popupHideTransition_=null;goog.dispose(this.bgShowTransition_);this.bgShowTransition_=null;goog.dispose(this.bgHideTransition_);this.bgHideTransition_=null;goog.ui.ModalPopup.superClass_.disposeInternal.call(this)};goog.ui.Dialog=function(a,c,d){goog.ui.ModalPopup.call(this,c,d);this.class_=a||"k-l";this.buttons_=goog.ui.Dialog.ButtonSet.createOkCancel()};goog.inherits(goog.ui.Dialog,goog.ui.ModalPopup);goog.ui.Dialog.prototype.escapeToCancel_=!0;goog.ui.Dialog.prototype.hasTitleCloseButton_=!0;goog.ui.Dialog.prototype.modal_=!0;goog.ui.Dialog.prototype.draggable_=!0;goog.ui.Dialog.prototype.backgroundElementOpacity_=0.5;goog.ui.Dialog.prototype.title_="";goog.ui.Dialog.prototype.content_="";
goog.ui.Dialog.prototype.dragger_=null;goog.ui.Dialog.prototype.disposeOnHide_=!1;goog.ui.Dialog.prototype.titleEl_=null;goog.ui.Dialog.prototype.titleTextEl_=null;goog.ui.Dialog.prototype.titleId_=null;goog.ui.Dialog.prototype.titleCloseEl_=null;goog.ui.Dialog.prototype.contentEl_=null;goog.ui.Dialog.prototype.buttonEl_=null;goog.ui.Dialog.prototype.preferredAriaRole_=goog.dom.a11y.Role.DIALOG;goog.ui.Dialog.prototype.getCssClass=function(){return this.class_};
goog.ui.Dialog.prototype.setTitle=function(a){this.title_=a;this.titleTextEl_&&goog.dom.setTextContent(this.titleTextEl_,a)};goog.ui.Dialog.prototype.getTitle=function(){return this.title_};goog.ui.Dialog.prototype.setContent=function(a){this.content_=a;this.contentEl_&&(this.contentEl_.innerHTML=a)};goog.ui.Dialog.prototype.getContent=function(){return this.content_};goog.ui.Dialog.prototype.getPreferredAriaRole=function(){return this.preferredAriaRole_};
goog.ui.Dialog.prototype.setPreferredAriaRole=function(a){this.preferredAriaRole_=a};goog.ui.Dialog.prototype.renderIfNoDom_=function(){this.getElement()||this.render()};goog.ui.Dialog.prototype.getContentElement=function(){this.renderIfNoDom_();return this.contentEl_};goog.ui.Dialog.prototype.getTitleElement=function(){this.renderIfNoDom_();return this.titleEl_};goog.ui.Dialog.prototype.getTitleTextElement=function(){this.renderIfNoDom_();return this.titleTextEl_};
goog.ui.Dialog.prototype.getTitleCloseElement=function(){this.renderIfNoDom_();return this.titleCloseEl_};goog.ui.Dialog.prototype.getButtonElement=function(){this.renderIfNoDom_();return this.buttonEl_};goog.ui.Dialog.prototype.getDialogElement=function(){this.renderIfNoDom_();return this.getElement()};goog.ui.Dialog.prototype.getBackgroundElement=function(){this.renderIfNoDom_();return goog.ui.Dialog.superClass_.getBackgroundElement.call(this)};
goog.ui.Dialog.prototype.getBackgroundElementOpacity=function(){return this.backgroundElementOpacity_};goog.ui.Dialog.prototype.setBackgroundElementOpacity=function(a){this.backgroundElementOpacity_=a;this.getElement()&&(a=this.getBackgroundElement())&&goog.style.setOpacity(a,this.backgroundElementOpacity_)};goog.ui.Dialog.prototype.setModal=function(a){a!=this.modal_&&this.setModalInternal_(a)};
goog.ui.Dialog.prototype.setModalInternal_=function(a){this.modal_=a;if(this.isInDocument()){var c=this.getDomHelper(),d=this.getBackgroundElement(),e=this.getBackgroundIframe();a?(e&&c.insertSiblingBefore(e,this.getElement()),c.insertSiblingBefore(d,this.getElement())):(c.removeNode(e),c.removeNode(d))}};goog.ui.Dialog.prototype.getModal=function(){return this.modal_};goog.ui.Dialog.prototype.getClass=function(){return this.getCssClass()};
goog.ui.Dialog.prototype.setDraggable=function(a){this.draggable_=a;this.setDraggingEnabled_(a&&this.isInDocument())};goog.ui.Dialog.prototype.createDragger=function(){return new goog.fx.Dragger(this.getElement(),this.titleEl_)};goog.ui.Dialog.prototype.getDraggable=function(){return this.draggable_};
goog.ui.Dialog.prototype.setDraggingEnabled_=function(a){this.getElement()&&goog.dom.classes.enable(this.titleEl_,this.class_+"-a-draggable",a);a&&!this.dragger_?(this.dragger_=this.createDragger(),goog.dom.classes.add(this.titleEl_,this.class_+"-a-draggable"),goog.events.listen(this.dragger_,goog.fx.Dragger.EventType.START,this.setDraggerLimits_,!1,this)):!a&&this.dragger_&&(this.dragger_.dispose(),this.dragger_=null)};
goog.ui.Dialog.prototype.createDom=function(){goog.ui.Dialog.superClass_.createDom.call(this);var a=this.getElement();goog.asserts.assert(a,"getElement() returns null");var c=this.getDomHelper();this.titleEl_=c.createDom("div",{className:this.class_+"-a",id:this.getId()},this.titleTextEl_=c.createDom("span",this.class_+"-a-text",this.title_),this.titleCloseEl_=c.createDom("span",this.class_+"-a-o"));goog.dom.append(a,this.titleEl_,this.contentEl_=c.createDom("div",this.class_+"-q"),this.buttonEl_=
c.createDom("div",this.class_+"-p"));this.titleId_=this.titleEl_.id;goog.dom.a11y.setRole(a,this.getPreferredAriaRole());goog.dom.a11y.setState(a,"labelledby",this.titleId_||"");this.content_&&(this.contentEl_.innerHTML=this.content_);goog.style.showElement(this.titleCloseEl_,this.hasTitleCloseButton_);this.buttons_&&this.buttons_.attachToElement(this.buttonEl_);goog.style.showElement(this.buttonEl_,!!this.buttons_);this.setBackgroundElementOpacity(this.backgroundElementOpacity_)};
goog.ui.Dialog.prototype.decorateInternal=function(a){goog.ui.Dialog.superClass_.decorateInternal.call(this,a);a=this.class_+"-q";(this.contentEl_=goog.dom.getElementsByTagNameAndClass(null,a,this.getElement())[0])?this.content_=this.contentEl_.innerHTML:(this.contentEl_=this.getDomHelper().createDom("div",a),this.content_&&(this.contentEl_.innerHTML=this.content_),this.getElement().appendChild(this.contentEl_));var a=this.class_+"-a",c=this.class_+"-a-text",d=this.class_+"-a-o";(this.titleEl_=goog.dom.getElementsByTagNameAndClass(null,
a,this.getElement())[0])?(this.titleTextEl_=goog.dom.getElementsByTagNameAndClass(null,c,this.titleEl_)[0],this.titleCloseEl_=goog.dom.getElementsByTagNameAndClass(null,d,this.titleEl_)[0],this.titleEl_.id||(this.titleEl_.id=this.getId())):(this.titleEl_=this.getDomHelper().createDom("div",{className:a,id:this.getId()}),this.getElement().insertBefore(this.titleEl_,this.contentEl_));this.titleId_=this.titleEl_.id;this.titleTextEl_?this.title_=goog.dom.getTextContent(this.titleTextEl_):(this.titleTextEl_=
this.getDomHelper().createDom("span",c,this.title_),this.titleEl_.appendChild(this.titleTextEl_));goog.dom.a11y.setState(this.getElement(),"labelledby",this.titleId_||"");this.titleCloseEl_||(this.titleCloseEl_=this.getDomHelper().createDom("span",d),this.titleEl_.appendChild(this.titleCloseEl_));goog.style.showElement(this.titleCloseEl_,this.hasTitleCloseButton_);a=this.class_+"-p";(this.buttonEl_=goog.dom.getElementsByTagNameAndClass(null,a,this.getElement())[0])?(this.buttons_=new goog.ui.Dialog.ButtonSet(this.getDomHelper()),
this.buttons_.decorate(this.buttonEl_)):(this.buttonEl_=this.getDomHelper().createDom("div",a),this.getElement().appendChild(this.buttonEl_),this.buttons_&&this.buttons_.attachToElement(this.buttonEl_),goog.style.showElement(this.buttonEl_,!!this.buttons_));this.setBackgroundElementOpacity(this.backgroundElementOpacity_)};
goog.ui.Dialog.prototype.enterDocument=function(){goog.ui.Dialog.superClass_.enterDocument.call(this);this.getHandler().listen(this.getElement(),goog.events.EventType.KEYDOWN,this.onKey_).listen(this.getElement(),goog.events.EventType.KEYPRESS,this.onKey_);this.getHandler().listen(this.buttonEl_,goog.events.EventType.CLICK,this.onButtonClick_);this.setDraggingEnabled_(this.draggable_);this.getHandler().listen(this.titleCloseEl_,goog.events.EventType.CLICK,this.onTitleCloseClick_);goog.dom.a11y.setRole(this.getElement(),
this.getPreferredAriaRole());""!==this.titleTextEl_.id&&goog.dom.a11y.setState(this.getElement(),"labelledby",this.titleTextEl_.id);this.modal_||this.setModalInternal_(!1)};goog.ui.Dialog.prototype.exitDocument=function(){this.isVisible()&&this.setVisible(!1);this.setDraggingEnabled_(!1);goog.ui.Dialog.superClass_.exitDocument.call(this)};goog.ui.Dialog.prototype.setVisible=function(a){a!=this.isVisible()&&(this.isInDocument()||this.render(),goog.ui.Dialog.superClass_.setVisible.call(this,a))};
goog.ui.Dialog.prototype.onShow=function(){goog.ui.Dialog.superClass_.onShow.call(this);this.dispatchEvent(goog.ui.Dialog.EventType.AFTER_SHOW)};goog.ui.Dialog.prototype.onHide=function(){goog.ui.Dialog.superClass_.onHide.call(this);this.dispatchEvent(goog.ui.Dialog.EventType.AFTER_HIDE);this.disposeOnHide_&&this.dispose()};
goog.ui.Dialog.prototype.focus=function(){goog.ui.Dialog.superClass_.focus.call(this);if(this.getButtonSet()){var a=this.getButtonSet().getDefault();if(a)for(var c=this.getDomHelper().getDocument(),d=this.buttonEl_.getElementsByTagName("button"),e=0,f;f=d[e];e++)if(f.name==a){try{if(goog.userAgent.WEBKIT||goog.userAgent.OPERA){var h=c.createElement("input");h.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.getElement().appendChild(h);h.focus();this.getElement().removeChild(h)}f.focus()}catch(k){}break}}};
goog.ui.Dialog.prototype.setDraggerLimits_=function(){var a=this.getDomHelper().getDocument(),c=goog.dom.getWindow(a)||window,c=goog.dom.getViewportSize(c),d=Math.max(a.body.scrollWidth,c.width),a=Math.max(a.body.scrollHeight,c.height),e=goog.style.getSize(this.getElement());"fixed"==goog.style.getComputedPosition(this.getElement())?this.dragger_.setLimits(new goog.math.Rect(0,0,Math.max(0,c.width-e.width),Math.max(0,c.height-e.height))):this.dragger_.setLimits(new goog.math.Rect(0,0,d-e.width,a-
e.height))};goog.ui.Dialog.prototype.onTitleCloseClick_=function(){if(this.hasTitleCloseButton_){var a=this.getButtonSet(),c=a&&a.getCancel();c?(a=a.get(c),this.dispatchEvent(new goog.ui.Dialog.Event(c,a))&&this.setVisible(!1)):this.setVisible(!1)}};goog.ui.Dialog.prototype.getHasTitleCloseButton=function(){return this.hasTitleCloseButton_};goog.ui.Dialog.prototype.setHasTitleCloseButton=function(a){this.hasTitleCloseButton_=a;this.titleCloseEl_&&goog.style.showElement(this.titleCloseEl_,this.hasTitleCloseButton_)};
goog.ui.Dialog.prototype.isEscapeToCancel=function(){return this.escapeToCancel_};goog.ui.Dialog.prototype.setEscapeToCancel=function(a){this.escapeToCancel_=a};goog.ui.Dialog.prototype.setDisposeOnHide=function(a){this.disposeOnHide_=a};goog.ui.Dialog.prototype.getDisposeOnHide=function(){return this.disposeOnHide_};goog.ui.Dialog.prototype.disposeInternal=function(){this.buttonEl_=this.titleCloseEl_=null;goog.ui.Dialog.superClass_.disposeInternal.call(this)};
goog.ui.Dialog.prototype.setButtonSet=function(a){this.buttons_=a;this.buttonEl_&&(this.buttons_?this.buttons_.attachToElement(this.buttonEl_):this.buttonEl_.innerHTML="",goog.style.showElement(this.buttonEl_,!!this.buttons_))};goog.ui.Dialog.prototype.getButtonSet=function(){return this.buttons_};goog.ui.Dialog.prototype.onButtonClick_=function(a){if((a=this.findParentButton_(a.target))&&!a.disabled){var a=a.name,c=this.getButtonSet().get(a);this.dispatchEvent(new goog.ui.Dialog.Event(a,c))&&this.setVisible(!1)}};
goog.ui.Dialog.prototype.findParentButton_=function(a){for(;null!=a&&a!=this.buttonEl_;){if("BUTTON"==a.tagName)return a;a=a.parentNode}return null};
goog.ui.Dialog.prototype.onKey_=function(a){var c=!1,d=!1,e=this.getButtonSet(),f=a.target;if(a.type==goog.events.EventType.KEYDOWN)if(this.escapeToCancel_&&a.keyCode==goog.events.KeyCodes.ESC){var h=e&&e.getCancel(),f="SELECT"==f.tagName&&!f.disabled;h&&!f?(d=!0,c=e.get(h),c=this.dispatchEvent(new goog.ui.Dialog.Event(h,c))):f||(c=!0)}else a.keyCode==goog.events.KeyCodes.TAB&&(a.shiftKey&&f==this.getElement())&&(d=!0);else if(a.keyCode==goog.events.KeyCodes.ENTER){if("BUTTON"==f.tagName)h=f.name;
else if(e){var k=e.getDefault(),l=k&&e.getButton(k),f=("TEXTAREA"==f.tagName||"SELECT"==f.tagName)&&!f.disabled;l&&(!l.disabled&&!f)&&(h=k)}h&&e&&(d=!0,c=this.dispatchEvent(new goog.ui.Dialog.Event(h,String(e.get(h)))))}if(c||d)a.stopPropagation(),a.preventDefault();c&&this.setVisible(!1)};goog.ui.Dialog.Event=function(a,c){this.type=goog.ui.Dialog.EventType.SELECT;this.key=a;this.caption=c};goog.inherits(goog.ui.Dialog.Event,goog.events.Event);goog.ui.Dialog.SELECT_EVENT="dialogselect";
goog.ui.Dialog.EventType={SELECT:"dialogselect",AFTER_HIDE:"afterhide",AFTER_SHOW:"aftershow"};goog.ui.Dialog.ButtonSet=function(a){this.dom_=a||goog.dom.getDomHelper();goog.structs.Map.call(this)};goog.inherits(goog.ui.Dialog.ButtonSet,goog.structs.Map);goog.ui.Dialog.ButtonSet.prototype.class_="i-r";goog.ui.Dialog.ButtonSet.prototype.defaultButton_=null;goog.ui.Dialog.ButtonSet.prototype.element_=null;goog.ui.Dialog.ButtonSet.prototype.cancelButton_=null;
goog.ui.Dialog.ButtonSet.prototype.set=function(a,c,d,e){goog.structs.Map.prototype.set.call(this,a,c);d&&(this.defaultButton_=a);e&&(this.cancelButton_=a);return this};goog.ui.Dialog.ButtonSet.prototype.addButton=function(a,c,d){return this.set(a.key,a.caption,c,d)};goog.ui.Dialog.ButtonSet.prototype.attachToElement=function(a){this.element_=a;this.render()};
goog.ui.Dialog.ButtonSet.prototype.render=function(){if(this.element_){this.element_.innerHTML="";var a=goog.dom.getDomHelper(this.element_);goog.structs.forEach(this,function(c,d){var e=a.createDom("button",{name:d},c);d==this.defaultButton_&&(e.className=this.class_+"-s");this.element_.appendChild(e)},this)}};
goog.ui.Dialog.ButtonSet.prototype.decorate=function(a){if(a&&a.nodeType==goog.dom.NodeType.ELEMENT){this.element_=a;for(var a=this.element_.getElementsByTagName("button"),c=0,d,e,f;d=a[c];c++)if(e=d.name||d.id,f=goog.dom.getTextContent(d)||d.value,e){var h=0==c;this.set(e,f,h,d.name==goog.ui.Dialog.DefaultButtonKeys.CANCEL);h&&goog.dom.classes.add(d,this.class_+"-s")}}};goog.ui.Dialog.ButtonSet.prototype.getElement=function(){return this.element_};
goog.ui.Dialog.ButtonSet.prototype.getDomHelper=function(){return this.dom_};goog.ui.Dialog.ButtonSet.prototype.setDefault=function(a){this.defaultButton_=a};goog.ui.Dialog.ButtonSet.prototype.getDefault=function(){return this.defaultButton_};goog.ui.Dialog.ButtonSet.prototype.setCancel=function(a){this.cancelButton_=a};goog.ui.Dialog.ButtonSet.prototype.getCancel=function(){return this.cancelButton_};
goog.ui.Dialog.ButtonSet.prototype.getButton=function(a){for(var c=this.getAllButtons(),d=0,e;e=c[d];d++)if(e.name==a||e.id==a)return e;return null};goog.ui.Dialog.ButtonSet.prototype.getAllButtons=function(){return this.element_.getElementsByTagName(goog.dom.TagName.BUTTON)};goog.ui.Dialog.ButtonSet.prototype.setButtonEnabled=function(a,c){var d=this.getButton(a);d&&(d.disabled=!c)};
goog.ui.Dialog.ButtonSet.prototype.setAllButtonsEnabled=function(a){for(var c=this.getAllButtons(),d=0,e;e=c[d];d++)e.disabled=!a};goog.ui.Dialog.DefaultButtonKeys={OK:"ok",CANCEL:"cancel",YES:"yes",NO:"no",SAVE:"save",CONTINUE:"continue"};goog.ui.Dialog.MSG_DIALOG_OK_=goog.getMsg("OK");goog.ui.Dialog.MSG_DIALOG_CANCEL_=goog.getMsg("Cancel");goog.ui.Dialog.MSG_DIALOG_YES_=goog.getMsg("Yes");goog.ui.Dialog.MSG_DIALOG_NO_=goog.getMsg("No");goog.ui.Dialog.MSG_DIALOG_SAVE_=goog.getMsg("Save");
goog.ui.Dialog.MSG_DIALOG_CONTINUE_=goog.getMsg("Continue");goog.ui.Dialog.DefaultButtonCaptions={OK:goog.ui.Dialog.MSG_DIALOG_OK_,CANCEL:goog.ui.Dialog.MSG_DIALOG_CANCEL_,YES:goog.ui.Dialog.MSG_DIALOG_YES_,NO:goog.ui.Dialog.MSG_DIALOG_NO_,SAVE:goog.ui.Dialog.MSG_DIALOG_SAVE_,CONTINUE:goog.ui.Dialog.MSG_DIALOG_CONTINUE_};
goog.ui.Dialog.ButtonSet.DefaultButtons={OK:{key:goog.ui.Dialog.DefaultButtonKeys.OK,caption:goog.ui.Dialog.DefaultButtonCaptions.OK},CANCEL:{key:goog.ui.Dialog.DefaultButtonKeys.CANCEL,caption:goog.ui.Dialog.DefaultButtonCaptions.CANCEL},YES:{key:goog.ui.Dialog.DefaultButtonKeys.YES,caption:goog.ui.Dialog.DefaultButtonCaptions.YES},NO:{key:goog.ui.Dialog.DefaultButtonKeys.NO,caption:goog.ui.Dialog.DefaultButtonCaptions.NO},SAVE:{key:goog.ui.Dialog.DefaultButtonKeys.SAVE,caption:goog.ui.Dialog.DefaultButtonCaptions.SAVE},
CONTINUE:{key:goog.ui.Dialog.DefaultButtonKeys.CONTINUE,caption:goog.ui.Dialog.DefaultButtonCaptions.CONTINUE}};goog.ui.Dialog.ButtonSet.createOk=function(){return(new goog.ui.Dialog.ButtonSet).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.OK,!0,!0)};goog.ui.Dialog.ButtonSet.createOkCancel=function(){return(new goog.ui.Dialog.ButtonSet).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.OK,!0).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.CANCEL,!1,!0)};
goog.ui.Dialog.ButtonSet.createYesNo=function(){return(new goog.ui.Dialog.ButtonSet).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.YES,!0).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.NO,!1,!0)};goog.ui.Dialog.ButtonSet.createYesNoCancel=function(){return(new goog.ui.Dialog.ButtonSet).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.YES).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.NO,!0).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.CANCEL,!1,!0)};
goog.ui.Dialog.ButtonSet.createContinueSaveCancel=function(){return(new goog.ui.Dialog.ButtonSet).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.CONTINUE).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.SAVE).addButton(goog.ui.Dialog.ButtonSet.DefaultButtons.CANCEL,!0,!0)};
(function(){"undefined"!=typeof document&&(goog.ui.Dialog.ButtonSet.OK=goog.ui.Dialog.ButtonSet.createOk(),goog.ui.Dialog.ButtonSet.OK_CANCEL=goog.ui.Dialog.ButtonSet.createOkCancel(),goog.ui.Dialog.ButtonSet.YES_NO=goog.ui.Dialog.ButtonSet.createYesNo(),goog.ui.Dialog.ButtonSet.YES_NO_CANCEL=goog.ui.Dialog.ButtonSet.createYesNoCancel(),goog.ui.Dialog.ButtonSet.CONTINUE_SAVE_CANCEL=goog.ui.Dialog.ButtonSet.createContinueSaveCancel())})();var cryptagram={container:function(a,c){this.img=a;this.createStatus();a?(null==c&&(c=a.parentNode),c&&c.insertBefore(this.div,c.childNodes[0])):console.log("Bad Container")}};
cryptagram.container.prototype.createStatus=function(){this.div=goog.dom.createDom("div",{"class":"g"});this.div.style.display="none";this.div.style.position="absolute";this.div.style.width="50px";this.div.style.top="0px";this.div.style.marginLeft="-30px";this.div.style.marginTop="5px";this.div.style.padding="5px";this.div.style.color="black";this.div.style.left="50%";this.div.style.background="white";this.div.style.opacity="0.8";this.div.style.font="10px arial";this.div.style.textAlign="center";
this.div.style.borderRadius="3px";this.div.style.zIndex=100};cryptagram.container.prototype.remove=function(){this.div&&this.div.parentNode&&this.div.parentNode.removeChild(this.div)};cryptagram.container.prototype.getSrc=function(){return this.img.src};cryptagram.container.prototype.setSrc=function(a){this.img&&(this.previousSrc=this.img.src,this.img.src=a)};cryptagram.container.prototype.revertSrc=function(){this.previousSrc&&(this.img.src=this.previousSrc,this.previousSrc=null)};
cryptagram.container.prototype.setStatus=function(a){a?(this.div.style.display="inline-block",this.div.innerHTML=a):(this.div.innerHTML="Done",this.div.style.display="none",this.remove())};cryptagram.codec=function(){};cryptagram.codec.prototype.base64Values="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";cryptagram.codec.prototype.quality=0.74;cryptagram.codec.prototype.setImage=function(){};cryptagram.codec.prototype.test=function(a,c){var d=this.getHeader(a,c);this.logger.info("Header string: "+d);return d==this.name()};cryptagram.codec.prototype.decodeProgress=function(){return"Unknown"};
cryptagram.codec.prototype.decrypt=function(a){return this.cipher.decrypt(this.decodeData,a)};cryptagram.codec.prototype.encrypt=function(a,c){return this.cipher.encrypt(a,c)};cryptagram.codec.prototype.set_pixel=function(a,c,d,e,f){a=4*(a+c*this.width);this.data[a]=d;this.data[a+1]=e;this.data[a+2]=f;this.data[a+3]=255};cryptagram.codec.prototype.set_block=function(a,c,d){for(var e=0;e<this.blockSize;e++)for(var f=0;f<this.blockSize;f++)this.set_pixel(a+e,c+f,d,d,d)};
cryptagram.codec.prototype.getErrorCount=function(){return"unknown"};cryptagram.cipher=function(){};cryptagram.cipher.prototype.URIHeader="data:image/jpeg;base64,";cryptagram.RemoteLog=function(){this.publishHandler_=goog.bind(this.addLogRecord,this);this.formatter_=new goog.debug.TextFormatter;this.formatter_.showAbsoluteTime=!1;this.isCapturing_=this.formatter_.showExceptionText=!1;this.logBuffer_="";this.filteredLoggers_={}};cryptagram.RemoteLog.prototype.logger=goog.debug.Logger.getLogger("cryptagram.RemoteLog");cryptagram.RemoteLog.prototype.getFormatter=function(){return this.formatter_};
cryptagram.RemoteLog.prototype.setCapturing=function(a){if(a!=this.isCapturing_){this.logger.info("Remote Capture: "+a);var c=goog.debug.LogManager.getRoot();a?c.addHandler(this.publishHandler_):(c.removeHandler(this.publishHandler_),this.logBuffer="");this.isCapturing_=a}};
cryptagram.RemoteLog.prototype.addLogRecord=function(a){if(!this.filteredLoggers_[a.getLoggerName()]){var c=this.formatter_.formatRecord(a),d=cryptagram.RemoteLog.host_;d?a.getLevel()>=goog.debug.Logger.Level.SEVERE&&cryptagram.RemoteLog.logToRemoteLog_(d,"info",c):window.opera?window.opera.postError(c):this.logBuffer_+=c}};cryptagram.RemoteLog.prototype.addFilter=function(a){this.filteredLoggers_[a]=!0};cryptagram.RemoteLog.prototype.removeFilter=function(a){delete this.filteredLoggers_[a]};
cryptagram.RemoteLog.instance=null;cryptagram.RemoteLog.host_="cryptagr.am";cryptagram.RemoteLog.autoInstall=function(){cryptagram.RemoteLog.instance||(cryptagram.RemoteLog.instance=new cryptagram.RemoteLog);-1!=window.location.href.indexOf("Debug=true")&&cryptagram.RemoteLog.instance.setCapturing(!0)};cryptagram.RemoteLog.show=function(){alert(cryptagram.RemoteLog.instance.logBuffer_)};
cryptagram.RemoteLog.simpleLog=function(a){cryptagram.RemoteLog.logToRemoteLog_(cryptagram.RemoteLog.host_,"info",a)};cryptagram.RemoteLog.logToRemoteLog_=function(a,c,d){var e=new Date,f=new Image,a="http://"+a+"?ts="+e.getTime()+"&sev="+encodeURIComponent(c)+"&msg="+encodeURIComponent(d);cryptagram.RemoteLog.guid&&(a+="&guid="+cryptagram.RemoteLog.guid);f.src=a};cryptagram.cipher.aesthete=function(){};goog.inherits(cryptagram.cipher.aesthete,cryptagram.cipher);cryptagram.cipher.aesthete.prototype.logger=goog.debug.Logger.getLogger("cryptagram.cipher.aesthete");
cryptagram.cipher.aesthete.prototype.decrypt=function(a,c){var d=a.substring(0,64),e=a.substring(64,86),f=a.substring(86,97),h=a.substring(97,a.length),k=a.substring(64,a.length),k=sjcl.hash.sha256.hash(k),k=sjcl.codec.hex.fromBits(k);this.logger.info("Decrypting Image");this.logger.shout("DECRYPT_HASH_EMBED "+d);if(k!=d)this.logger.severe("DECRYPT_FAILED_HASH_CALC "+k);else{this.logger.info("Checksum passed.");d={};d.iv=e;d.salt=f;d.ct=h;var e=JSON.stringify(d),l;try{l=sjcl.decrypt(c,e)}catch(m){return this.logger.severe("DECRYPT_FAILED "+
k+" "+m.toString()),null}this.logger.shout("DECRYPT_OUT_LEN "+l.length);return this.URIHeader+l}};
cryptagram.cipher.aesthete.prototype.encrypt=function(a,c){var d=a.split("base64,")[1];this.logger.info("Start");var d=sjcl.encrypt(c,d),e=JSON.parse(d);this.logger.info("Stop");this.logger.info("iv");d=e.iv;this.logger.info("salt");var f=e.salt;this.logger.info("ct");e=e.ct;this.logger.info("to_hash");d=d+f+e;this.logger.info("Hashing");f=sjcl.hash.sha256.hash(d);this.logger.info("fromBits");f=sjcl.codec.hex.fromBits(f);this.logger.shout("ENCRYPTED_HASH "+f);return f+d};cryptagram.codec.aesthete=function(){this.blockSize=2;this.symbol_thresholds=[238,210,182,154,126,98,70,42,14];this.cipher=new cryptagram.cipher.aesthete};goog.inherits(cryptagram.codec.aesthete,cryptagram.codec);cryptagram.codec.aesthete.prototype.logger=goog.debug.Logger.getLogger("cryptagram.codec.aesthete");cryptagram.codec.aesthete.prototype.name=function(){return"aesthete"};cryptagram.codec.aesthete.prototype.processImage=function(){};
cryptagram.codec.aesthete.prototype.set_pixel=function(a,c,d,e,f){a=4*(a+c*this.width);this.data[a]=d;this.data[a+1]=e;this.data[a+2]=f;this.data[a+3]=255};cryptagram.codec.aesthete.prototype.set_block=function(a,c,d){for(var e=0;e<this.blockSize;e++)for(var f=0;f<this.blockSize;f++)this.set_pixel(a+e,c+f,d,d,d)};cryptagram.codec.aesthete.maxBase64Values=function(a,c){return Math.floor(((1>=a?Math.floor(c*a):Math.floor(c/a))*c-64-736)/8)};
cryptagram.codec.aesthete.dimensions=function(a,c){if(!("number"!==typeof a||"number"!==typeof c)){a="undefined"!==typeof a?a:1;header_string="undefined"!==typeof header_string?header_string:"aesthete";block_width="undefined"!==typeof block_width?block_width:2;block_height="undefined"!==typeof block_height?block_height:2;var d=Math.ceil(Math.sqrt(2*header_string.length));0!=d%2&&d++;var d=d*block_width*d*block_height,e=4+Math.ceil(2*(92+1.33*c)),d=Math.sqrt((block_width*block_height*e+d)/a),e=Math.ceil(a*
d),d=Math.ceil(Math.ceil(d)/block_height)*block_height,e=2*Math.ceil(e/(2*block_width))*block_width;return{width:e,height:d}}};
cryptagram.codec.aesthete.prototype.encode=function(a,c,d,e,f){function h(a,c){var d=k.base64Values.indexOf(a),e=d%8;c.push(Math.floor(d/8));c.push(e)}c="undefined"!==typeof c?c:1;d="undefined"!==typeof d?d:"aesthete";e="undefined"!==typeof e?e:2;f="undefined"!==typeof f?f:2;n_header_symbols=d.length;for(var k=this,l=[],m=0;m<d.length;m++)h(d[m],l);d=[];for(m=0;m<a.length;m++)h(a[m],d);var a=l.length,n=Math.ceil(Math.sqrt(a));0!=n%2&&n++;var p=n*e,m=n*f,n=d.length,q=Math.sqrt((e*f*n+p*m)/c),u=Math.ceil(c*
q),q=Math.ceil(Math.ceil(q)/f)*f,u=2*Math.ceil(u/(2*e))*e,c=document.createElement("canvas");c.width=u;c.height=q;var G=c.getContext("2d"),q=G.createImageData(u,q);this.data=q.data;this.width=u;for(var I,K,C=0;C<m;C+=f)for(var F=0;F<p;F+=e)I=F/e+C/f*(p/e),K=8,I<a&&(K=this.symbol_thresholds[l[I]]),this.set_block(F,C,K);n_header_row_symbols_wide=(u-p)/e;n_header_row_symbols=n_header_row_symbols_wide*(m/f);n_symbols_in_full_row=u/e;for(m=0;m<n;m++)octal=d[m],K=this.symbol_thresholds[octal],m<n_header_row_symbols?
(l=Math.floor(m/n_header_row_symbols_wide),F=m-l*n_header_row_symbols_wide,F=p+F*e):(F=m+a,l=Math.floor(F/n_symbols_in_full_row),F-=l*n_symbols_in_full_row,F*=e),C=l*f,this.set_block(F,C,K);G.putImageData(q,0,0);e=new Image;e.src=c.toDataURL("image/jpeg",this.quality);return e};
cryptagram.codec.aesthete.prototype.getHeader=function(a,c){var d="";for(y=0;8>y;y+=this.blockSize)for(x=0;8>x;x+=2*this.blockSize)base8_0=this.getBase8Value(a,c,x,y),base8_1=this.getBase8Value(a,c,x+this.blockSize,y),base64Num=8*base8_0+base8_1,base64=this.base64Values.charAt(base64Num),d+=base64;return d};
cryptagram.codec.aesthete.prototype.getBase8Value=function(a,c,d,e){var f=0,h=0;for(i=0;i<this.blockSize;i++)for(j=0;j<this.blockSize;j++)base=(e+j)*a.width+(d+i),green=c[4*base+1],h+=green,f++;v=h/f;a=Math.floor(v/28);return 0==a?-1:8<a?0:8-a};cryptagram.codec.aesthete.prototype.decodeProgress=function(){return this.y/this.img.height};
cryptagram.codec.aesthete.prototype.setDecodeParams=function(a,c){this.count=0;this.headerSize=4*this.blockSize;this.chunkSize=10;this.y=0;this.img=a;this.imageData=c;this.decodeData=""};
cryptagram.codec.aesthete.prototype.getChunk=function(){var a="";if(this.y>=this.img.height)return!1;for(var c=0;c<this.chunkSize;){for(var d=0;d<this.img.width;d+=2*this.blockSize)if(!(this.y<this.headerSize&&d<this.headerSize)){base8_0=this.getBase8Value(this.img,this.imageData,d,this.y);base8_1=this.getBase8Value(this.img,this.imageData,d+this.blockSize,this.y);if(-1==base8_0||-1==base8_1)return this.y=this.img.height,this.decodeData+=a,!0;base64Num=8*base8_0+base8_1;base64=this.base64Values.charAt(base64Num);
a+=base64}this.y+=this.blockSize;c++;if(this.y>=this.img.height)break}this.decodeData+=a;return!0};cryptagram.cipher.bacchant=function(){};goog.inherits(cryptagram.cipher.bacchant,cryptagram.cipher);cryptagram.cipher.bacchant.prototype.logger=goog.debug.Logger.getLogger("cryptagram.cipher.bacchant");
cryptagram.cipher.bacchant.prototype.decrypt=function(a,c){this.logger.shout("DECRYPT_START "+a.length);var d=a.substring(0,32),e=a.substring(32,54),f=a.substring(54,65),h=a.substring(65,a.length),k=CryptoJS.MD5(e+f+h);this.logger.info("Decrypting image with hash "+k);if(k!=d)this.logger.severe("DECRYPT_FAILED_HASH_EMBED_CALC "+d+" "+k);else{this.logger.info("Checksum passed.");d={};d.iv=e;d.salt=f;d.ct=h;var e=JSON.stringify(d),l;try{l=sjcl.decrypt(c,e)}catch(m){return this.logger.severe("DECRYPT_FAILED "+
k+" "+m.toString()),null}this.logger.shout("DECRYPT_DONE "+k+" "+a.length+" "+l.length);return this.URIHeader+l}};cryptagram.cipher.bacchant.prototype.encrypt=function(a,c){var d=a.split("base64,")[1];this.logger.shout("ENCRYPT_START "+a.length);var d=sjcl.encrypt(c,d),d=JSON.parse(d),d=d.iv+d.salt+d.ct,e=CryptoJS.MD5(d);this.logger.shout("ENCRYPT_FINISH "+e);return e+d};cryptagram.codec.bacchant=function(a){this.blockSize=2;this.quality=a;this.symbol_thresholds=[0,36,72,109,145,182,218,255];this.cipher=new cryptagram.cipher.bacchant};goog.inherits(cryptagram.codec.bacchant,cryptagram.codec);cryptagram.codec.bacchant.prototype.logger=goog.debug.Logger.getLogger("cryptagram.codec.bacchant");cryptagram.codec.bacchant.prototype.name=function(){return"bacchant"};
cryptagram.codec.bacchant.prototype.encode=function(a,c,d,e,f){function h(a,c){var d=l.base64Values.indexOf(a),e=d%8;c.push(Math.floor(d/8));c.push(e)}for(var k=(new Date).getTime(),c="undefined"!==typeof c?c:1,d="undefined"!==typeof d?d:this.name(),e="undefined"!==typeof e?e:this.blockSize,f="undefined"!==typeof f?f:this.blockSize,l=this,l=this,m=[],n=0;n<d.length;n++)h(d[n],m);d=[];for(n=0;n<a.length;n++)h(a[n],d);this.lastOctal=d;this.lastOctalString=d.join("");for(d=""+a.length;8>d.length;)d=
"0"+d;for(var a=d+a,p=[],n=0;n<a.length;n++)h(a[n],p);var q=m.length,a=Math.ceil(Math.sqrt(q));0!=a%2&&a++;var u=a*e,n=a*f,G=p.length,I=Math.sqrt((e*f*G+u*n)/c),K=Math.ceil(c*I),I=Math.ceil(Math.ceil(I)/f)*f,K=2*Math.ceil(K/(2*e))*e,c=document.createElement("canvas");c.width=K;c.height=I;a=c.getContext("2d");d=a.createImageData(K,I);this.data=d.data;this.width=K;this.height=I;for(var C,F,H=0;H<n;H+=f)for(var L=0;L<u;L+=e)C=L/e+H/f*(u/e),F=8,C<q&&(F=this.symbol_thresholds[m[C]]),this.set_block(L,H,
F);m=(K-u)/e;C=m*(n/f);for(var J=K/e,D,M,n=0;n<G;n++)F=this.symbol_thresholds[p[n]],n<C?(M=Math.floor(n/m),D=n-M*m,L=u+D*e):(D=n+q,M=Math.floor(D/J),D-=M*J,L=D*e),H=M*f,this.set_block(L,H,F);p=K/e;for(I/=f;;){D++;D>=p&&(D=0,M++);if(M>=I)break;F=Math.floor(8*Math.random());F=this.symbol_thresholds[F];this.set_block(D*e,M*f,F)}a.putImageData(d,0,0);e=new Image;this.logger.info("JPEG quality "+this.quality);e.src=c.toDataURL("image/jpeg",this.quality);k=(new Date).getTime()-k;this.logger.info("Encoded in: "+
k+" ms");return e};cryptagram.codec.bacchant.maxBase64Values=function(a,c){return Math.floor(0.75*(((1>=a?Math.floor(c*a):Math.floor(c/a))*c-64-256-736-32)/8))};
cryptagram.codec.bacchant.dimensions=function(a,c){if(!("number"!==typeof a||"number"!==typeof c)){var a="undefined"!==typeof a?a:1,d="undefined"!==typeof d?d:2,e="undefined"!==typeof e?e:2,f=Math.ceil(Math.sqrt(16));0!=f%2&&f++;var f=f*d*f*e,h=Math.ceil(2*(73+1.33*c)),f=Math.sqrt((d*e*h+f)/a),h=Math.ceil(a*f),f=Math.ceil(Math.ceil(f)/e)*e,h=4+2*Math.ceil(h/(2*d))*d;return{width:h,height:f}}};
cryptagram.codec.bacchant.prototype.getHeader=function(a,c){for(var d="",e=4*this.blockSize,f=0;f<e;f+=this.blockSize)for(var h=0;h<e;h+=2*this.blockSize)var k=this.getBase8Value(a,c,h,f),l=this.getBase8Value(a,c,h+this.blockSize,f),k=this.base64Values.charAt(8*k+l),d=d+k;return d};
cryptagram.codec.bacchant.prototype.getBase8Value=function(a,c,d,e){for(var f=0,h=0,k=0;k<this.blockSize;k++)for(var l=0;l<this.blockSize;l++){var m=(e+l)*a.width+(d+k),h=h+(0.299*c[4*m]+0.587*c[4*m+1]+0.114*c[4*m+2]);f++}a=Math.round(h/f/(255/7));7<=a&&(a=7);return a};cryptagram.codec.bacchant.prototype.decodeProgress=function(){return this.y/this.img.height};
cryptagram.codec.bacchant.prototype.setDecodeParams=function(a,c){this.count=0;this.chunkSize=10;this.y=0;this.img=a;this.imageData=c;this.lengthString="";this.errorCount=0;this.decodeData=""};
cryptagram.codec.bacchant.prototype.getChunk=function(){var a="";if(this.count>=this.length||this.y>=this.img.height)return!1;for(var c=0,d=4*this.blockSize;c<this.chunkSize;){for(var e=0;e<this.img.width&&!(this.count>=this.length);e+=2*this.blockSize)if(!(this.y<d&&e<d)){var f=this.getBase8Value(this.img,this.imageData,e,this.y),h=this.getBase8Value(this.img,this.imageData,e+this.blockSize,this.y),f=this.base64Values.charAt(8*f+h);0==this.y&&e<d+16*this.blockSize?this.lengthString+=f:(a+=f,this.count++,
null==this.length&&(this.length=parseInt(this.lengthString,10)))}if(this.y>=this.img.height)break;this.y+=this.blockSize;c++}this.decodeData+=a;return!0};cryptagram.storage=function(a){this.lookup=this.callback=null;this.media=a};cryptagram.storage.prototype.logger=goog.debug.Logger.getLogger("cryptagram.storage");cryptagram.storage.prototype.load=function(a){this.lookup=a};
cryptagram.storage.prototype.getPasswordForURL=function(a){var c=this.media.getPhotoName(a),a=this.media.getAlbumName(a);this.logger.info("Looking up password for photo: "+c+" ("+a+")");var d=null,e=null;c&&(d=this.lookup[c]);a&&(e=this.lookup[a]);return d?(this.logger.info("Found photo password."),d):e?(this.logger.info("Found album password."),e):null};
cryptagram.storage.prototype.autoDecrypt=function(){var a=this.media.getImages();a&&this.logger.info("Checking "+a.length+" images against saved passwords.");for(i=0;i<a.length;i++){var c=a[i].src,d=this.getPasswordForURL(c);if(d){cryptagram.decryptByURL(c,d);break}}};cryptagram.storage.prototype.demoAlbums={"fb_album://10100510996964783.2462710":"cat","fb_album://10100511600280733.2462712":"cryptagram","fb_album://10100516285860793.2462807":"cryptagram","g+_album://5842300427612841233":"cat","g+_album://5842299216653911073":"cryptagram"};
cryptagram.storage.prototype.demoPhotos={"http://cryptagr.am/encoded_1.jpg":"cryptagram","http://cryptagr.am/encoded_2.jpg":"cryptagram"};cryptagram.storage.prototype.getDemoPasswordForURL=function(a){var c=this.media.getPhotoName(a);if(a=this.media.getAlbumName(a))if(a=this.demoAlbums[a])return this.logger.info("Found demo album password."),a;return c&&(c=this.demoPhotos[c])?(this.logger.info("Found demo photo password."),c):null};cryptagram.decoder=function(a,c){this.container=a;c&&c.password&&(this.password=c.password);goog.events.EventTarget.call(this)};goog.inherits(cryptagram.decoder,goog.events.EventTarget);cryptagram.decoder.prototype.logger=goog.debug.Logger.getLogger("cryptagram.decoder");
cryptagram.decoder.prototype.decodeData=function(a,c,d){var e=this;e.callback=d;var f=document.createElement("canvas"),h=f.getContext("2d"),k=new Image;k.onload=function(){f.width=k.width;f.height=k.height;h.drawImage(k,0,0);var a=h.getImageData(0,0,f.width,f.height).data;e.codec=c?c:e.getCodec(k,a);e.codec?(e.data="",e.codec.setDecodeParams(k,a),e.timeA=(new Date).getTime(),e.processImage()):e.container.setStatus()};k.src=a};
cryptagram.decoder.prototype.decodeDataWithQuality=function(a,c,d){var e=this;e.callback=d;var f=document.createElement("canvas"),h=f.getContext("2d"),k=new Image;k.onload=function(){f.width=k.width;f.height=k.height;h.drawImage(k,0,0);var a=new Image;a.onload=function(){var d=document.createElement("canvas"),h=f.getContext("2d");d.width=k.width;d.height=k.height;h.drawImage(a,0,0);d=h.getImageData(0,0,f.width,f.height).data;e.codec=c?c:e.getCodec(k,d);e.codec?(e.data="",e.codec.setDecodeParams(k,
d),e.timeA=(new Date).getTime(),e.processImage()):e.container.setStatus()};a.src=f.toDataURL("image/jpeg",e.quality)};k.src=a};cryptagram.decoder.prototype.getCodec=function(a,c){for(var d=[cryptagram.codec.aesthete,cryptagram.codec.bacchant],e,f=0;f<d.length;f++)if(e=new d[f],e.test(a,c))return this.logger.shout("CODEC "+e.name()),e;this.logger.severe("UNKNOWN_CODEC");return null};
cryptagram.decoder.prototype.processImage=function(){if(this.codec.getChunk()){var a=Math.round(100*this.codec.decodeProgress(),2);this.container.setStatus("Decode<br>"+a+"%");var c=this;setTimeout(function(){c.processImage()},1)}else this.elapsed=(new Date).getTime()-this.timeA,this.logger.shout("DECODE_LEN_ELAPSED_MS "+this.codec.decodeData.length+" "+this.elapsed),this.container.setStatus(),this.logger.shout("PROCESS_IMAGE_DECRYPT_START "+this.codec.decodeData.length),a=this.codec.decrypt(this.password),
this.logger.shout("PROCESS_IMAGE_DECRYPT_FINISH "+this.codec.decodeData.length),this.callback(a)};cryptagram.decoder.prototype.loadFile=function(a){var c=this,d=new FileReader;d.onerror=cryptagram.encoder.show_error;d.onload=function(a){var d=new Image;d.src=a.target.result;d.file=c.files[0].name;c.images.push(d);c.files.splice(0,1);c.dispatchEvent({type:"IMAGE_LOADED",image:d,remaining:c.files.length})};d.readAsDataURL(a)};
cryptagram.decoder.prototype.queueFiles=function(a){var c=this;c.files=[];c.images=[];for(var d in a)0==(""+a[d].type).indexOf("image/")&&c.files.push(a[d]);goog.events.listen(this,"IMAGE_LOADED",function(){0<c.files.length&&c.loadFile(c.files[0])},!0,this);0<c.files.length&&this.loadFile(c.files[0])};goog.json={};goog.json.isValid_=function(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))};goog.json.parse=function(a){a=String(a);if(goog.json.isValid_(a))try{return eval("("+a+")")}catch(c){}throw Error("Invalid JSON string: "+a);};
goog.json.unsafeParse=function(a){return eval("("+a+")")};goog.json.serialize=function(a,c){return(new goog.json.Serializer(c)).serialize(a)};goog.json.Serializer=function(a){this.replacer_=a};goog.json.Serializer.prototype.serialize=function(a){var c=[];this.serialize_(a,c);return c.join("")};
goog.json.Serializer.prototype.serialize_=function(a,c){switch(typeof a){case "string":this.serializeString_(a,c);break;case "number":this.serializeNumber_(a,c);break;case "boolean":c.push(a);break;case "undefined":c.push("null");break;case "object":if(null==a){c.push("null");break}if(goog.isArray(a)){this.serializeArray(a,c);break}this.serializeObject_(a,c);break;case "function":break;default:throw Error("Unknown type: "+typeof a);}};
goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"};goog.json.Serializer.charsToReplace_=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
goog.json.Serializer.prototype.serializeString_=function(a,c){c.push('"',a.replace(goog.json.Serializer.charsToReplace_,function(a){if(a in goog.json.Serializer.charToJsonCharCache_)return goog.json.Serializer.charToJsonCharCache_[a];var c=a.charCodeAt(0),f="\\u";16>c?f+="000":256>c?f+="00":4096>c&&(f+="0");return goog.json.Serializer.charToJsonCharCache_[a]=f+c.toString(16)}),'"')};goog.json.Serializer.prototype.serializeNumber_=function(a,c){c.push(isFinite(a)&&!isNaN(a)?a:"null")};
goog.json.Serializer.prototype.serializeArray=function(a,c){var d=a.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=a[f],this.serialize_(this.replacer_?this.replacer_.call(a,String(f),e):e,c),e=",";c.push("]")};
goog.json.Serializer.prototype.serializeObject_=function(a,c){c.push("{");var d="",e;for(e in a)if(Object.prototype.hasOwnProperty.call(a,e)){var f=a[e];"function"!=typeof f&&(c.push(d),this.serializeString_(e,c),c.push(":"),this.serialize_(this.replacer_?this.replacer_.call(a,e,f):f,c),d=",")}c.push("}")};goog.net={};goog.net.ErrorCode={NO_ERROR:0,ACCESS_DENIED:1,FILE_NOT_FOUND:2,FF_SILENT_ERROR:3,CUSTOM_ERROR:4,EXCEPTION:5,HTTP_ERROR:6,ABORT:7,TIMEOUT:8,OFFLINE:9};
goog.net.ErrorCode.getDebugMessage=function(a){switch(a){case goog.net.ErrorCode.NO_ERROR:return"No Error";case goog.net.ErrorCode.ACCESS_DENIED:return"Access denied to content document";case goog.net.ErrorCode.FILE_NOT_FOUND:return"File not found";case goog.net.ErrorCode.FF_SILENT_ERROR:return"Firefox silently errored";case goog.net.ErrorCode.CUSTOM_ERROR:return"Application custom error";case goog.net.ErrorCode.EXCEPTION:return"An exception occurred";case goog.net.ErrorCode.HTTP_ERROR:return"Http response at 400 or 500 level";
case goog.net.ErrorCode.ABORT:return"Request was aborted";case goog.net.ErrorCode.TIMEOUT:return"Request timed out";case goog.net.ErrorCode.OFFLINE:return"The resource is not available offline";default:return"Unrecognized error code"}};goog.net.EventType={COMPLETE:"complete",SUCCESS:"success",ERROR:"error",ABORT:"abort",READY:"ready",READY_STATE_CHANGE:"readystatechange",TIMEOUT:"timeout",INCREMENTAL_DATA:"incrementaldata",PROGRESS:"progress"};goog.net.HttpStatus={CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,
PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUEST_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,QUIRK_IE_NO_CONTENT:1223};
goog.net.HttpStatus.isSuccess=function(a){switch(a){case goog.net.HttpStatus.OK:case goog.net.HttpStatus.CREATED:case goog.net.HttpStatus.ACCEPTED:case goog.net.HttpStatus.NO_CONTENT:case goog.net.HttpStatus.NOT_MODIFIED:case goog.net.HttpStatus.QUIRK_IE_NO_CONTENT:return!0;default:return!1}};goog.net.XmlHttpFactory=function(){};goog.net.XmlHttpFactory.prototype.cachedOptions_=null;goog.net.XmlHttpFactory.prototype.getOptions=function(){return this.cachedOptions_||(this.cachedOptions_=this.internalGetOptions())};goog.net.WrapperXmlHttpFactory=function(a,c){goog.net.XmlHttpFactory.call(this);this.xhrFactory_=a;this.optionsFactory_=c};goog.inherits(goog.net.WrapperXmlHttpFactory,goog.net.XmlHttpFactory);goog.net.WrapperXmlHttpFactory.prototype.createInstance=function(){return this.xhrFactory_()};goog.net.WrapperXmlHttpFactory.prototype.getOptions=function(){return this.optionsFactory_()};goog.net.XmlHttp=function(){return goog.net.XmlHttp.factory_.createInstance()};goog.net.XmlHttp.ASSUME_NATIVE_XHR=!1;goog.net.XmlHttp.getOptions=function(){return goog.net.XmlHttp.factory_.getOptions()};goog.net.XmlHttp.OptionType={USE_NULL_FUNCTION:0,LOCAL_REQUEST_ERROR:1};goog.net.XmlHttp.ReadyState={UNINITIALIZED:0,LOADING:1,LOADED:2,INTERACTIVE:3,COMPLETE:4};goog.net.XmlHttp.setFactory=function(a,c){goog.net.XmlHttp.setGlobalFactory(new goog.net.WrapperXmlHttpFactory(a,c))};
goog.net.XmlHttp.setGlobalFactory=function(a){goog.net.XmlHttp.factory_=a};goog.net.DefaultXmlHttpFactory=function(){goog.net.XmlHttpFactory.call(this)};goog.inherits(goog.net.DefaultXmlHttpFactory,goog.net.XmlHttpFactory);goog.net.DefaultXmlHttpFactory.prototype.createInstance=function(){var a=this.getProgId_();return a?new ActiveXObject(a):new XMLHttpRequest};
goog.net.DefaultXmlHttpFactory.prototype.internalGetOptions=function(){var a={};this.getProgId_()&&(a[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION]=!0,a[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]=!0);return a};
goog.net.DefaultXmlHttpFactory.prototype.getProgId_=function(){if(goog.net.XmlHttp.ASSUME_NATIVE_XHR)return"";if(!this.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<a.length;c++){var d=a[c];try{return new ActiveXObject(d),this.ieProgId_=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return this.ieProgId_};
goog.net.XmlHttp.setGlobalFactory(new goog.net.DefaultXmlHttpFactory);goog.uri={};goog.uri.utils={};goog.uri.utils.CharCode_={AMPERSAND:38,EQUAL:61,HASH:35,QUESTION:63};goog.uri.utils.buildFromEncodedParts=function(a,c,d,e,f,h,k){var l="";a&&(l+=a+":");d&&(l+="//",c&&(l+=c+"@"),l+=d,e&&(l+=":"+e));f&&(l+=f);h&&(l+="?"+h);k&&(l+="#"+k);return l};goog.uri.utils.splitRe_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");
goog.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};goog.uri.utils.split=function(a){return a.match(goog.uri.utils.splitRe_)};goog.uri.utils.decodeIfPossible_=function(a){return a&&decodeURIComponent(a)};goog.uri.utils.getComponentByIndex_=function(a,c){return goog.uri.utils.split(c)[a]||null};goog.uri.utils.getScheme=function(a){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME,a)};
goog.uri.utils.getEffectiveScheme=function(a){a=goog.uri.utils.getScheme(a);!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1));return a?a.toLowerCase():""};goog.uri.utils.getUserInfoEncoded=function(a){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO,a)};goog.uri.utils.getUserInfo=function(a){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(a))};
goog.uri.utils.getDomainEncoded=function(a){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN,a)};goog.uri.utils.getDomain=function(a){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(a))};goog.uri.utils.getPort=function(a){return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT,a))||null};goog.uri.utils.getPathEncoded=function(a){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH,a)};
goog.uri.utils.getPath=function(a){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(a))};goog.uri.utils.getQueryData=function(a){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA,a)};goog.uri.utils.getFragmentEncoded=function(a){var c=a.indexOf("#");return 0>c?null:a.substr(c+1)};goog.uri.utils.setFragmentEncoded=function(a,c){return goog.uri.utils.removeFragment(a)+(c?"#"+c:"")};goog.uri.utils.getFragment=function(a){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(a))};
goog.uri.utils.getHost=function(a){a=goog.uri.utils.split(a);return goog.uri.utils.buildFromEncodedParts(a[goog.uri.utils.ComponentIndex.SCHEME],a[goog.uri.utils.ComponentIndex.USER_INFO],a[goog.uri.utils.ComponentIndex.DOMAIN],a[goog.uri.utils.ComponentIndex.PORT])};goog.uri.utils.getPathAndAfter=function(a){a=goog.uri.utils.split(a);return goog.uri.utils.buildFromEncodedParts(null,null,null,null,a[goog.uri.utils.ComponentIndex.PATH],a[goog.uri.utils.ComponentIndex.QUERY_DATA],a[goog.uri.utils.ComponentIndex.FRAGMENT])};
goog.uri.utils.removeFragment=function(a){var c=a.indexOf("#");return 0>c?a:a.substr(0,c)};goog.uri.utils.haveSameDomain=function(a,c){var d=goog.uri.utils.split(a),e=goog.uri.utils.split(c);return d[goog.uri.utils.ComponentIndex.DOMAIN]==e[goog.uri.utils.ComponentIndex.DOMAIN]&&d[goog.uri.utils.ComponentIndex.SCHEME]==e[goog.uri.utils.ComponentIndex.SCHEME]&&d[goog.uri.utils.ComponentIndex.PORT]==e[goog.uri.utils.ComponentIndex.PORT]};
goog.uri.utils.assertNoFragmentsOrQueries_=function(a){if(goog.DEBUG&&(0<=a.indexOf("#")||0<=a.indexOf("?")))throw Error("goog.uri.utils: Fragment or query identifiers are not supported: ["+a+"]");};goog.uri.utils.appendQueryData_=function(a){if(a[1]){var c=a[0],d=c.indexOf("#");0<=d&&(a.push(c.substr(d)),a[0]=c=c.substr(0,d));d=c.indexOf("?");0>d?a[1]="?":d==c.length-1&&(a[1]=void 0)}return a.join("")};
goog.uri.utils.appendKeyValuePairs_=function(a,c,d){if(goog.isArray(c)){goog.asserts.assertArray(c);for(var e=0;e<c.length;e++)goog.uri.utils.appendKeyValuePairs_(a,String(c[e]),d)}else null!=c&&d.push("&",a,""===c?"":"=",goog.string.urlEncode(c))};goog.uri.utils.buildQueryDataBuffer_=function(a,c,d){goog.asserts.assert(0==Math.max(c.length-(d||0),0)%2,"goog.uri.utils: Key/value lists must be even in length.");for(d=d||0;d<c.length;d+=2)goog.uri.utils.appendKeyValuePairs_(c[d],c[d+1],a);return a};
goog.uri.utils.buildQueryData=function(a,c){var d=goog.uri.utils.buildQueryDataBuffer_([],a,c);d[0]="";return d.join("")};goog.uri.utils.buildQueryDataBufferFromMap_=function(a,c){for(var d in c)goog.uri.utils.appendKeyValuePairs_(d,c[d],a);return a};goog.uri.utils.buildQueryDataFromMap=function(a){a=goog.uri.utils.buildQueryDataBufferFromMap_([],a);a[0]="";return a.join("")};
goog.uri.utils.appendParams=function(a,c){return goog.uri.utils.appendQueryData_(2==arguments.length?goog.uri.utils.buildQueryDataBuffer_([a],arguments[1],0):goog.uri.utils.buildQueryDataBuffer_([a],arguments,1))};goog.uri.utils.appendParamsFromMap=function(a,c){return goog.uri.utils.appendQueryData_(goog.uri.utils.buildQueryDataBufferFromMap_([a],c))};goog.uri.utils.appendParam=function(a,c,d){return goog.uri.utils.appendQueryData_([a,"&",c,"=",goog.string.urlEncode(d)])};
goog.uri.utils.findParam_=function(a,c,d,e){for(var f=d.length;0<=(c=a.indexOf(d,c))&&c<e;){var h=a.charCodeAt(c-1);if(h==goog.uri.utils.CharCode_.AMPERSAND||h==goog.uri.utils.CharCode_.QUESTION)if(h=a.charCodeAt(c+f),!h||h==goog.uri.utils.CharCode_.EQUAL||h==goog.uri.utils.CharCode_.AMPERSAND||h==goog.uri.utils.CharCode_.HASH)return c;c+=f+1}return-1};goog.uri.utils.hashOrEndRe_=/#|$/;goog.uri.utils.hasParam=function(a,c){return 0<=goog.uri.utils.findParam_(a,0,c,a.search(goog.uri.utils.hashOrEndRe_))};
goog.uri.utils.getParamValue=function(a,c){var d=a.search(goog.uri.utils.hashOrEndRe_),e=goog.uri.utils.findParam_(a,0,c,d);if(0>e)return null;var f=a.indexOf("&",e);if(0>f||f>d)f=d;e+=c.length+1;return goog.string.urlDecode(a.substr(e,f-e))};goog.uri.utils.getParamValues=function(a,c){for(var d=a.search(goog.uri.utils.hashOrEndRe_),e=0,f,h=[];0<=(f=goog.uri.utils.findParam_(a,e,c,d));){e=a.indexOf("&",f);if(0>e||e>d)e=d;f+=c.length+1;h.push(goog.string.urlDecode(a.substr(f,e-f)))}return h};
goog.uri.utils.trailingQueryPunctuationRe_=/[?&]($|#)/;goog.uri.utils.removeParam=function(a,c){for(var d=a.search(goog.uri.utils.hashOrEndRe_),e=0,f,h=[];0<=(f=goog.uri.utils.findParam_(a,e,c,d));)h.push(a.substring(e,f)),e=Math.min(a.indexOf("&",f)+1||d,d);h.push(a.substr(e));return h.join("").replace(goog.uri.utils.trailingQueryPunctuationRe_,"$1")};goog.uri.utils.setParam=function(a,c,d){return goog.uri.utils.appendParam(goog.uri.utils.removeParam(a,c),c,d)};
goog.uri.utils.appendPath=function(a,c){goog.uri.utils.assertNoFragmentsOrQueries_(a);goog.string.endsWith(a,"/")&&(a=a.substr(0,a.length-1));goog.string.startsWith(c,"/")&&(c=c.substr(1));return goog.string.buildString(a,"/",c)};goog.uri.utils.StandardQueryParam={RANDOM:"zx"};goog.uri.utils.makeUnique=function(a){return goog.uri.utils.setParam(a,goog.uri.utils.StandardQueryParam.RANDOM,goog.string.getRandomString())};goog.net.XhrIo=function(a){goog.events.EventTarget.call(this);this.headers=new goog.structs.Map;this.xmlHttpFactory_=a||null};goog.inherits(goog.net.XhrIo,goog.events.EventTarget);goog.net.XhrIo.ResponseType={DEFAULT:"",TEXT:"text",DOCUMENT:"document",BLOB:"blob",ARRAY_BUFFER:"arraybuffer"};goog.net.XhrIo.prototype.logger_=goog.debug.Logger.getLogger("goog.net.XhrIo");goog.net.XhrIo.CONTENT_TYPE_HEADER="Content-Type";goog.net.XhrIo.HTTP_SCHEME_PATTERN=/^https?$/i;
goog.net.XhrIo.FORM_CONTENT_TYPE="application/x-www-form-urlencoded;charset=utf-8";goog.net.XhrIo.sendInstances_=[];goog.net.XhrIo.send=function(a,c,d,e,f,h){var k=new goog.net.XhrIo;goog.net.XhrIo.sendInstances_.push(k);c&&goog.events.listen(k,goog.net.EventType.COMPLETE,c);goog.events.listen(k,goog.net.EventType.READY,goog.partial(goog.net.XhrIo.cleanupSend_,k));h&&k.setTimeoutInterval(h);k.send(a,d,e,f)};goog.net.XhrIo.cleanup=function(){for(var a=goog.net.XhrIo.sendInstances_;a.length;)a.pop().dispose()};
goog.net.XhrIo.protectEntryPoints=function(a){goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=a.protectEntryPoint(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)};goog.net.XhrIo.cleanupSend_=function(a){a.dispose();goog.array.remove(goog.net.XhrIo.sendInstances_,a)};goog.net.XhrIo.prototype.active_=!1;goog.net.XhrIo.prototype.xhr_=null;goog.net.XhrIo.prototype.xhrOptions_=null;goog.net.XhrIo.prototype.lastUri_="";goog.net.XhrIo.prototype.lastMethod_="";
goog.net.XhrIo.prototype.lastErrorCode_=goog.net.ErrorCode.NO_ERROR;goog.net.XhrIo.prototype.lastError_="";goog.net.XhrIo.prototype.errorDispatched_=!1;goog.net.XhrIo.prototype.inSend_=!1;goog.net.XhrIo.prototype.inOpen_=!1;goog.net.XhrIo.prototype.inAbort_=!1;goog.net.XhrIo.prototype.timeoutInterval_=0;goog.net.XhrIo.prototype.timeoutId_=null;goog.net.XhrIo.prototype.responseType_=goog.net.XhrIo.ResponseType.DEFAULT;goog.net.XhrIo.prototype.withCredentials_=!1;
goog.net.XhrIo.prototype.getTimeoutInterval=function(){return this.timeoutInterval_};goog.net.XhrIo.prototype.setTimeoutInterval=function(a){this.timeoutInterval_=Math.max(0,a)};goog.net.XhrIo.prototype.setResponseType=function(a){this.responseType_=a};goog.net.XhrIo.prototype.getResponseType=function(){return this.responseType_};goog.net.XhrIo.prototype.setWithCredentials=function(a){this.withCredentials_=a};goog.net.XhrIo.prototype.getWithCredentials=function(){return this.withCredentials_};
goog.net.XhrIo.prototype.send=function(a,c,d,e){if(this.xhr_)throw Error("[goog.net.XhrIo] Object is active with another request");c=c?c.toUpperCase():"GET";this.lastUri_=a;this.lastError_="";this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR;this.lastMethod_=c;this.errorDispatched_=!1;this.active_=!0;this.xhr_=this.createXhr();this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():goog.net.XmlHttp.getOptions();this.xhr_.onreadystatechange=goog.bind(this.onReadyStateChange_,this);try{this.logger_.fine(this.formatMsg_("Opening Xhr")),
this.inOpen_=!0,this.xhr_.open(c,a,!0),this.inOpen_=!1}catch(f){this.logger_.fine(this.formatMsg_("Error opening Xhr: "+f.message));this.error_(goog.net.ErrorCode.EXCEPTION,f);return}var a=d||"",h=this.headers.clone();e&&goog.structs.forEach(e,function(a,c){h.set(c,a)});e=goog.global.FormData&&a instanceof goog.global.FormData;"POST"==c&&(!h.containsKey(goog.net.XhrIo.CONTENT_TYPE_HEADER)&&!e)&&h.set(goog.net.XhrIo.CONTENT_TYPE_HEADER,goog.net.XhrIo.FORM_CONTENT_TYPE);goog.structs.forEach(h,function(a,
c){this.xhr_.setRequestHeader(c,a)},this);this.responseType_&&(this.xhr_.responseType=this.responseType_);goog.object.containsKey(this.xhr_,"withCredentials")&&(this.xhr_.withCredentials=this.withCredentials_);try{this.timeoutId_&&(goog.Timer.defaultTimerObject.clearTimeout(this.timeoutId_),this.timeoutId_=null),0<this.timeoutInterval_&&(this.logger_.fine(this.formatMsg_("Will abort after "+this.timeoutInterval_+"ms if incomplete")),this.timeoutId_=goog.Timer.defaultTimerObject.setTimeout(goog.bind(this.timeout_,
this),this.timeoutInterval_)),this.logger_.fine(this.formatMsg_("Sending request")),this.inSend_=!0,this.xhr_.send(a),this.inSend_=!1}catch(k){this.logger_.fine(this.formatMsg_("Send error: "+k.message)),this.error_(goog.net.ErrorCode.EXCEPTION,k)}};goog.net.XhrIo.prototype.createXhr=function(){return this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():goog.net.XmlHttp()};
goog.net.XhrIo.prototype.timeout_=function(){"undefined"!=typeof goog&&this.xhr_&&(this.lastError_="Timed out after "+this.timeoutInterval_+"ms, aborting",this.lastErrorCode_=goog.net.ErrorCode.TIMEOUT,this.logger_.fine(this.formatMsg_(this.lastError_)),this.dispatchEvent(goog.net.EventType.TIMEOUT),this.abort(goog.net.ErrorCode.TIMEOUT))};
goog.net.XhrIo.prototype.error_=function(a,c){this.active_=!1;this.xhr_&&(this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1);this.lastError_=c;this.lastErrorCode_=a;this.dispatchErrors_();this.cleanUpXhr_()};goog.net.XhrIo.prototype.dispatchErrors_=function(){this.errorDispatched_||(this.errorDispatched_=!0,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ERROR))};
goog.net.XhrIo.prototype.abort=function(a){this.xhr_&&this.active_&&(this.logger_.fine(this.formatMsg_("Aborting")),this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1,this.lastErrorCode_=a||goog.net.ErrorCode.ABORT,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ABORT),this.cleanUpXhr_())};
goog.net.XhrIo.prototype.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),this.cleanUpXhr_(!0));goog.net.XhrIo.superClass_.disposeInternal.call(this)};goog.net.XhrIo.prototype.onReadyStateChange_=function(){if(!this.inOpen_&&!this.inSend_&&!this.inAbort_)this.onReadyStateChangeEntryPoint_();else this.onReadyStateChangeHelper_()};goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=function(){this.onReadyStateChangeHelper_()};
goog.net.XhrIo.prototype.onReadyStateChangeHelper_=function(){if(this.active_&&"undefined"!=typeof goog)if(this.xhrOptions_[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]&&this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE&&2==this.getStatus())this.logger_.fine(this.formatMsg_("Local request error detected and ignored"));else if(this.inSend_&&this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE)goog.Timer.defaultTimerObject.setTimeout(goog.bind(this.onReadyStateChange_,this),0);else if(this.dispatchEvent(goog.net.EventType.READY_STATE_CHANGE),
this.isComplete()){this.logger_.fine(this.formatMsg_("Request complete"));this.active_=!1;try{this.isSuccess()?(this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.SUCCESS)):(this.lastErrorCode_=goog.net.ErrorCode.HTTP_ERROR,this.lastError_=this.getStatusText()+" ["+this.getStatus()+"]",this.dispatchErrors_())}finally{this.cleanUpXhr_()}}};
goog.net.XhrIo.prototype.cleanUpXhr_=function(a){if(this.xhr_){var c=this.xhr_,d=this.xhrOptions_[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION]?goog.nullFunction:null;this.xhrOptions_=this.xhr_=null;this.timeoutId_&&(goog.Timer.defaultTimerObject.clearTimeout(this.timeoutId_),this.timeoutId_=null);a||this.dispatchEvent(goog.net.EventType.READY);try{c.onreadystatechange=d}catch(e){this.logger_.severe("Problem encountered resetting onreadystatechange: "+e.message)}}};
goog.net.XhrIo.prototype.isActive=function(){return!!this.xhr_};goog.net.XhrIo.prototype.isComplete=function(){return this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE};goog.net.XhrIo.prototype.isSuccess=function(){var a=this.getStatus();return goog.net.HttpStatus.isSuccess(a)||0===a&&!this.isLastUriEffectiveSchemeHttp_()};goog.net.XhrIo.prototype.isLastUriEffectiveSchemeHttp_=function(){var a=goog.uri.utils.getEffectiveScheme(String(this.lastUri_));return goog.net.XhrIo.HTTP_SCHEME_PATTERN.test(a)};
goog.net.XhrIo.prototype.getReadyState=function(){return this.xhr_?this.xhr_.readyState:goog.net.XmlHttp.ReadyState.UNINITIALIZED};goog.net.XhrIo.prototype.getStatus=function(){try{return this.getReadyState()>goog.net.XmlHttp.ReadyState.LOADED?this.xhr_.status:-1}catch(a){return this.logger_.warning("Can not get status: "+a.message),-1}};
goog.net.XhrIo.prototype.getStatusText=function(){try{return this.getReadyState()>goog.net.XmlHttp.ReadyState.LOADED?this.xhr_.statusText:""}catch(a){return this.logger_.fine("Can not get status: "+a.message),""}};goog.net.XhrIo.prototype.getLastUri=function(){return String(this.lastUri_)};goog.net.XhrIo.prototype.getResponseText=function(){try{return this.xhr_?this.xhr_.responseText:""}catch(a){return this.logger_.fine("Can not get responseText: "+a.message),""}};
goog.net.XhrIo.prototype.getResponseXml=function(){try{return this.xhr_?this.xhr_.responseXML:null}catch(a){return this.logger_.fine("Can not get responseXML: "+a.message),null}};goog.net.XhrIo.prototype.getResponseJson=function(a){if(this.xhr_){var c=this.xhr_.responseText;a&&0==c.indexOf(a)&&(c=c.substring(a.length));return goog.json.parse(c)}};
goog.net.XhrIo.prototype.getResponse=function(){try{if(!this.xhr_)return null;if("response"in this.xhr_)return this.xhr_.response;switch(this.responseType_){case goog.net.XhrIo.ResponseType.DEFAULT:case goog.net.XhrIo.ResponseType.TEXT:return this.xhr_.responseText;case goog.net.XhrIo.ResponseType.ARRAY_BUFFER:if("mozResponseArrayBuffer"in this.xhr_)return this.xhr_.mozResponseArrayBuffer}this.logger_.severe("Response type "+this.responseType_+" is not supported on this browser");return null}catch(a){return this.logger_.fine("Can not get response: "+
a.message),null}};goog.net.XhrIo.prototype.getResponseHeader=function(a){return this.xhr_&&this.isComplete()?this.xhr_.getResponseHeader(a):void 0};goog.net.XhrIo.prototype.getAllResponseHeaders=function(){return this.xhr_&&this.isComplete()?this.xhr_.getAllResponseHeaders():""};goog.net.XhrIo.prototype.getLastErrorCode=function(){return this.lastErrorCode_};goog.net.XhrIo.prototype.getLastError=function(){return goog.isString(this.lastError_)?this.lastError_:String(this.lastError_)};
goog.net.XhrIo.prototype.formatMsg_=function(a){return a+" ["+this.lastMethod_+" "+this.lastUri_+" "+this.getStatus()+"]"};goog.debug.entryPointRegistry.register(function(a){goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=a(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)});cryptagram.loader=function(a){this.container=a;this.state=cryptagram.loader.state.WAITING};cryptagram.loader.prototype.logger=goog.debug.Logger.getLogger("cryptagram.loader");cryptagram.loader.state={WAITING:"Waiting",LOADING:"Loading",LOADED:"Loaded",CANCELED:"Canceled",DONE:"Done"};cryptagram.loader.prototype.updateProgress=function(a){a.lengthComputable&&(a=Math.ceil(100*(a.loaded/a.total)),this.setStatus("Download<br>"+a+"%"))};
cryptagram.loader.prototype.createRequest=function(){this.oHTTP=null;var a=this;window.XMLHttpRequest?(this.oHTTP=new XMLHttpRequest,this.oHTTP.responseType="arraybuffer",this.oHTTP.addEventListener("progress",function(c){a.updateProgress(c)},!1)):window.ActiveXObject&&(this.oHTTP=new ActiveXObject("Microsoft.XMLHTTP"))};cryptagram.loader.prototype.cancel=function(){this.state!=cryptagram.loader.state.DONE&&(this.state=cryptagram.loader.state.CANCELED,this.setStatus())};
cryptagram.loader.prototype.bytesToBase64=function(){for(var a="",c=new Uint8Array(this.bytes),d=c.byteLength,e=d%3,d=d-e,f,h,k,l,m=0;m<d;m+=3)l=c[m]<<16|c[m+1]<<8|c[m+2],f=(l&16515072)>>18,h=(l&258048)>>12,k=(l&4032)>>6,l&=63,a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[f]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[h]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[k]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[l];
1==e?(l=c[d],a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(l&252)>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(l&3)<<4]+"=="):2==e&&(l=c[d]<<8|c[d+1],a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(l&16128)>>8]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(l&1008)>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(l&15)<<2]+"=");this.base64="data:image/jpeg;base64,"+a};
cryptagram.loader.prototype.setStatus=function(a){this.container&&this.container.setStatus(a)};
cryptagram.loader.prototype.queue=function(a,c){this.logger.info("Queued "+a);this.src=a;this.setStatus("Waiting");this.createRequest();var d=this;d.oHTTP.onreadystatechange=function(){4==d.oHTTP.readyState&&("200"==d.oHTTP.status||"206"==d.oHTTP.status?(d.bytes=d.oHTTP.response,d.bytesToBase64(),d.logger.info("Downloaded "+d.base64.length+" base64 characters."),c(d.base64),d.state=cryptagram.loader.state.LOADED):d.logger.severe("DOWNLOAD_FAILED "+sjcl.hash.sha256.hash(a)))}};
cryptagram.loader.prototype.start=function(){this.logger.info("Downloading "+this.src);this.state=cryptagram.loader.state.LOADING;this.oHTTP.open("GET",this.src,!0);this.oHTTP.overrideMimeType&&this.oHTTP.overrideMimeType("text/plain; charset=x-user-defined");this.oHTTP.send(null)};
cryptagram.loader.prototype.getImageData=function(a,c){this.logger.info("Downloading "+a);this.setStatus("Download<br>...");this.createRequest();var d=this;d.oHTTP.onreadystatechange=function(){4==d.oHTTP.readyState&&("200"==d.oHTTP.status||"206"==d.oHTTP.status?(d.bytes=d.oHTTP.response,d.bytesToBase64(),d.logger.info("Downloaded "+d.base64.length+" base64 characters."),c(d.base64)):d.logger.severe("DOWNLOAD_FAILED "+sjcl.hash.sha256.hash(a)),d.oHTTP=null)};d.oHTTP.open("GET",a,!0);d.oHTTP.overrideMimeType&&
d.oHTTP.overrideMimeType("text/plain; charset=x-user-defined");d.oHTTP.send(null)};cryptagram.codec.experimental=function(a,c,d){this.quality=a;this.blockSize=c;this.symbol_thresholds=[];this.base=d;this.cipher=new cryptagram.cipher.bacchant;for(a=0;a<d;a++)this.symbol_thresholds.push(Math.round(255*(a/(d-1))))};goog.inherits(cryptagram.codec.experimental,cryptagram.codec);cryptagram.codec.experimental.prototype.logger=goog.debug.Logger.getLogger("cryptagram.codec.experimental");cryptagram.codec.experimental.prototype.name=function(){return" testing"};
cryptagram.codec.experimental.prototype.encode=function(a,c,d,e,f){function h(a,c){var d=l.base64Values.indexOf(a),e=d%l.base;c.push(Math.floor(d*(l.base/64)));c.push(e)}var k=(new Date).getTime(),c="undefined"!==typeof c?c:1,d="undefined"!==typeof d?d:this.name(),e="undefined"!==typeof e?e:this.blockSize,f="undefined"!==typeof f?f:this.blockSize;n_header_symbols=d.length;for(var l=this,l=this,m=[],n=[],p=0;p<d.length;p++)h(d[p],m),h(d[p],n);for(d=""+2*a.length;8>d.length;)d="0"+d;a=d+a;d=[];for(p=
0;p<a.length;p++)h(a[p],d);this.lastOctal=d;var a=m.length,q=Math.ceil(Math.sqrt(a));0!=q%2&&q++;var n=q*e,p=q*f,q=d.length,u=Math.sqrt((e*f*q+n*p)/c),G=Math.ceil(c*u),u=Math.ceil(Math.ceil(u)/f)*f,G=2*Math.ceil(G/(2*e))*e,c=document.createElement("canvas");c.width=G;c.height=u;var I=c.getContext("2d"),K=I.createImageData(G,u);this.data=K.data;this.width=G;this.height=u;for(var C,F=0;F<p;F+=f)for(var H=0;H<n;H+=e)C=H/e+F/f*(n/e),u=8,C<a&&(u=this.symbol_thresholds[m[C]]),this.set_block(H,F,u);n_header_row_symbols_wide=
(G-n)/e;n_header_row_symbols=n_header_row_symbols_wide*(p/f);n_symbols_in_full_row=G/e;for(p=0;p<q;p++)octal=d[p],u=this.symbol_thresholds[octal],p<n_header_row_symbols?(m=Math.floor(p/n_header_row_symbols_wide),H=p-m*n_header_row_symbols_wide,H=n+H*e):(H=p+a,m=Math.floor(H/n_symbols_in_full_row),H-=m*n_symbols_in_full_row,H*=e),F=m*f,this.set_block(H,F,u);I.putImageData(K,0,0);e=new Image;this.logger.info("JPEG quality "+this.quality);e.src=c.toDataURL("image/jpeg",this.quality);this.elapsed=(new Date).getTime()-
k;this.logger.info("Encoded in: "+this.elapsed+" ms");return e};cryptagram.codec.experimental.prototype.getHeader=function(a,c){var d="",e=4*this.blockSize;for(y=0;y<e;y+=this.blockSize)for(x=0;x<e;x+=2*this.blockSize)base8_0=this.getBaseValue(a,c,x,y),base8_1=this.getBaseValue(a,c,x+this.blockSize,y),base64Num=8*base8_0+base8_1,base64=this.base64Values.charAt(base64Num),d+=base64;return d};
cryptagram.codec.experimental.prototype.getBaseValue=function(a,c,d,e){var f=0,h=0,k=255/(this.base-1);for(i=0;i<this.blockSize;i++)for(j=0;j<this.blockSize;j++)base=(e+j)*a.width+(d+i),r=c[4*base],g=c[4*base+1],b=c[4*base+2],lum=0.299*r+0.587*g+0.114*b,h+=lum,f++;v=h/f;a=Math.round(v/k);a>=this.base&&(a=this.base-1);return a};cryptagram.codec.experimental.prototype.decodeProgress=function(){return this.y/this.img.height};
cryptagram.codec.experimental.prototype.decode=function(a,c){this.count=0;this.chunkSize=10;this.y=0;this.img=a;this.imageData=c;this.lengthString="";this.errorCount=0;this.decodeData="";this.newOctal=[]};cryptagram.codec.experimental.prototype.getErrorCount=function(){for(var a=0,c=0;c<this.lastOctal.length;c++)this.newOctal[c]!=this.lastOctal[c]&&a++;return a};
cryptagram.codec.experimental.prototype.setDecodeParams=function(a,c){this.count=0;this.headerSize=4*this.blockSize;this.chunkSize=10;this.y=0;this.img=a;this.imageData=c;this.decodeData="";this.newOctal=[]};
cryptagram.codec.experimental.prototype.getChunk=function(){var a="";if(this.count>=this.length||this.y>=this.img.height)return!1;for(var c=0,d=4*this.blockSize;c<this.chunkSize&&!(this.count>=this.length);){for(var e=0;e<this.img.width&&!(this.count>=this.length);e+=2*this.blockSize)this.y<d&&e<d||(base8_0=this.getBaseValue(this.img,this.imageData,e,this.y),base8_1=this.getBaseValue(this.img,this.imageData,e+this.blockSize,this.y),this.newOctal.push(base8_0),this.newOctal.push(base8_1),base64Num=
8*base8_0+base8_1,base64=this.base64Values.charAt(base64Num),0==this.y&&e<d+16*this.blockSize?this.lengthString+=base64:(a+=base64,null==this.length&&(this.length=parseInt(this.lengthString)),this.count+=2));if(this.y>=this.img.height)break;this.y+=this.blockSize;c++}this.decodeData+=a;return!0};cryptagram.Rotator=function(){goog.events.EventTarget.call(this)};goog.inherits(cryptagram.Rotator,goog.events.EventTarget);cryptagram.Rotator.EventType={ROTATE_DONE:goog.events.getUniqueId("rotateDone")};cryptagram.Rotator.Event=function(a){goog.events.Event.call(this,"ROTATE_DONE");this.image=a};goog.inherits(cryptagram.Rotator.Event,goog.events.Event);cryptagram.Rotator.EventTarget=function(){goog.events.EventTarget.call(this)};goog.inherits(cryptagram.Rotator.EventTarget,goog.events.EventTarget);
cryptagram.Rotator.prototype.logger=goog.debug.Logger.getLogger("cryptagram.Rotator");
cryptagram.Rotator.prototype.rotateBinary=function(a,c){var d=this,e=new Image;e.onload=function(){var a=document.createElement("canvas");a.width=e.naturalWidth;a.height=e.naturalHeight;var f=0,l=0,m=0;d.logger.info("Found orientation flag "+c);6==c?(a.width=e.naturalHeight,a.height=e.naturalWidth,l=-e.naturalHeight,m=Math.PI/2,d.logger.info("Rotating 90 degrees clockwise")):8==c?(a.width=e.naturalHeight,a.height=e.naturalWidth,l=e.naturalHeight,m=-Math.PI/2,d.logger.info("Rotating 90 degrees counterclockwise")):
3==c&&(m=Math.PI,l=-e.naturalHeight,f=-e.naturalWidth,d.logger.info("Rotating 180 degrees"));var n=a.getContext("2d");n.rotate(m);n.translate(f,l);n.drawImage(e,0,0,e.naturalWidth,e.naturalHeight);var p=new Image;p.onload=function(){d.dispatchEvent({type:"ROTATE_DONE",image:p})};p.src=a.toDataURL("image/jpeg",0.9)};var f="data:image/jpeg;base64,"+window.btoa(a);e.src=f};cryptagram.SizeReducer=function(){goog.events.EventTarget.call(this)};goog.inherits(cryptagram.SizeReducer,goog.events.EventTarget);cryptagram.SizeReducer.prototype.logger=goog.debug.Logger.getLogger("cryptagram.SizeReducer");cryptagram.SizeReducer.EventType={SIZE_REDUCER_DONE:goog.events.getUniqueId("sizeReducerDone")};cryptagram.SizeReducer.Event=function(a){goog.events.Event.call(this,"SIZE_REDUCER_DONE");this.imageDataUrl=a};goog.inherits(cryptagram.SizeReducer.Event,goog.events.Event);
cryptagram.SizeReducer.EventTarget=function(){goog.events.EventTarget.call(this)};goog.inherits(cryptagram.SizeReducer.EventTarget,goog.events.EventTarget);cryptagram.SizeReducer.prototype.startWithImage=function(a){var c=a.image,d=a.codec.maxBase64Values(c.width/c.height,a.maxSize);if(d<c.src.length){var c=d/c.src.length,e=0.9;0.65>=c&&(e=0.01*5*(-4059+Math.sqrt(345753561+28608E6*c))/7152);this.startWithImageFracQual(a,e,d)}else this.dispatchEvent({type:"SIZE_REDUCER_DONE",image:c})};
cryptagram.SizeReducer.prototype.startWithImageFracQual=function(a,c,d){var e=this,f=a.image,h=a.quality,k=f.src,l=f.file,f=new Image;f.onload=function(){var f=document.createElement("canvas"),k=f.getContext("2d"),p=Math.floor(c*this.width),q=Math.floor(c*this.height);f.width=p;f.height=q;k.drawImage(this,0,0,p,q);f=f.toDataURL("image/jpeg",1*h);e.logger.info("New Data len: "+f.length);e.logger.info("Limit: "+d);p=a.codec.dimensions(p/q,f.length);e.logger.info("Est Width: "+p.width);e.logger.info("Est Height: "+
p.height);if(f.length>=d||p.width>a.maxSize||p.height>a.maxSize)e.logger.info("Going around."),e.startWithImageFracQual(a,c-0.05,d);else{var u=new Image;u.onload=function(){u.file=l;e.logger.info("New Data len: "+u.src.length);e.dispatchEvent({type:"SIZE_REDUCER_DONE",image:u})};u.src=f}};f.src=k};cryptagram.ReductionEstimator=function(){goog.events.EventTarget.call(this)};goog.inherits(cryptagram.ReductionEstimator,goog.events.EventTarget);cryptagram.ReductionEstimator.prototype.logger=goog.debug.Logger.getLogger("cryptagram.ReductionEstimator");cryptagram.ReductionEstimator.EventType={REDUCTION_ESTIMATOR_DONE:goog.events.getUniqueId("reductionEstimatorDone")};cryptagram.ReductionEstimator.Event=function(a){goog.events.Event.call(this,"REDUCTION_ESTIMATOR_DONE");this.fraction=a};
goog.inherits(cryptagram.ReductionEstimator.Event,goog.events.Event);cryptagram.ReductionEstimator.EventTarget=function(){goog.events.EventTarget.call(this)};goog.inherits(cryptagram.ReductionEstimator.EventTarget,goog.events.EventTarget);
cryptagram.ReductionEstimator.prototype.getEstimate=function(a){var c=this,d=new Image;d.onload=function(){var d=cryptagram.codec.aesthete.maxBase64Values(this.width/this.height),f=1;d<a.length&&(f=d/a.length);c.dispatchEvent({type:"REDUCTION_ESTIMATOR_DONE",fraction:f})};d.src=a};cryptagram.encoder=function(){this.codec=cryptagram.codec.bacchant;goog.events.EventTarget.call(this)};goog.inherits(cryptagram.encoder,goog.events.EventTarget);cryptagram.encoder.prototype.logger=goog.debug.Logger.getLogger("cryptagram.encoder");cryptagram.encoder.prototype.setStatus=function(a){console.log(a)};cryptagram.encoder.EventType={IMAGE_DONE:goog.events.getUniqueId("imageDone")};cryptagram.encoder.EncoderEvent=function(a){goog.events.Event.call(this,"IMAGE_DONE");this.dat=a};
goog.inherits(cryptagram.encoder.EncoderEvent,goog.events.Event);cryptagram.encoder.EncoderEventTarget=function(){goog.events.EventTarget.call(this)};goog.inherits(cryptagram.encoder.EncoderEventTarget,goog.events.EventTarget);cryptagram.encoder.prototype.imageLoaded=function(a){a.file=this.files[0].name;this.images.push(a);this.files.splice(0,1);this.dispatchEvent({type:"IMAGE_LOADED",image:a,remaining:this.files.length})};
cryptagram.encoder.prototype.loadBinary=function(a){var c=this,d=new FileReader;d.onerror=cryptagram.encoder.show_error;d.onload=function(){var d=new JpegMeta.JpegFile(this.result,a.name);if(d.tiff&&d.tiff.Orientation&&1!=d.tiff.Orientation){var f=new cryptagram.Rotator;f.rotateBinary(this.result,d.tiff.Orientation);goog.events.listenOnce(f,"ROTATE_DONE",function(d){d=d.image;d.file=a.file;c.imageLoaded(d)},!0,this)}else{var d="data:image/jpeg;base64,"+window.btoa(this.result),h=new Image;h.onload=
function(){c.imageLoaded(h)};h.src=d}};d.readAsBinaryString(a)};cryptagram.encoder.prototype.loadFile=function(a){if(0==a.type.indexOf("image/jpeg"))this.loadBinary(a);else{var c=this,d=new FileReader;d.onerror=cryptagram.encoder.show_error;d.onload=function(a){var d=new Image;d.onload=function(){d.file=c.files[0].name;c.images.push(d);c.files.splice(0,1);c.dispatchEvent({type:"IMAGE_LOADED",image:d,remaining:c.files.length})};d.src=a.target.result};d.readAsDataURL(a)}};
cryptagram.encoder.prototype.queueFiles=function(a){var c=this;c.files=[];c.images=[];for(var d in a)0==(""+a[d].type).indexOf("image/")&&c.files.push(a[d]);goog.events.listen(this,"IMAGE_LOADED",function(){0<c.files.length&&c.loadFile(c.files[0])},!0,this);0<c.files.length&&this.loadFile(c.files[0])};cryptagram.encoder.prototype.cancel=function(){this.images=[]};
cryptagram.encoder.prototype.startEncoding=function(a){var c=this;c.numImages=c.images.length;this.password=a.password;this.quality=a.quality;this.maxSize=a.maxSize;goog.events.listen(this,"IMAGE_DONE",function(){0<c.images.length&&c.createValidImage(c.images[0])},!0,this);this.createValidImage(c.images[0])};
cryptagram.encoder.prototype.createValidImage=function(a){var c=this,d=new cryptagram.SizeReducer;goog.events.listenOnce(d,"SIZE_REDUCER_DONE",function(d){this.logger.info("Image len:"+d.image.src.length);var e=c.codec.dimensions(a.naturalWidth/a.naturalHeight,d.image.src.length);this.logger.info("Image est:"+e.width+" "+e.height);c.encodeImage(d.image);c.images[0].original=d.image},!0,this);var e=document.createElement("canvas");e.width=a.naturalWidth;e.height=a.naturalHeight;e.getContext("2d").drawImage(a,
0,0,a.naturalWidth,a.naturalHeight);var f=a.file,h=new Image;h.onload=function(){h.file=f;d.startWithImage({image:h,quality:c.quality,maxSize:c.maxSize,codec:c.codec})};h.src=e.toDataURL("image/jpeg",0.9)};
cryptagram.encoder.prototype.encodeImage=function(a){this.dispatchEvent({type:"ENCODE_START",image:a});var c=this,d=a.width/a.height,e=a.src;this.logger.info("Encoding this size: "+e.length);var f=new this.codec,e=f.encrypt(e,this.password);this.logger.info("Encoding this: "+e.length);d=f.encode(e,d);this.blocksWritten=f.lastOctal.length;d.file=a.file;d.newfile=c.newFilename(a.file);d.onload=function(a){c.encodedOnload(a)}};
cryptagram.encoder.prototype.encodedOnload=function(a){a=a.target;a.original=this.images[0].original;this.images.splice(0,1);var c=a.src,d=c.indexOf(",");c.substring(d+1);c=[];for(d=0;d<this.images.length;d++)c.push(this.images[d].file);this.dispatchEvent({type:"IMAGE_DONE",image:a,remaining:c})};cryptagram.encoder.prototype.newFilename=function(a){a=a.split(".");a[a.length-1]="cryptagram.jpg";return a.join(".")};
cryptagram.encoder.show_error=function(a,c,d){console.log("Error message: "+a+"\nURL: "+c+"\nLine Number: "+d);return!0};goog.exportSymbol("cryptagram.encoder",cryptagram.encoder);goog.exportSymbol("cryptagram.encoder.prototype.showEncrypt",cryptagram.encoder.prototype.showEncrypt);cryptagram.demo=function(){document.body.innerHTML="<div id=main></div>";(new goog.debug.Console).setCapturing(!0);this.remoteLog=new cryptagram.RemoteLog;this.checkFilename=!0;this.maxZipSize=1E7};cryptagram.demo.prototype.logger=goog.debug.Logger.getLogger("cryptagram.demo");
cryptagram.demo.prototype.showDemo=function(){var a=this;goog.dom.getElement("main").innerHTML=cryptagram.templates.decryptDemo({image:"images/secret.jpg",id:"1"});goog.dom.getElement("main").innerHTML+=cryptagram.templates.decryptDemo({image:"images/secret2.jpg",id:"2"});var c=goog.dom.getElement("button1"),d=new cryptagram.container(goog.dom.getElement("image1"));goog.events.listen(c,goog.events.EventType.CLICK,function(){a.demoDecrypt(d,c,"cryptagram")},!1,this);var e=goog.dom.getElement("button2"),
f=new cryptagram.container(goog.dom.getElement("image2"));goog.events.listen(e,goog.events.EventType.CLICK,function(){a.demoDecrypt(f,e,"cryptagram")},!1,this)};cryptagram.demo.prototype.checkConsent=function(){"undefined"!=typeof localStorage.user_study?"true"==localStorage.user_study&&this.remoteLog.setCapturing(!0):this.showConsentDialog()};
cryptagram.demo.prototype.showEncrypt=function(){var a=this;a.downloadifyId=0;goog.dom.getElement("main").innerHTML=cryptagram.templates.encrypt();var c=goog.dom.getElement("file_selector");goog.events.listen(c,goog.events.EventType.CHANGE,function(c){a.encryptFiles(c.target.files)},!1,a);c=goog.dom.getElement("drop_zone");c=new goog.events.FileDropHandler(c,!0);goog.events.listen(c,goog.events.FileDropHandler.EventType.DROP,function(c){c=c.getBrowserEvent().dataTransfer.files;a.encryptFiles(c)});
setTimeout(function(){a.checkConsent()},500)};
cryptagram.demo.prototype.showDecrypt=function(){var a=this;goog.dom.getElement("main").innerHTML=cryptagram.templates.decrypt();var c=goog.dom.getElement("file_selector");goog.events.listen(c,goog.events.EventType.CHANGE,function(c){a.decryptFiles(c.target.files)},!1,a);c=goog.dom.getElement("drop_zone");c=new goog.events.FileDropHandler(c,!0);goog.events.listen(c,goog.events.FileDropHandler.EventType.DROP,function(c){c=c.getBrowserEvent().dataTransfer.files;a.decryptFiles(c)})};
cryptagram.demo.prototype.demoDecrypt=function(a,c,d){if(a.decrypted)a.decrypted=!1,c.value="Decrypt",a.revertSrc();else{var d="cryptagram",e=new cryptagram.loader(a),f=new cryptagram.decoder(a,{password:d});e.getImageData(a.getSrc(),function(c){f.decodeData(c,null,function(c){a.setSrc(c)})});a.decrypted=!0;c.value="Reset"}};cryptagram.demo.prototype.decryptFiles=function(a){this.files=a;this.decoder=new cryptagram.decoder;this.showDecryptDialog();this.decoder.queueFiles(a)};
cryptagram.demo.prototype.encryptFiles=function(a){if(this.checkFilename&&(this.checkFilename=!1,-1!=a[0].name.indexOf("cryptagram.jpg"))){this.showDecrypt();this.decryptFiles(a);return}this.encoder=new cryptagram.encoder;this.showEncodeDialog();this.encoder.queueFiles(a);this.files=a};
cryptagram.demo.prototype.showEncodeDialog=function(){var a=this;a.frames={};var c=new goog.ui.Dialog(null,!1);c.setContent(cryptagram.templates.encodeDialog());c.setTitle("Cryptagram");c.setButtonSet(goog.ui.Dialog.ButtonSet.OK_CANCEL);c.setDisposeOnHide(!0);a.dialog=c;goog.events.listen(this.encoder,"IMAGE_LOADED",function(d){var e=goog.dom.createDom("div",{"class":"c"});e.appendChild(d.image);goog.dom.getElement("thumbs").appendChild(e);a.frames[d.image.file]=e;0>=d.remaining&&c.getButtonSet().setAllButtonsEnabled(!0)},
!1,this);goog.events.listen(c,goog.ui.Dialog.EventType.SELECT,function(d){if("ok"==d.key){var e=goog.dom.getElement("password").value;if(""!=e){d.stopPropagation();d.preventDefault();var d=goog.dom.getElement("quality").value,f=goog.dom.getElement("maxSize").value;c.getButtonSet().setAllButtonsEnabled(!1);a.showProgress();a.encoder.startEncoding({password:e,quality:d,maxSize:f})}}},!1,this);c.setVisible(!0);c.getButtonSet().setAllButtonsEnabled(!1);c.getButtonElement().innerHTML+="<input type=button value='Switch to Decoder' id='switchButton' style='float: right'>";
var d=document.getElementById("switchButton");goog.events.listenOnce(d,goog.events.EventType.CLICK,function(){c.exitDocument();a.showDecrypt();a.decryptFiles(a.files)});var e=goog.dom.getElement("quality"),f=goog.dom.getElement("warning"),h=["Sharper image but smaller width and height","","Fuzzier image allows for bigger width and height"];e.onchange=function(){f.innerHTML=h[e.selectedIndex]};goog.dom.getElement("password").focus()};
cryptagram.demo.prototype.showProgress=function(){var a=this;a.zip=new JSZip;a.zipSize=0;a.status="";a.images=a.zip.folder("images");a.imageCount=0;a.imageList=[];a.remaining=[];a.lastData=null;goog.dom.getElement("left").innerHTML=cryptagram.templates.progress();var c;goog.events.listen(this.encoder,"ENCODE_START",function(a){c&&goog.dom.getElement("preview").removeChild(c);c=a.image;goog.dom.getElement("status").innerHTML="Encoding <b> "+a.image.file+"</b>";goog.dom.getElement("preview").appendChild(a.image)},
!1,this);goog.events.listen(this.encoder,"IMAGE_DONE",function(c){var e=c.image.src.indexOf(","),f=c.image.src.substring(e+1),e=window.atob(f);a.lastData=f;a.zipSize+e.length>a.maxZipSize?(a.logger.info("Exceeded max zip size."),goog.events.removeAll(a.encoder),a.encoder.cancel(),a.showDownloadDialog(),a.dialog.exitDocument()):(a.zipSize+=e.length,a.imageCount++,a.imageList.push(c.image.newfile),f=a.frames[c.image.file],f.firstChild&&f.removeChild(f.firstChild),f.appendChild(c.image),a.images.file(c.image.newfile,
e,{base64:!1,binary:!0}),a.remaining=c.remaining,0==c.remaining.length&&(goog.events.removeAll(a.encoder),a.showDownloadDialog(),a.dialog.exitDocument()))},!1,this)};
cryptagram.demo.prototype.showDownloadDialog=function(){var a=new goog.ui.Dialog(null,!1);a.setContent(cryptagram.templates.downloadDialog({images:this.imageList,id:this.downloadifyId,skipped:this.remaining}));a.setTitle("Cryptagram");a.setModal(!1);a.setDisposeOnHide(!0);a.setButtonSet(null);a.setVisible(!0);var c,d;1==this.imageCount?(c=this.lastData,d=this.imageList[0]):(c=this.zip.generate(),d="encrypted.zip");this.downloadify=Downloadify.create("downloadify"+this.downloadifyId,{filename:d,data:c,
onError:function(){alert("Nothing to save.")},onComplete:function(){a.exitDocument()},dataType:"base64",swf:"media/downloadify.swf",downloadImage:"images/download.png",width:100,height:30,transparent:!1,append:!1,enabled:!0});this.downloadifyId++};
cryptagram.demo.prototype.showConsentDialog=function(){var a=new goog.ui.Dialog(null,!1);a.setContent(cryptagram.templates.consentDialog());a.setTitle("Cryptagram");a.setDisposeOnHide(!0);var c=new goog.ui.Dialog.ButtonSet;c.set("AGREE","I Agree",!0);c.set("DISAGREE","I Don't Agree",!1,!1);a.setButtonSet(c);a.setDisposeOnHide(!0);this.dialog=a;goog.events.listen(a,goog.ui.Dialog.EventType.SELECT,function(a){"AGREE"==a.key&&(localStorage.user_study=!0);"DISAGREE"==a.key&&(localStorage.user_study=!1)},
!1,this);cryptagram.RemoteLog.simpleLog("ENCODER_CONSENT");a.setVisible(!0)};cryptagram.demo.prototype.runDecrypt=function(a,c){for(var d=0;d<a.length;d++){var e=a[d],f=new cryptagram.container(e);(new cryptagram.decoder(f,{password:c})).decodeData(e.src,null,function(a){this.container.setSrc(a);this.container.img.parentElement.href=a;this.container.img.parentElement.download=this.container.img.file})}};
cryptagram.demo.prototype.showDecryptDialog=function(){var a=this;a.images=[];var c=new goog.ui.Dialog(null,!1);c.setContent(cryptagram.templates.decryptDialog());c.setTitle("Cryptagram");c.setButtonSet(goog.ui.Dialog.ButtonSet.OK_CANCEL);c.setDisposeOnHide(!0);a.dialog=c;goog.events.listen(this.decoder,"IMAGE_LOADED",function(d){var f=goog.dom.createDom("a",{"class":"c",target:"_blank"});f.appendChild(d.image);goog.dom.getElement("medium").appendChild(f);a.images.push(d.image);0>=d.remaining&&c.getButtonSet().setAllButtonsEnabled(!0)},
!1,this);goog.events.listen(c,goog.ui.Dialog.EventType.SELECT,function(d){if("ok"==d.key){var f=goog.dom.getElement("password").value;""!=f&&(d.stopPropagation(),d.preventDefault(),c.getButtonSet().setAllButtonsEnabled(!1),a.runDecrypt(a.images,f))}},!1,this);c.setVisible(!0);c.getButtonElement().innerHTML+="<input type=button value='Switch to Encoder' id='switchButton' style='float: right'>";var d=document.getElementById("switchButton");goog.events.listenOnce(d,goog.events.EventType.CLICK,function(){c.exitDocument();
a.showEncrypt();a.encryptFiles(a.files)});c.getButtonSet().setAllButtonsEnabled(!1);goog.dom.getElement("password").focus()};goog.exportSymbol("cryptagram.demo",cryptagram.demo);goog.exportSymbol("cryptagram.demo.prototype.showDecrypt",cryptagram.demo.prototype.showDecrypt);goog.exportSymbol("cryptagram.demo.prototype.showEncrypt",cryptagram.demo.prototype.showEncrypt);cryptagram.codec.chrominance=function(a,c,d,e,f,h,k){this.chromaSize=e;this.chromaDelta=f;this.quality=a;this.blockSize=c;this.symbol_thresholds=[];this.chromaBthresholds=[];this.chromaRthresholds=[];this.numberChromaB=h;this.numberChromaR=k;this.symbol_thresholds=[];this.base=d;this.cipher=new cryptagram.cipher.bacchant;this.pattern=[];for(a=0;a<d;a++)c=255*(a/(d-1)),this.symbol_thresholds.push(Math.round(c));console.log(this.symbol_thresholds);d=this.chromaDelta/(this.numberChromaB-1);for(a=0;a<
h;a++)c=128+d*(a-this.numberChromaB/2+0.5),this.chromaBthresholds.push(Math.round(c));d=this.chromaDelta/(this.numberChromaR-1);for(a=0;a<k;a++)c=128+d*(a-this.numberChromaR/2+0.5),this.chromaRthresholds.push(Math.round(c));2==h&&(this.chromaBthresholds=[128-this.chromaDelta/2,128+this.chromaDelta/2]);if(2==k||0==k)this.chromaRthresholds=[128-this.chromaDelta/2,128+this.chromaDelta/2]};goog.inherits(cryptagram.codec.chrominance,cryptagram.codec.experimental);
cryptagram.codec.chrominance.prototype.logger=goog.debug.Logger.getLogger("cryptagram.codec.chrominance");cryptagram.codec.chrominance.prototype.set_pixel=function(a,c,d){var e=this.getChromininance(a,c,!0),f=e[0],e=e[1];if(245<d||10>d)f=e=128;var h=d+1.772*(f-128),f=d-0.34414*(f-128)-0.71414*(e-128),a=4*(a+c*this.width);this.data[a]=Math.round(d+1.402*(e-128));this.data[a+1]=Math.round(f);this.data[a+2]=Math.round(h);this.data[a+3]=255};
cryptagram.codec.chrominance.prototype.set_block=function(a,c,d){for(var e=0;e<this.blockSize;e++)for(var f=0;f<this.blockSize;f++)this.set_pixel(a+e,c+f,d)};cryptagram.codec.chrominance.prototype.getPattern=function(a,c){var d=this.chromaSize,e=0,e=c%(2*d)>=d?1:-1;return[a%(2*d)>=d?1:-1,e]};
cryptagram.codec.chrominance.prototype.getRandom=function(a,c){var d=Math.floor(a/this.chromaSize),e=Math.floor(c/this.chromaSize);if(this.pattern&&this.pattern[d]&&this.pattern[d][e])return this.pattern[d][e];var f=-1,h=-1,f=Math.floor(Math.random()*this.numberChromaB),h=Math.floor(Math.random()*this.numberChromaR);this.pattern||(this.pattern=[]);this.pattern[d]||(this.pattern[d]=[]);0==this.numberChromaR&&(h=f);f=[f,h];return this.pattern[d][e]=f};
cryptagram.codec.chrominance.prototype.getChromininance=function(a,c,d){a=this.getRandom(a,c,d);return[this.chromaBthresholds[a[0]],this.chromaRthresholds[a[1]]]};
cryptagram.codec.chrominance.prototype.checkChrominancePattern=function(){for(var a=Math.floor(this.img.width/this.chromaSize),c=Math.floor(this.img.height/this.chromaSize),d=0,e=0,f=0;f<c-1;f++)for(var h=0;h<a-1;h++){var k=h*this.chromaSize,l=f*this.chromaSize,m=this.getAverageChrominance(this.img,this.imageData,k,l),m=this.getChromaValue(m),k=this.getRandom(k,l,!1);e++;m[0]!=k[0]&&d++;0!=this.numberChromaR&&(e++,m[1]!=k[1]&&d++)}this.percentChrominanceError=d/e;this.logger.info("Chroma decoding errors: "+
d+"/"+e+" = "+this.percentChrominanceError)};cryptagram.codec.chrominance.prototype.getAverageChrominance=function(a,c,d,e){for(var f=0,h,k,l,m=l=h=k=0;m<this.chromaSize;m++)for(var n=0;n<this.chromaSize;n++){var p=(e+n)*a.width+(d+m);k+=c[4*p];h+=c[4*p+1];l+=c[4*p+2];f++}a=k/f;h/=f;f=l/f;return[128-0.168736*a-0.331264*h+0.5*f,128+0.5*a-0.418688*h-0.081312*f]};
cryptagram.codec.experimental.prototype.getChromaValue=function(a){var c=0,d=0;2==this.numberChromaB?128<a[0]&&(c=1):(c=Math.round((a[0]-128)/(this.chromaDelta/(this.numberChromaB-1))+(this.numberChromaB-1)/2),c>=this.numberChromaB&&(c=this.numberChromaB-1),0>c&&(c=0));2==this.numberChromaR?128<a[1]&&(d=1):(d=Math.round((a[1]-128)/(this.chromaDelta/(this.numberChromaR-1))+(this.numberChromaR-1)/2),d>=this.numberChromaR&&(d=this.numberChromaR-1),0>d&&(d=0));return[c,d]};
cryptagram.codec.chrominance.prototype.name=function(){return"chromina"};cryptagram.experiment=function(){document.body.innerHTML+=cryptagram.templates.experiment.experiment();var a=this,c=goog.dom.getElement("file_selector");goog.events.listen(c,goog.events.EventType.CHANGE,function(c){a.handleFiles(c.target.files)},!1,a);(new goog.debug.Console).setCapturing(!0);var d=document.getElementById("sampleImage");d&&(c=new cryptagram.loader,c.queue(d.src,function(c){d.src=c;a.imageExperiment(d)}),c.start())};cryptagram.experiment.prototype.logger=goog.debug.Logger.getLogger("cryptagram.experiment");
cryptagram.experiment.prototype.runDecrypt=function(){if(this.decrypted)this.decrypted=!1,this.button.value="Decrypt",this.container.revertSrc();else{var a=this;(new cryptagram.loader(a.container)).getImageData(a.container.getSrc(),function(c){(new cryptagram.decoder(a.container)).decodeData(c,"cryptagram",function(c){a.container.setSrc(c)})});this.decrypted=!0;this.button.value="Reset"}};
cryptagram.experiment.prototype.handleFiles=function(a){var a=a[0],c=this,d=new FileReader;d.onload=function(a){var a=a.target.result,d=new Image;d.onload=function(){c.imageExperiment(d)};d.src=a};d.onerror=cryptagram.experiment.show_error;d.readAsDataURL(a)};
cryptagram.experiment.prototype.imageExperiment=function(a){for(var c=this,d=[],e=90;96>e;e+=2)d.push(new cryptagram.codec.experimental(e/100,1,8));var f=goog.dom.getElement("results");f.value="";for(var e=1,e=a.width/a.height,h=0;h<d.length;h++){var k=d[h],l=k.encrypt(a.src,"cryptagram"),l=k.encode(l,e);c.logger.info("Encoded in: "+k.elapsed+" ms");var m=goog.dom.createDom("div",{"class":"c"});m.appendChild(l);document.getElementById("decoded_image").appendChild(m);l=l.src;m=l.indexOf(",");l.substring(m+
1);m=new Image;m=new cryptagram.container(m);(new cryptagram.decoder(m,{password:"cryptagram"})).decodeData(l,k,function(){var a=this.codec,d=a.getErrorCount(),e=d/a.lastOctal.length;c.logger.info("Octal decoding errors: "+d+"/"+a.lastOctal.length+" = "+e);a=a.quality.toPrecision(2)+"\t"+a.blockSize+"\t"+d+"\t"+a.lastOctal.length+"\t"+e+"\t"+a.percentChrominanceError+"\n";f.value+=a})}};
cryptagram.experiment.show_error=function(a,c,d){console.log("Error message: "+a+"\nURL: "+c+"\nLine Number: "+d);return!0};goog.exportSymbol("cryptagram.experiment",cryptagram.experiment);goog.exportSymbol("cryptagram.experiment.prototype.showDecrypt",cryptagram.experiment.prototype.showDecrypt);goog.exportSymbol("cryptagram.experiment.prototype.showEncrypt",cryptagram.experiment.prototype.showEncrypt);var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message};this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message};this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message};this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message};this.message=a}}};
"undefined"!=typeof module&&module.exports&&(module.exports=sjcl);
sjcl.cipher.aes=function(a){this.h[0][0][0]||this.w();var c,d,e,f,h=this.h[0][4],k=this.h[1];c=a.length;var l=1;if(4!==c&&6!==c&&8!==c)throw new sjcl.exception.invalid("invalid aes key size");this.a=[e=a.slice(0),f=[]];for(a=c;a<4*c+28;a++){d=e[a-1];if(0===a%c||8===c&&4===a%c)d=h[d>>>24]<<24^h[d>>16&255]<<16^h[d>>8&255]<<8^h[d&255],0===a%c&&(d=d<<8^d>>>24^l<<24,l=l<<1^283*(l>>7));e[a]=e[a-c]^d}for(c=0;a;c++,a--)d=e[c&3?a:a-4],f[c]=4>=a||4>c?d:k[0][h[d>>>24]]^k[1][h[d>>16&255]]^k[2][h[d>>8&255]]^k[3][h[d&
255]]};
sjcl.cipher.aes.prototype={encrypt:function(a){return this.H(a,0)},decrypt:function(a){return this.H(a,1)},h:[[[],[],[],[],[]],[[],[],[],[],[]]],w:function(){var a=this.h[0],c=this.h[1],d=a[4],e=c[4],f,h,k,l=[],m=[],n,p,q,u;for(f=0;256>f;f++)m[(l[f]=f<<1^283*(f>>7))^f]=f;for(h=k=0;!d[h];h^=n||1,k=m[k]||1){q=k^k<<1^k<<2^k<<3^k<<4;q=q>>8^q&255^99;d[h]=q;e[q]=h;p=l[f=l[n=l[h]]];u=16843009*p^65537*f^257*n^16843008*h;p=257*l[q]^16843008*q;for(f=0;4>f;f++)a[f][h]=p=p<<24^p>>>8,c[f][q]=u=u<<24^u>>>8}for(f=
0;5>f;f++)a[f]=a[f].slice(0),c[f]=c[f].slice(0)},H:function(a,c){if(4!==a.length)throw new sjcl.exception.invalid("invalid aes block size");var d=this.a[c],e=a[0]^d[0],f=a[c?3:1]^d[1],h=a[2]^d[2],a=a[c?1:3]^d[3],k,l,m,n=d.length/4-2,p,q=4,u=[0,0,0,0];k=this.h[c];var G=k[0],I=k[1],K=k[2],C=k[3],F=k[4];for(p=0;p<n;p++)k=G[e>>>24]^I[f>>16&255]^K[h>>8&255]^C[a&255]^d[q],l=G[f>>>24]^I[h>>16&255]^K[a>>8&255]^C[e&255]^d[q+1],m=G[h>>>24]^I[a>>16&255]^K[e>>8&255]^C[f&255]^d[q+2],a=G[a>>>24]^I[e>>16&255]^K[f>>
8&255]^C[h&255]^d[q+3],q+=4,e=k,f=l,h=m;for(p=0;4>p;p++)u[c?3&-p:p]=F[e>>>24]<<24^F[f>>16&255]<<16^F[h>>8&255]<<8^F[a&255]^d[q++],k=e,e=f,f=h,h=a,a=k;return u}};
sjcl.bitArray={bitSlice:function(a,c,d){a=sjcl.bitArray.P(a.slice(c/32),32-(c&31)).slice(1);return void 0===d?a:sjcl.bitArray.clamp(a,d-c)},extract:function(a,c,d){var e=Math.floor(-c-d&31);return((c+d-1^c)&-32?a[c/32|0]<<32-e^a[c/32+1|0]>>>e:a[c/32|0]>>>e)&(1<<d)-1},concat:function(a,c){if(0===a.length||0===c.length)return a.concat(c);var d=a[a.length-1],e=sjcl.bitArray.getPartial(d);return 32===e?a.concat(c):sjcl.bitArray.P(c,e,d|0,a.slice(0,a.length-1))},bitLength:function(a){var c=a.length;return 0===
c?0:32*(c-1)+sjcl.bitArray.getPartial(a[c-1])},clamp:function(a,c){if(32*a.length<c)return a;var a=a.slice(0,Math.ceil(c/32)),d=a.length,c=c&31;0<d&&c&&(a[d-1]=sjcl.bitArray.partial(c,a[d-1]&2147483648>>c-1,1));return a},partial:function(a,c,d){return 32===a?c:(d?c|0:c<<32-a)+1099511627776*a},getPartial:function(a){return Math.round(a/1099511627776)||32},equal:function(a,c){if(sjcl.bitArray.bitLength(a)!==sjcl.bitArray.bitLength(c))return!1;var d=0,e;for(e=0;e<a.length;e++)d|=a[e]^c[e];return 0===
d},P:function(a,c,d,e){var f;for(void 0===e&&(e=[]);32<=c;c-=32)e.push(d),d=0;if(0===c)return e.concat(a);for(f=0;f<a.length;f++)e.push(d|a[f]>>>c),d=a[f]<<32-c;f=a.length?a[a.length-1]:0;a=sjcl.bitArray.getPartial(f);e.push(sjcl.bitArray.partial(c+a&31,32<c+a?d:e.pop(),1));return e},k:function(a,c){return[a[0]^c[0],a[1]^c[1],a[2]^c[2],a[3]^c[3]]}};
sjcl.codec.utf8String={fromBits:function(a){var c="",d=sjcl.bitArray.bitLength(a),e,f;for(e=0;e<d/8;e++)0===(e&3)&&(f=a[e/4]),c+=String.fromCharCode(f>>>24),f<<=8;return decodeURIComponent(escape(c))},toBits:function(a){var a=unescape(encodeURIComponent(a)),c=[],d,e=0;for(d=0;d<a.length;d++)e=e<<8|a.charCodeAt(d),3===(d&3)&&(c.push(e),e=0);d&3&&c.push(sjcl.bitArray.partial(8*(d&3),e));return c}};
sjcl.codec.hex={fromBits:function(a){var c="",d;for(d=0;d<a.length;d++)c+=((a[d]|0)+0xf00000000000).toString(16).substr(4);return c.substr(0,sjcl.bitArray.bitLength(a)/4)},toBits:function(a){var c,d=[],e,a=a.replace(/\s|0x/g,"");e=a.length;a+="00000000";for(c=0;c<a.length;c+=8)d.push(parseInt(a.substr(c,8),16)^0);return sjcl.bitArray.clamp(d,4*e)}};
sjcl.codec.base64={D:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,c,d){var e="",f=0,h=sjcl.codec.base64.D,k=0,l=sjcl.bitArray.bitLength(a);d&&(h=h.substr(0,62)+"-_");for(d=0;6*e.length<l;)e+=h.charAt((k^a[d]>>>f)>>>26),6>f?(k=a[d]<<6-f,f+=26,d++):(k<<=6,f-=6);for(;e.length&3&&!c;)e+="=";return e},toBits:function(a,c){var a=a.replace(/\s|=/g,""),d=[],e=0,f=sjcl.codec.base64.D,h=0,k;c&&(f=f.substr(0,62)+"-_");for(c=0;c<a.length;c++){k=f.indexOf(a.charAt(c));
if(0>k)throw new sjcl.exception.invalid("this isn't base64!");26<e?(e-=26,d.push(h^k>>>e),h=k<<32-e):(e+=6,h^=k<<32-e)}e&56&&d.push(sjcl.bitArray.partial(e&56,h,1));return d}};sjcl.codec.base64url={fromBits:function(a){return sjcl.codec.base64.fromBits(a,1,1)},toBits:function(a){return sjcl.codec.base64.toBits(a,1)}};sjcl.hash.sha256=function(a){this.a[0]||this.w();a?(this.n=a.n.slice(0),this.i=a.i.slice(0),this.e=a.e):this.reset()};sjcl.hash.sha256.hash=function(a){return(new sjcl.hash.sha256).update(a).finalize()};
sjcl.hash.sha256.prototype={blockSize:512,reset:function(){this.n=this.N.slice(0);this.i=[];this.e=0;return this},update:function(a){"string"===typeof a&&(a=sjcl.codec.utf8String.toBits(a));var c,d=this.i=sjcl.bitArray.concat(this.i,a);c=this.e;a=this.e=c+sjcl.bitArray.bitLength(a);for(c=512+c&-512;c<=a;c+=512)this.C(d.splice(0,16));return this},finalize:function(){var a,c=this.i,d=this.n,c=sjcl.bitArray.concat(c,[sjcl.bitArray.partial(1,1)]);for(a=c.length+2;a&15;a++)c.push(0);c.push(Math.floor(this.e/
4294967296));for(c.push(this.e|0);c.length;)this.C(c.splice(0,16));this.reset();return d},N:[],a:[],w:function(){function a(a){return 4294967296*(a-Math.floor(a))|0}var c=0,d=2,e;a:for(;64>c;d++){for(e=2;e*e<=d;e++)if(0===d%e)continue a;8>c&&(this.N[c]=a(Math.pow(d,0.5)));this.a[c]=a(Math.pow(d,1/3));c++}},C:function(a){for(var c,d,e=a.slice(0),f=this.n,h=this.a,k=f[0],l=f[1],m=f[2],n=f[3],p=f[4],q=f[5],u=f[6],G=f[7],a=0;64>a;a++)16>a?c=e[a]:(c=e[a+1&15],d=e[a+14&15],c=e[a&15]=(c>>>7^c>>>18^c>>>3^
c<<25^c<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+e[a&15]+e[a+9&15]|0),c=c+G+(p>>>6^p>>>11^p>>>25^p<<26^p<<21^p<<7)+(u^p&(q^u))+h[a],G=u,u=q,q=p,p=n+c|0,n=m,m=l,l=k,k=c+(l&m^n&(l^m))+(l>>>2^l>>>13^l>>>22^l<<30^l<<19^l<<10)|0;f[0]=f[0]+k|0;f[1]=f[1]+l|0;f[2]=f[2]+m|0;f[3]=f[3]+n|0;f[4]=f[4]+p|0;f[5]=f[5]+q|0;f[6]=f[6]+u|0;f[7]=f[7]+G|0}};
sjcl.mode.ccm={name:"ccm",encrypt:function(a,c,d,e,f){var h,k=c.slice(0),l=sjcl.bitArray,m=l.bitLength(d)/8,n=l.bitLength(k)/8,f=f||64,e=e||[];if(7>m)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(h=2;4>h&&n>>>8*h;h++);h<15-m&&(h=15-m);d=l.clamp(d,8*(15-h));c=sjcl.mode.ccm.G(a,c,d,e,f,h);k=sjcl.mode.ccm.I(a,k,d,c,f,h);return l.concat(k.data,k.tag)},decrypt:function(a,c,d,e,f){var f=f||64,e=e||[],h=sjcl.bitArray,k=h.bitLength(d)/8,l=h.bitLength(c),m=h.clamp(c,l-f),n=h.bitSlice(c,
l-f),l=(l-f)/8;if(7>k)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(c=2;4>c&&l>>>8*c;c++);c<15-k&&(c=15-k);d=h.clamp(d,8*(15-c));m=sjcl.mode.ccm.I(a,m,d,n,f,c);a=sjcl.mode.ccm.G(a,m.data,d,e,f,c);if(!h.equal(m.tag,a))throw new sjcl.exception.corrupt("ccm: tag doesn't match");return m.data},G:function(a,c,d,e,f,h){var k=[],l=sjcl.bitArray,m=l.k,f=f/8;if(f%2||4>f||16<f)throw new sjcl.exception.invalid("ccm: invalid tag length");if(4294967295<e.length||4294967295<c.length)throw new sjcl.exception.bug("ccm: can't deal with 4GiB or more data");
h=[l.partial(8,(e.length?64:0)|f-2<<2|h-1)];h=l.concat(h,d);h[3]|=l.bitLength(c)/8;h=a.encrypt(h);if(e.length){d=l.bitLength(e)/8;65279>=d?k=[l.partial(16,d)]:4294967295>=d&&(k=l.concat([l.partial(16,65534)],[d]));k=l.concat(k,e);for(e=0;e<k.length;e+=4)h=a.encrypt(m(h,k.slice(e,e+4).concat([0,0,0])))}for(e=0;e<c.length;e+=4)h=a.encrypt(m(h,c.slice(e,e+4).concat([0,0,0])));return l.clamp(h,8*f)},I:function(a,c,d,e,f,h){var k,l=sjcl.bitArray;k=l.k;var m=c.length,n=l.bitLength(c),d=l.concat([l.partial(8,
h-1)],d).concat([0,0,0]).slice(0,4),e=l.bitSlice(k(e,a.encrypt(d)),0,f);if(!m)return{tag:e,data:[]};for(k=0;k<m;k+=4)d[3]++,f=a.encrypt(d),c[k]^=f[0],c[k+1]^=f[1],c[k+2]^=f[2],c[k+3]^=f[3];return{tag:e,data:l.clamp(c,n)}}};
sjcl.mode.ocb2={name:"ocb2",encrypt:function(a,c,d,e,f,h){if(128!==sjcl.bitArray.bitLength(d))throw new sjcl.exception.invalid("ocb iv must be 128 bits");var k,l=sjcl.mode.ocb2.A,m=sjcl.bitArray,n=m.k,p=[0,0,0,0],d=l(a.encrypt(d)),q,u=[],e=e||[],f=f||64;for(k=0;k+4<c.length;k+=4)q=c.slice(k,k+4),p=n(p,q),u=u.concat(n(d,a.encrypt(n(d,q)))),d=l(d);q=c.slice(k);c=m.bitLength(q);k=a.encrypt(n(d,[0,0,0,c]));q=m.clamp(n(q.concat([0,0,0]),k),c);p=n(p,n(q.concat([0,0,0]),k));p=a.encrypt(n(p,n(d,l(d))));e.length&&
(p=n(p,h?e:sjcl.mode.ocb2.pmac(a,e)));return u.concat(m.concat(q,m.clamp(p,f)))},decrypt:function(a,c,d,e,f,h){if(128!==sjcl.bitArray.bitLength(d))throw new sjcl.exception.invalid("ocb iv must be 128 bits");for(var f=f||64,k=sjcl.mode.ocb2.A,l=sjcl.bitArray,m=l.k,n=[0,0,0,0],p=k(a.encrypt(d)),q,u,G=sjcl.bitArray.bitLength(c)-f,I=[],e=e||[],d=0;d+4<G/32;d+=4)q=m(p,a.decrypt(m(p,c.slice(d,d+4)))),n=m(n,q),I=I.concat(q),p=k(p);u=G-32*d;q=a.encrypt(m(p,[0,0,0,u]));q=m(q,l.clamp(c.slice(d),u).concat([0,
0,0]));n=m(n,q);n=a.encrypt(m(n,m(p,k(p))));e.length&&(n=m(n,h?e:sjcl.mode.ocb2.pmac(a,e)));if(!l.equal(l.clamp(n,f),l.bitSlice(c,G)))throw new sjcl.exception.corrupt("ocb: tag doesn't match");return I.concat(l.clamp(q,u))},pmac:function(a,c){var d,e=sjcl.mode.ocb2.A,f=sjcl.bitArray,h=f.k,k=[0,0,0,0],l=a.encrypt([0,0,0,0]),l=h(l,e(e(l)));for(d=0;d+4<c.length;d+=4)l=e(l),k=h(k,a.encrypt(h(l,c.slice(d,d+4))));c=c.slice(d);128>f.bitLength(c)&&(l=h(l,e(l)),c=f.concat(c,[-2147483648,0,0,0]));k=h(k,c);
return a.encrypt(h(e(h(l,e(l))),k))},A:function(a){return[a[0]<<1^a[1]>>>31,a[1]<<1^a[2]>>>31,a[2]<<1^a[3]>>>31,a[3]<<1^135*(a[0]>>>31)]}};sjcl.misc.hmac=function(a,c){this.M=c=c||sjcl.hash.sha256;var d=[[],[]],e=c.prototype.blockSize/32;this.l=[new c,new c];a.length>e&&(a=c.hash(a));for(c=0;c<e;c++)d[0][c]=a[c]^909522486,d[1][c]=a[c]^1549556828;this.l[0].update(d[0]);this.l[1].update(d[1])};
sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(a,c){a=(new this.M(this.l[0])).update(a,c).finalize();return(new this.M(this.l[1])).update(a).finalize()};
sjcl.misc.pbkdf2=function(a,c,d,e,f){d=d||1E3;if(0>e||0>d)throw sjcl.exception.invalid("invalid params to pbkdf2");"string"===typeof a&&(a=sjcl.codec.utf8String.toBits(a));var f=f||sjcl.misc.hmac,a=new f(a),h,k,l,m,n=[],p=sjcl.bitArray;for(m=1;32*n.length<(e||1);m++){f=h=a.encrypt(p.concat(c,[m]));for(k=1;k<d;k++){h=a.encrypt(h);for(l=0;l<h.length;l++)f[l]^=h[l]}n=n.concat(f)}e&&(n=p.clamp(n,e));return n};
sjcl.random={randomWords:function(a,c){var d=[],c=this.isReady(c),e;if(0===c)throw new sjcl.exception.notReady("generator isn't seeded");c&2&&this.U(!(c&1));for(c=0;c<a;c+=4)0===(c+1)%65536&&this.L(),e=this.u(),d.push(e[0],e[1],e[2],e[3]);this.L();return d.slice(0,a)},setDefaultParanoia:function(a){this.t=a},addEntropy:function(a,c,d){var d=d||"user",e,f,h=(new Date).valueOf(),k=this.q[d],l=this.isReady();e=this.F[d];void 0===e&&(e=this.F[d]=this.R++);void 0===k&&(k=this.q[d]=0);this.q[d]=(this.q[d]+
1)%this.b.length;switch(typeof a){case "number":break;case "object":if(void 0===c)for(d=c=0;d<a.length;d++)for(f=a[d];0<f;)c++,f>>>=1;this.b[k].update([e,this.J++,2,c,h,a.length].concat(a));break;case "string":void 0===c&&(c=a.length);this.b[k].update([e,this.J++,3,c,h,a.length]);this.b[k].update(a);break;default:throw new sjcl.exception.bug("random: addEntropy only supports number, array or string");}this.j[k]+=c;this.f+=c;0===l&&(0!==this.isReady()&&this.K("seeded",Math.max(this.g,this.f)),this.K("progress",
this.getProgress()))},isReady:function(a){a=this.B[void 0!==a?a:this.t];return this.g&&this.g>=a?80<this.j[0]&&(new Date).valueOf()>this.O?3:1:this.f>=a?2:0},getProgress:function(a){a=this.B[a?a:this.t];return this.g>=a?1["0"]:this.f>a?1["0"]:this.f/a},startCollectors:function(){if(!this.m){if(window.addEventListener)window.addEventListener("load",this.o,!1),window.addEventListener("mousemove",this.p,!1);else if(document.attachEvent)document.attachEvent("onload",this.o),document.attachEvent("onmousemove",
this.p);else throw new sjcl.exception.bug("can't attach event");this.m=!0}},stopCollectors:function(){this.m&&(window.removeEventListener?(window.removeEventListener("load",this.o,!1),window.removeEventListener("mousemove",this.p,!1)):window.detachEvent&&(window.detachEvent("onload",this.o),window.detachEvent("onmousemove",this.p)),this.m=!1)},addEventListener:function(a,c){this.r[a][this.Q++]=c},removeEventListener:function(a,c){var d,a=this.r[a],e=[];for(d in a)a.hasOwnProperty(d)&&a[d]===c&&e.push(d);
for(c=0;c<e.length;c++)d=e[c],delete a[d]},b:[new sjcl.hash.sha256],j:[0],z:0,q:{},J:0,F:{},R:0,g:0,f:0,O:0,a:[0,0,0,0,0,0,0,0],d:[0,0,0,0],s:void 0,t:6,m:!1,r:{progress:{},seeded:{}},Q:0,B:[0,48,64,96,128,192,256,384,512,768,1024],u:function(){for(var a=0;4>a&&!(this.d[a]=this.d[a]+1|0,this.d[a]);a++);return this.s.encrypt(this.d)},L:function(){this.a=this.u().concat(this.u());this.s=new sjcl.cipher.aes(this.a)},T:function(a){this.a=sjcl.hash.sha256.hash(this.a.concat(a));this.s=new sjcl.cipher.aes(this.a);
for(a=0;4>a&&!(this.d[a]=this.d[a]+1|0,this.d[a]);a++);},U:function(a){var c=[],d=0,e;this.O=c[0]=(new Date).valueOf()+3E4;for(e=0;16>e;e++)c.push(4294967296*Math.random()|0);for(e=0;e<this.b.length&&!(c=c.concat(this.b[e].finalize()),d+=this.j[e],this.j[e]=0,!a&&this.z&1<<e);e++);this.z>=1<<this.b.length&&(this.b.push(new sjcl.hash.sha256),this.j.push(0));this.f-=d;d>this.g&&(this.g=d);this.z++;this.T(c)},p:function(a){sjcl.random.addEntropy([a.x||a.clientX||a.offsetX,a.y||a.clientY||a.offsetY],
2,"mouse")},o:function(){sjcl.random.addEntropy(new Date,2,"loadtime")},K:function(a,c){var d,a=sjcl.random.r[a],e=[];for(d in a)a.hasOwnProperty(d)&&e.push(a[d]);for(d=0;d<e.length;d++)e[d](c)}};try{var s=new Uint32Array(32);crypto.getRandomValues(s);sjcl.random.addEntropy(s,1024,"crypto['getRandomValues']")}catch(t){}
sjcl.json={defaults:{v:1,iter:1E3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(a,c,d,e){var d=d||{},e=e||{},f=sjcl.json,h=f.c({iv:sjcl.random.randomWords(4,0)},f.defaults),k;f.c(h,d);d=h.adata;"string"===typeof h.salt&&(h.salt=sjcl.codec.base64.toBits(h.salt));"string"===typeof h.iv&&(h.iv=sjcl.codec.base64.toBits(h.iv));if(!sjcl.mode[h.mode]||!sjcl.cipher[h.cipher]||"string"===typeof a&&100>=h.iter||64!==h.ts&&96!==h.ts&&128!==h.ts||128!==h.ks&&192!==h.ks&&256!==h.ks||2>h.iv.length||
4<h.iv.length)throw new sjcl.exception.invalid("json encrypt: invalid parameters");"string"===typeof a&&(k=sjcl.misc.cachedPbkdf2(a,h),a=k.key.slice(0,h.ks/32),h.salt=k.salt);"string"===typeof c&&(c=sjcl.codec.utf8String.toBits(c));"string"===typeof d&&(d=sjcl.codec.utf8String.toBits(d));k=new sjcl.cipher[h.cipher](a);f.c(e,h);e.key=a;h.ct=sjcl.mode[h.mode].encrypt(k,c,h.iv,d,h.ts);return f.encode(f.V(h,f.defaults))},decrypt:function(a,c,d,e){var d=d||{},e=e||{},f=sjcl.json,c=f.c(f.c(f.c({},f.defaults),
f.decode(c)),d,!0),h,d=c.adata;"string"===typeof c.salt&&(c.salt=sjcl.codec.base64.toBits(c.salt));"string"===typeof c.iv&&(c.iv=sjcl.codec.base64.toBits(c.iv));if(!sjcl.mode[c.mode]||!sjcl.cipher[c.cipher]||"string"===typeof a&&100>=c.iter||64!==c.ts&&96!==c.ts&&128!==c.ts||128!==c.ks&&192!==c.ks&&256!==c.ks||!c.iv||2>c.iv.length||4<c.iv.length)throw new sjcl.exception.invalid("json decrypt: invalid parameters");"string"===typeof a&&(h=sjcl.misc.cachedPbkdf2(a,c),a=h.key.slice(0,c.ks/32),c.salt=
h.salt);"string"===typeof d&&(d=sjcl.codec.utf8String.toBits(d));h=new sjcl.cipher[c.cipher](a);d=sjcl.mode[c.mode].decrypt(h,c.ct,c.iv,d,c.ts);f.c(e,c);e.key=a;return sjcl.codec.utf8String.fromBits(d)},encode:function(a){var c,d="{",e="";for(c in a)if(a.hasOwnProperty(c)){if(!c.match(/^[a-z0-9]+$/i))throw new sjcl.exception.invalid("json encode: invalid property name");d+=e+'"'+c+'":';e=",";switch(typeof a[c]){case "number":case "boolean":d+=a[c];break;case "string":d+='"'+escape(a[c])+'"';break;
case "object":d+='"'+sjcl.codec.base64.fromBits(a[c],1)+'"';break;default:throw new sjcl.exception.bug("json encode: unsupported type");}}return d+"}"},decode:function(a){a=a.replace(/\s/g,"");if(!a.match(/^\{.*\}$/))throw new sjcl.exception.invalid("json decode: this isn't json!");var a=a.replace(/^\{|\}$/g,"").split(/,/),c={},d,e;for(d=0;d<a.length;d++){if(!(e=a[d].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i)))throw new sjcl.exception.invalid("json decode: this isn't json!");
c[e[2]]=e[3]?parseInt(e[3],10):e[2].match(/^(ct|salt|iv)$/)?sjcl.codec.base64.toBits(e[4]):unescape(e[4])}return c},c:function(a,c,d){void 0===a&&(a={});if(void 0===c)return a;for(var e in c)if(c.hasOwnProperty(e)){if(d&&void 0!==a[e]&&a[e]!==c[e])throw new sjcl.exception.invalid("required parameter overridden");a[e]=c[e]}return a},V:function(a,c){var d={},e;for(e in a)a.hasOwnProperty(e)&&a[e]!==c[e]&&(d[e]=a[e]);return d},W:function(a,c){var d={},e;for(e=0;e<c.length;e++)void 0!==a[c[e]]&&(d[c[e]]=
a[c[e]]);return d}};sjcl.encrypt=sjcl.json.encrypt;sjcl.decrypt=sjcl.json.decrypt;sjcl.misc.S={};sjcl.misc.cachedPbkdf2=function(a,c){var d=sjcl.misc.S,e,c=c||{};e=c.iter||1E3;d=d[a]=d[a]||{};e=d[e]=d[e]||{firstSalt:c.salt&&c.salt.length?c.salt.slice(0):sjcl.random.randomWords(2,0)};d=void 0===c.salt?e.firstSalt:c.salt;e[d]=e[d]||sjcl.misc.pbkdf2(a,d,c.iter);return{key:e[d].slice(0),salt:d.slice(0)}};var CryptoJS=CryptoJS||function(a,c){var d={},e=d.lib={},f=function(){},h=e.Base={extend:function(a){f.prototype=this;var c=new f;a&&c.mixIn(a);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
k=e.WordArray=h.extend({init:function(a,d){a=this.words=a||[];this.sigBytes=d!=c?d:4*a.length},toString:function(a){return(a||m).stringify(this)},concat:function(a){var c=this.words,d=a.words,e=this.sigBytes,a=a.sigBytes;this.clamp();if(e%4)for(var f=0;f<a;f++)c[e+f>>>2]|=(d[f>>>2]>>>24-8*(f%4)&255)<<24-8*((e+f)%4);else if(65535<d.length)for(f=0;f<a;f+=4)c[e+f>>>2]=d[f>>>2];else c.push.apply(c,d);this.sigBytes+=a;return this},clamp:function(){var c=this.words,d=this.sigBytes;c[d>>>2]&=4294967295<<
32-8*(d%4);c.length=a.ceil(d/4)},clone:function(){var a=h.clone.call(this);a.words=this.words.slice(0);return a},random:function(c){for(var d=[],e=0;e<c;e+=4)d.push(4294967296*a.random()|0);return new k.init(d,c)}}),l=d.enc={},m=l.Hex={stringify:function(a){for(var c=a.words,a=a.sigBytes,d=[],e=0;e<a;e++){var f=c[e>>>2]>>>24-8*(e%4)&255;d.push((f>>>4).toString(16));d.push((f&15).toString(16))}return d.join("")},parse:function(a){for(var c=a.length,d=[],e=0;e<c;e+=2)d[e>>>3]|=parseInt(a.substr(e,2),
16)<<24-4*(e%8);return new k.init(d,c/2)}},n=l.Latin1={stringify:function(a){for(var c=a.words,a=a.sigBytes,d=[],e=0;e<a;e++)d.push(String.fromCharCode(c[e>>>2]>>>24-8*(e%4)&255));return d.join("")},parse:function(a){for(var c=a.length,d=[],e=0;e<c;e++)d[e>>>2]|=(a.charCodeAt(e)&255)<<24-8*(e%4);return new k.init(d,c)}},p=l.Utf8={stringify:function(a){try{return decodeURIComponent(escape(n.stringify(a)))}catch(c){throw Error("Malformed UTF-8 data");}},parse:function(a){return n.parse(unescape(encodeURIComponent(a)))}},
q=e.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new k.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=p.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(c){var d=this._data,e=d.words,f=d.sigBytes,h=this.blockSize,l=f/(4*h),l=c?a.ceil(l):a.max((l|0)-this._minBufferSize,0),c=l*h,f=a.min(4*c,f);if(c){for(var m=0;m<c;m+=h)this._doProcessBlock(e,m);m=e.splice(0,c);d.sigBytes-=f}return new k.init(m,f)},clone:function(){var a=h.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});e.Hasher=q.extend({cfg:h.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){q.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,d){return(new a.init(d)).finalize(c)}},_createHmacHelper:function(a){return function(c,d){return(new u.HMAC.init(a,
d)).finalize(c)}}});var u=d.algo={};return d}(Math);
(function(a){function c(a,c,d,e,f,h,k){a=a+(c&d|~c&e)+f+k;return(a<<h|a>>>32-h)+c}function d(a,c,d,e,f,h,k){a=a+(c&e|d&~e)+f+k;return(a<<h|a>>>32-h)+c}function e(a,c,d,e,f,h,k){a=a+(c^d^e)+f+k;return(a<<h|a>>>32-h)+c}function f(a,c,d,e,f,h,k){a=a+(d^(c|~e))+f+k;return(a<<h|a>>>32-h)+c}for(var h=CryptoJS,k=h.lib,l=k.WordArray,m=k.Hasher,k=h.algo,n=[],p=0;64>p;p++)n[p]=4294967296*a.abs(a.sin(p+1))|0;k=k.MD5=m.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},
_doProcessBlock:function(a,h){for(var k=0;16>k;k++){var l=h+k,m=a[l];a[l]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360}var k=this._hash.words,l=a[h+0],m=a[h+1],p=a[h+2],F=a[h+3],H=a[h+4],L=a[h+5],J=a[h+6],D=a[h+7],M=a[h+8],V=a[h+9],R=a[h+10],N=a[h+11],S=a[h+12],P=a[h+13],Q=a[h+14],T=a[h+15],B=k[0],A=k[1],w=k[2],z=k[3],B=c(B,A,w,z,l,7,n[0]),z=c(z,B,A,w,m,12,n[1]),w=c(w,z,B,A,p,17,n[2]),A=c(A,w,z,B,F,22,n[3]),B=c(B,A,w,z,H,7,n[4]),z=c(z,B,A,w,L,12,n[5]),w=c(w,z,B,A,J,17,n[6]),A=c(A,w,z,B,D,22,n[7]),
B=c(B,A,w,z,M,7,n[8]),z=c(z,B,A,w,V,12,n[9]),w=c(w,z,B,A,R,17,n[10]),A=c(A,w,z,B,N,22,n[11]),B=c(B,A,w,z,S,7,n[12]),z=c(z,B,A,w,P,12,n[13]),w=c(w,z,B,A,Q,17,n[14]),A=c(A,w,z,B,T,22,n[15]),B=d(B,A,w,z,m,5,n[16]),z=d(z,B,A,w,J,9,n[17]),w=d(w,z,B,A,N,14,n[18]),A=d(A,w,z,B,l,20,n[19]),B=d(B,A,w,z,L,5,n[20]),z=d(z,B,A,w,R,9,n[21]),w=d(w,z,B,A,T,14,n[22]),A=d(A,w,z,B,H,20,n[23]),B=d(B,A,w,z,V,5,n[24]),z=d(z,B,A,w,Q,9,n[25]),w=d(w,z,B,A,F,14,n[26]),A=d(A,w,z,B,M,20,n[27]),B=d(B,A,w,z,P,5,n[28]),z=d(z,B,
A,w,p,9,n[29]),w=d(w,z,B,A,D,14,n[30]),A=d(A,w,z,B,S,20,n[31]),B=e(B,A,w,z,L,4,n[32]),z=e(z,B,A,w,M,11,n[33]),w=e(w,z,B,A,N,16,n[34]),A=e(A,w,z,B,Q,23,n[35]),B=e(B,A,w,z,m,4,n[36]),z=e(z,B,A,w,H,11,n[37]),w=e(w,z,B,A,D,16,n[38]),A=e(A,w,z,B,R,23,n[39]),B=e(B,A,w,z,P,4,n[40]),z=e(z,B,A,w,l,11,n[41]),w=e(w,z,B,A,F,16,n[42]),A=e(A,w,z,B,J,23,n[43]),B=e(B,A,w,z,V,4,n[44]),z=e(z,B,A,w,S,11,n[45]),w=e(w,z,B,A,T,16,n[46]),A=e(A,w,z,B,p,23,n[47]),B=f(B,A,w,z,l,6,n[48]),z=f(z,B,A,w,D,10,n[49]),w=f(w,z,B,A,
Q,15,n[50]),A=f(A,w,z,B,L,21,n[51]),B=f(B,A,w,z,S,6,n[52]),z=f(z,B,A,w,F,10,n[53]),w=f(w,z,B,A,R,15,n[54]),A=f(A,w,z,B,m,21,n[55]),B=f(B,A,w,z,M,6,n[56]),z=f(z,B,A,w,T,10,n[57]),w=f(w,z,B,A,J,15,n[58]),A=f(A,w,z,B,P,21,n[59]),B=f(B,A,w,z,H,6,n[60]),z=f(z,B,A,w,N,10,n[61]),w=f(w,z,B,A,p,15,n[62]),A=f(A,w,z,B,V,21,n[63]);k[0]=k[0]+B|0;k[1]=k[1]+A|0;k[2]=k[2]+w|0;k[3]=k[3]+z|0},_doFinalize:function(){var c=this._data,d=c.words,e=8*this._nDataBytes,f=8*c.sigBytes;d[f>>>5]|=128<<24-f%32;var h=a.floor(e/
4294967296);d[(f+64>>>9<<4)+15]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360;d[(f+64>>>9<<4)+14]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;c.sigBytes=4*(d.length+1);this._process();c=this._hash;d=c.words;for(e=0;4>e;e++)f=d[e],d[e]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360;return c},clone:function(){var a=m.clone.call(this);a._hash=this._hash.clone();return a}});h.MD5=m._createHelper(k);h.HmacMD5=m._createHmacHelper(k)})(Math);var JSZip=function(a,c){this.files={};this.root="";a&&this.load(a,c)};JSZip.signature={LOCAL_FILE_HEADER:"PK\u0003\u0004",CENTRAL_FILE_HEADER:"PK\u0001\u0002",CENTRAL_DIRECTORY_END:"PK\u0005\u0006",ZIP64_CENTRAL_DIRECTORY_LOCATOR:"PK\u0006\u0007",ZIP64_CENTRAL_DIRECTORY_END:"PK\u0006\u0006",DATA_DESCRIPTOR:"PK\u0007\b"};JSZip.defaults={base64:!1,binary:!1,dir:!1,date:null};
JSZip.prototype=function(){var a=function(a,c,d){this.name=a;this.data=c;this.options=d};a.prototype={asText:function(){var a=this.data;this.options.base64&&(a=JSZipBase64.decode(a));this.options.binary&&(a=JSZip.prototype.utf8decode(a));return a},asBinary:function(){var a=this.data;this.options.base64&&(a=JSZipBase64.decode(a));this.options.binary||(a=JSZip.prototype.utf8encode(a));return a},asUint8Array:function(){return JSZip.utils.string2Uint8Array(this.asBinary())},asArrayBuffer:function(){return JSZip.utils.string2Uint8Array(this.asBinary()).buffer}};
var c=function(a,c){var d="",e;for(e=0;e<c;e++)d+=String.fromCharCode(a&255),a>>>=8;return d},d=function(){var a={},c,d;for(c=0;c<arguments.length;c++)for(d in arguments[c])arguments[c].hasOwnProperty(d)&&"undefined"===typeof a[d]&&(a[d]=arguments[c][d]);return a},e=function(c,e,m){var n=f(c);n&&h.call(this,n);m=m||{};!0===m.base64&&null==m.binary&&(m.binary=!0);m=d(m,JSZip.defaults);m.date=m.date||new Date;JSZip.support.uint8array&&e instanceof Uint8Array?(m.base64=!1,m.binary=!0,e=JSZip.utils.uint8Array2String(e)):
JSZip.support.arraybuffer&&e instanceof ArrayBuffer?(m.base64=!1,m.binary=!0,e=new Uint8Array(e),e=JSZip.utils.uint8Array2String(e)):m.binary&&!m.base64&&(!0!==m.optimizedBinaryString&&(e=JSZip.utils.string2binary(e)),delete m.optimizedBinaryString);return this.files[c]=new a(c,e,m)},f=function(a){"/"==a.slice(-1)&&(a=a.substring(0,a.length-1));var c=a.lastIndexOf("/");return 0<c?a.substring(0,c):""},h=function(a){"/"!=a.slice(-1)&&(a+="/");if(!this.files[a]){var c=f(a);c&&h.call(this,c);e.call(this,
a,"",{dir:!0})}return this.files[a]};return{load:function(){throw Error("Load method is not defined. Is the file jszip-load.js included ?");},filter:function(c){var e=[],f,h,p;for(f in this.files)this.files.hasOwnProperty(f)&&(h=this.files[f],p=new a(h.name,h.data,d(h.options)),h=f.slice(this.root.length,f.length),f.slice(0,this.root.length)===this.root&&c(h,p)&&e.push(p));return e},file:function(a,c,d){if(1===arguments.length){if(a instanceof RegExp){var f=a;return this.filter(function(a,c){return!c.options.dir&&
f.test(a)})}return this.filter(function(c,d){return!d.options.dir&&c===a})[0]||null}a=this.root+a;e.call(this,a,c,d);return this},folder:function(a){if(!a)throw Error("folder : wrong argument");if(a instanceof RegExp)return this.filter(function(c,d){return d.options.dir&&a.test(c)});var c=h.call(this,this.root+a),d=this.clone();d.root=c.name;return d},remove:function(a){var a=this.root+a,c=this.files[a];c||("/"!=a.slice(-1)&&(a+="/"),c=this.files[a]);if(c)if(c.options.dir)for(var c=this.filter(function(c,
d){return d.name.slice(0,a.length)===a}),d=0;d<c.length;d++)delete this.files[c[d].name];else delete this.files[a];return this},generate:function(a){var e,f,a=d(a||{},{base64:!0,compression:"STORE",type:"base64"}),h=a.compression.toUpperCase(),p=[],q=[],u=0;if(!JSZip.compressions[h])throw h+" is not a valid compression method !";for(var G in this.files)if(this.files.hasOwnProperty(G)){e=this.files[G];var I=this.utf8encode(e.name),K=f="",C=e;e=I;var F=h;f=e!==C.name;var K=C.asBinary(),H=C.options,
L=C=void 0,C=H.date.getHours(),C=C<<6,C=C|H.date.getMinutes(),C=C<<5,C=C|H.date.getSeconds()/2,L=H.date.getFullYear()-1980,L=L<<4,L=L|H.date.getMonth()+1,L=L<<5,L=L|H.date.getDate(),H=JSZip.compressions[F],F=H.compress(K),J="",J=J+"\n\x00",J=J+(f?"\x00\b":"\x00\x00"),J=J+H.magic,J=J+c(C,2),J=J+c(L,2),J=J+c(this.crc32(K),4),J=J+c(F.length,4),J=J+c(K.length,4),J=J+c(e.length,2);e=J+="\x00\x00";f=F;f=JSZip.signature.LOCAL_FILE_HEADER+e+I+f;K=JSZip.signature.CENTRAL_FILE_HEADER+"\u0014\x00"+e+"\x00\x00\x00\x00\x00\x00"+
(!0===this.files[G].dir?"\u0010\x00\x00\x00":"\x00\x00\x00\x00")+c(u,4)+I;u+=f.length;q.push(f);p.push(K)}h=q.join("");p=p.join("");u="";u=JSZip.signature.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+c(q.length,2)+c(q.length,2)+c(p.length,4)+c(h.length,4)+"\x00\x00";q=h+p+u;switch(a.type.toLowerCase()){case "uint8array":return JSZip.utils.string2Uint8Array(q);case "arraybuffer":return JSZip.utils.string2Uint8Array(q).buffer;case "blob":return JSZip.utils.string2Blob(q);case "base64":return a.base64?JSZipBase64.encode(q):
q;default:return q}},crc32:function(a,c){if(""===a||"undefined"===typeof a)return 0;var d=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,
2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,
2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,
2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,
3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,
956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"==typeof c&&(c=0);for(var e=0,e=0,c=c^-1,f=0,h=a.length;f<h;f++)e=(c^a.charCodeAt(f))&255,e=d[e],c=c>>>8^e;return c^-1},clone:function(){var a=new JSZip,c;for(c in this)"function"!==
typeof this[c]&&(a[c]=this[c]);return a},utf8encode:function(a){for(var a=a.replace(/\r\n/g,"\n"),c="",d=0;d<a.length;d++){var e=a.charCodeAt(d);128>e?c+=String.fromCharCode(e):(127<e&&2048>e?c+=String.fromCharCode(e>>6|192):(c+=String.fromCharCode(e>>12|224),c+=String.fromCharCode(e>>6&63|128)),c+=String.fromCharCode(e&63|128))}return c},utf8decode:function(a){for(var c="",d=0,e=0,f=0,h=0;d<a.length;)e=a.charCodeAt(d),128>e?(c+=String.fromCharCode(e),d++):191<e&&224>e?(f=a.charCodeAt(d+1),c+=String.fromCharCode((e&
31)<<6|f&63),d+=2):(f=a.charCodeAt(d+1),h=a.charCodeAt(d+2),c+=String.fromCharCode((e&15)<<12|(f&63)<<6|h&63),d+=3);return c}}}();JSZip.compressions={STORE:{magic:"\x00\x00",compress:function(a){return a},uncompress:function(a){return a}}};
JSZip.support={arraybuffer:function(){return"undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array}(),uint8array:function(){return"undefined"!==typeof Uint8Array}(),blob:function(){if("undefined"===typeof ArrayBuffer)return!1;var a=new ArrayBuffer(0);try{return 0===(new Blob([a],{type:"application/zip"})).size}catch(c){}try{var d=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);d.append(a);return 0===d.getBlob("application/zip").size}catch(e){}return!1}()};
JSZip.utils={string2binary:function(a){for(var c="",d=0;d<a.length;d++)c+=String.fromCharCode(a.charCodeAt(d)&255);return c},string2Uint8Array:function(a){if(!JSZip.support.uint8array)throw Error("Uint8Array is not supported by this browser");for(var c=new ArrayBuffer(a.length),c=new Uint8Array(c),d=0;d<a.length;d++)c[d]=a.charCodeAt(d);return c},uint8Array2String:function(a){if(!JSZip.support.uint8array)throw Error("Uint8Array is not supported by this browser");for(var c="",d=0;d<a.length;d++)c+=
String.fromCharCode(a[d]);return c},string2Blob:function(a){if(!JSZip.support.blob)throw Error("Blob is not supported by this browser");a=JSZip.utils.string2Uint8Array(a).buffer;try{return new Blob([a],{type:"application/zip"})}catch(c){}try{var d=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);d.append(a);return d.getBlob("application/zip")}catch(e){}throw Error("Bug : can't construct the Blob.");}};
for(var _keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",lookup={},i=0;i<_keyStr.length;i++)keyChar=_keyStr.charAt(i),lookup[keyChar]=i;
var JSZipBase64=function(){return{encode:function(a){for(var c="",d,e,f,h,k,l,m=0;m<a.length;)d=a.charCodeAt(m++),e=a.charCodeAt(m++),f=a.charCodeAt(m++),h=d>>2,d=(d&3)<<4|e>>4,k=(e&15)<<2|f>>6,l=f&63,isNaN(e)?k=l=64:isNaN(f)&&(l=64),c=c+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l);
return c},decode:function(a){for(var c="",d,e,f,h,k,l=0,a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<a.length;)d=lookup[a.charAt(l++)],e=lookup[a.charAt(l++)],h=lookup[a.charAt(l++)],k=lookup[a.charAt(l++)],d=d<<2|e>>4,e=(e&15)<<4|h>>2,f=(h&3)<<6|k,c+=String.fromCharCode(d),64!=h&&(c+=String.fromCharCode(e)),64!=k&&(c+=String.fromCharCode(f));return c}}}();(function(){Downloadify=window.Downloadify={queue:{},uid:(new Date).getTime(),getTextForSave:function(a){return(a=Downloadify.queue[a])?a.getData():""},getFileNameForSave:function(a){return(a=Downloadify.queue[a])?a.getFilename():""},getDataTypeForSave:function(a){return(a=Downloadify.queue[a])?a.getDataType():""},saveComplete:function(a){(a=Downloadify.queue[a])&&a.complete();return!0},saveCancel:function(a){(a=Downloadify.queue[a])&&a.cancel();return!0},saveError:function(a){(a=Downloadify.queue[a])&&
a.error();return!0},addToQueue:function(a){Downloadify.queue[a.queue_name]=a},getUID:function(a){""==a.id&&(a.id="downloadify_"+Downloadify.uid++);return a.id}};Downloadify.create=function(a,c){var d="string"==typeof a?document.getElementById(a):a;return new Downloadify.Container(d,c)};Downloadify.Container=function(a,c){var d=this;d.el=a;d.enabled=!0;d.dataCallback=null;d.filenameCallback=null;d.data=null;d.filename=null;d.enable=function(){document.getElementById(d.flashContainer.id+"_swf").setEnabled(!0);
d.enabled=!0};d.disable=function(){document.getElementById(d.flashContainer.id+"_swf").setEnabled(!1);d.enabled=!1};d.getData=function(){return!d.enabled?"":d.dataCallback?d.dataCallback():d.data?d.data:""};d.getFilename=function(){return d.filenameCallback?d.filenameCallback():d.filename?d.filename:""};d.getDataType=function(){return d.options.dataType?d.options.dataType:"string"};d.complete=function(){if("function"===typeof d.options.onComplete)d.options.onComplete()};d.cancel=function(){if("function"===
typeof d.options.onCancel)d.options.onCancel()};d.error=function(){if("function"===typeof d.options.onError)d.options.onError()};d.options=c;d.options.append||(d.el.innerHTML="");d.flashContainer=document.createElement("span");d.el.appendChild(d.flashContainer);d.queue_name=Downloadify.getUID(d.flashContainer);"function"===typeof d.options.filename?d.filenameCallback=d.options.filename:d.options.filename&&(d.filename=d.options.filename);"function"===typeof d.options.data?d.dataCallback=d.options.data:
d.options.data&&(d.data=d.options.data);var e={queue_name:d.queue_name,width:d.options.width,height:d.options.height},f={allowScriptAccess:"always"},h={id:d.flashContainer.id+"_swf",name:d.flashContainer.id};!1===d.options.enabled&&(d.enabled=!1);!0===d.options.transparent&&(f.wmode="transparent");d.options.downloadImage&&(e.downloadImage=d.options.downloadImage);swfobject.embedSWF(d.options.swf,d.flashContainer.id,d.options.width,d.options.height,"10",null,e,f,h);Downloadify.addToQueue(d)};Downloadify.defaultOptions=
{swf:"media/downloadify.swf",downloadImage:"images/download.png",width:100,height:30,transparent:!0,append:!1,dataType:"string"}})();"undefined"!=typeof jQuery&&function(a){a.fn.downloadify=function(c){return this.each(function(){c=a.extend({},Downloadify.defaultOptions,c);var d=Downloadify.create(this,c);a(this).data("Downloadify",d)})}}(jQuery);var swfobject=function(){function a(){if(!w){try{var a=D.getElementsByTagName("body")[0].appendChild(D.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}w=!0;for(var a=R.length,d=0;d<a;d++)R[d]()}}function c(a){w?a():R[R.length]=a}function d(a){if(typeof J.addEventListener!=C)J.addEventListener("load",a,!1);else if(typeof D.addEventListener!=C)D.addEventListener("load",a,!1);else if(typeof J.attachEvent!=C){var c=J;c.attachEvent("onload",a);P[P.length]=[c,"onload",a]}else if("function"==
typeof J.onload){var d=J.onload;J.onload=function(){d();a()}}else J.onload=a}function e(){var a=N.length;if(0<a)for(var c=0;c<a;c++){var d=N[c].id,e=N[c].callbackFn,m={success:!1,id:d};if(0<E.pv[0]){var n=q(d);if(n)if(u(N[c].swfVersion)&&!(E.wk&&312>E.wk))I(d,!0),e&&(m.success=!0,m.ref=f(d),e(m));else if(N[c].expressInstall&&h()){m={};m.data=N[c].expressInstall;m.width=n.getAttribute("width")||"0";m.height=n.getAttribute("height")||"0";n.getAttribute("class")&&(m.styleclass=n.getAttribute("class"));
n.getAttribute("align")&&(m.align=n.getAttribute("align"));for(var p={},n=n.getElementsByTagName("param"),w=n.length,z=0;z<w;z++)"movie"!=n[z].getAttribute("name").toLowerCase()&&(p[n[z].getAttribute("name")]=n[z].getAttribute("value"));k(m,p,d,e)}else l(n),e&&e(m)}else if(I(d,!0),e){if((d=f(d))&&typeof d.SetVariable!=C)m.success=!0,m.ref=d;e(m)}}}function f(a){var c=null;if((a=q(a))&&"OBJECT"==a.nodeName)typeof a.SetVariable!=C?c=a:(a=a.getElementsByTagName(F)[0])&&(c=a);return c}function h(){return!z&&
u("6.0.65")&&(E.win||E.mac)&&!(E.wk&&312>E.wk)}function k(a,c,d,e){z=!0;B=e||null;A={success:!1,id:d};var f=q(d);if(f){"OBJECT"==f.nodeName?(Q=m(f),T=null):(Q=f,T=d);a.id=L;if(typeof a.width==C||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==C||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";D.title=D.title.slice(0,47)+" - Flash Player Installation";e=E.ie&&E.win?"ActiveX":"PlugIn";e="MMredirectURL="+J.location.toString().replace(/&/g,"%26")+"&MMplayerType="+
e+"&MMdoctitle="+D.title;c.flashvars=typeof c.flashvars!=C?c.flashvars+("&"+e):e;E.ie&&(E.win&&4!=f.readyState)&&(e=D.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());n(a,c,d)}}function l(a){if(E.ie&&E.win&&4!=a.readyState){var c=D.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(m(a),c);a.style.display="none";(function(){4==
a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(m(a),a)}function m(a){var c=D.createElement("div");if(E.win&&E.ie)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(F)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)!(1==a[e].nodeType&&"PARAM"==a[e].nodeName)&&8!=a[e].nodeType&&c.appendChild(a[e].cloneNode(!0));return c}function n(a,c,d){var e,f=q(d);if(E.wk&&312>E.wk)return e;if(f)if(typeof a.id==C&&(a.id=d),E.ie&&E.win){var h=
"",k;for(k in a)a[k]!=Object.prototype[k]&&("data"==k.toLowerCase()?c.movie=a[k]:"styleclass"==k.toLowerCase()?h+=' class="'+a[k]+'"':"classid"!=k.toLowerCase()&&(h+=" "+k+'="'+a[k]+'"'));k="";for(var l in c)c[l]!=Object.prototype[l]&&(k+='<param name="'+l+'" value="'+c[l]+'" />');f.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+h+">"+k+"</object>";S[S.length]=a.id;e=q(a.id)}else{l=D.createElement(F);l.setAttribute("type",H);for(var m in a)a[m]!=Object.prototype[m]&&("styleclass"==
m.toLowerCase()?l.setAttribute("class",a[m]):"classid"!=m.toLowerCase()&&l.setAttribute(m,a[m]));for(h in c)c[h]!=Object.prototype[h]&&"movie"!=h.toLowerCase()&&(a=l,k=h,m=c[h],d=D.createElement("param"),d.setAttribute("name",k),d.setAttribute("value",m),a.appendChild(d));f.parentNode.replaceChild(l,f);e=l}return e}function p(a){var c=q(a);c&&"OBJECT"==c.nodeName&&(E.ie&&E.win?(c.style.display="none",function(){if(4==c.readyState){var d=q(a);if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);
d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function q(a){var c=null;try{c=D.getElementById(a)}catch(d){}return c}function u(a){var c=E.pv,a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function G(a,c,d,e){if(!E.ie||!E.mac){var f=D.getElementsByTagName("head")[0];if(f){d=d&&"string"==typeof d?d:"screen";e&&(Z=U=null);if(!U||
Z!=d)e=D.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),U=f.appendChild(e),E.ie&&(E.win&&typeof D.styleSheets!=C&&0<D.styleSheets.length)&&(U=D.styleSheets[D.styleSheets.length-1]),Z=d;E.ie&&E.win?U&&typeof U.addRule==F&&U.addRule(a,c):U&&typeof D.createTextNode!=C&&U.appendChild(D.createTextNode(a+" {"+c+"}"))}}}function I(a,c){if(aa){var d=c?"visible":"hidden";w&&q(a)?q(a).style.visibility=d:G("#"+a,"visibility:"+d)}}function K(a){return null!=/[\\\"<>\.;]/.exec(a)&&
typeof encodeURIComponent!=C?encodeURIComponent(a):a}var C="undefined",F="object",H="application/x-shockwave-flash",L="SWFObjectExprInst",J=window,D=document,M=navigator,V=!1,R=[function(){if(V){var a=D.getElementsByTagName("body")[0],c=D.createElement(F);c.setAttribute("type",H);var d=a.appendChild(c);if(d){var f=0;(function(){if(typeof d.GetVariable!=C){var h=d.GetVariable("$version");h&&(h=h.split(" ")[1].split(","),E.pv=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}else if(10>f){f++;
setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;e()})()}else e()}else e()}],N=[],S=[],P=[],Q,T,B,A,w=!1,z=!1,U,Z,aa=!0,E,ca=typeof D.getElementById!=C&&typeof D.getElementsByTagName!=C&&typeof D.createElement!=C,W=M.userAgent.toLowerCase(),X=M.platform.toLowerCase(),da=X?/win/.test(X):/win/.test(W),X=X?/mac/.test(X):/mac/.test(W),W=/webkit/.test(W)?parseFloat(W.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,$=!+"\v1",Y=[0,0,0],O=null;if(typeof M.plugins!=C&&typeof M.plugins["Shockwave Flash"]==
F){if((O=M.plugins["Shockwave Flash"].description)&&!(typeof M.mimeTypes!=C&&M.mimeTypes[H]&&!M.mimeTypes[H].enabledPlugin))V=!0,$=!1,O=O.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),Y[0]=parseInt(O.replace(/^(.*)\..*$/,"$1"),10),Y[1]=parseInt(O.replace(/^.*\.(.*)\s.*$/,"$1"),10),Y[2]=/[a-zA-Z]/.test(O)?parseInt(O.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}else if(typeof J.ActiveXObject!=C)try{var ba=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(ba&&(O=ba.GetVariable("$version")))$=!0,O=O.split(" ")[1].split(","),
Y=[parseInt(O[0],10),parseInt(O[1],10),parseInt(O[2],10)]}catch(ea){}E={w3:ca,pv:Y,wk:W,ie:$,win:da,mac:X};E.w3&&((typeof D.readyState!=C&&"complete"==D.readyState||typeof D.readyState==C&&(D.getElementsByTagName("body")[0]||D.body))&&a(),w||(typeof D.addEventListener!=C&&D.addEventListener("DOMContentLoaded",a,!1),E.ie&&E.win&&(D.attachEvent("onreadystatechange",function(){"complete"==D.readyState&&(D.detachEvent("onreadystatechange",arguments.callee),a())}),J==top&&function(){if(!w){try{D.documentElement.doScroll("left")}catch(c){setTimeout(arguments.callee,
0);return}a()}}()),E.wk&&function(){w||(/loaded|complete/.test(D.readyState)?a():setTimeout(arguments.callee,0))}(),d(a)));E.ie&&E.win&&window.attachEvent("onunload",function(){for(var a=P.length,c=0;c<a;c++)P[c][0].detachEvent(P[c][1],P[c][2]);a=S.length;for(c=0;c<a;c++)p(S[c]);for(var d in E)E[d]=null;E=null;for(var e in swfobject)swfobject[e]=null;swfobject=null});return{registerObject:function(a,c,d,e){if(E.w3&&a&&c){var f={};f.id=a;f.swfVersion=c;f.expressInstall=d;f.callbackFn=e;N[N.length]=
f;I(a,!1)}else e&&e({success:!1,id:a})},getObjectById:function(a){if(E.w3)return f(a)},embedSWF:function(a,d,e,f,l,m,p,q,z,w){var B={success:!1,id:d};E.w3&&!(E.wk&&312>E.wk)&&a&&d&&e&&f&&l?(I(d,!1),c(function(){e+="";f+="";var c={};if(z&&typeof z===F)for(var A in z)c[A]=z[A];c.data=a;c.width=e;c.height=f;A={};if(q&&typeof q===F)for(var D in q)A[D]=q[D];if(p&&typeof p===F)for(var E in p)A.flashvars=typeof A.flashvars!=C?A.flashvars+("&"+E+"="+p[E]):E+"="+p[E];if(u(l))D=n(c,A,d),c.id==d&&I(d,!0),B.success=
!0,B.ref=D;else{if(m&&h()){c.data=m;k(c,A,d,w);return}I(d,!0)}w&&w(B)})):w&&w(B)},switchOffAutoHideShow:function(){aa=!1},ua:E,getFlashPlayerVersion:function(){return{major:E.pv[0],minor:E.pv[1],release:E.pv[2]}},hasFlashPlayerVersion:u,createSWF:function(a,c,d){if(E.w3)return n(a,c,d)},showExpressInstall:function(a,c,d,e){E.w3&&h()&&k(a,c,d,e)},removeSWF:function(a){E.w3&&p(a)},createCSS:function(a,c,d,e){E.w3&&G(a,c,d,e)},addDomLoadEvent:c,addLoadEvent:d,getQueryParamValue:function(a){var c=D.location.search||
D.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return K(c);for(var c=c.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return K(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(z){var a=q(L);a&&Q&&(a.parentNode.replaceChild(Q,a),T&&(I(T,!0),E.ie&&E.win&&(Q.style.display="block")),B&&B(A));z=!1}}}}();if(this.JpegMeta)throw Error("Library included multiple times");
var JpegMeta={parseNum:function(a,c,d,e){var f,h,a=">"===a;void 0===d&&(d=0);void 0===e&&(e=c.length-d);for(a?f=d:f=d+e-1;a?f<d+e:f>=d;a?f++:f--)h<<=8,h+=c.charCodeAt(f);return h},parseSnum:function(a,c,d,e){var f,h,k,a=">"===a;void 0===d&&(d=0);void 0===e&&(e=c.length-d);for(a?f=d:f=d+e-1;a?f<d+e:f>=d;a?f++:f--)void 0===k&&(k=128===(c.charCodeAt(f)&128)),h<<=8,h+=k?~c.charCodeAt(f)&255:c.charCodeAt(f);k&&(h=-1*(h+1));return h},Rational:function(a,c){this.num=a;this.den=c||1;return this}};
JpegMeta.Rational.prototype.toString=function(){return 0===this.num||1===this.den?""+this.num:1===this.num?this.num+" / "+this.den:this.num/this.den};JpegMeta.Rational.prototype.asFloat=function(){return this.num/this.den};JpegMeta.MetaGroup=function(a,c){this.fieldName=a;this.description=c;this.metaProps={};return this};JpegMeta.MetaGroup.prototype._addProperty=function(a,c,d){a=new JpegMeta.MetaProp(a,c,d);this[a.fieldName]=a;this.metaProps[a.fieldName]=a};
JpegMeta.MetaGroup.prototype.toString=function(){return"[MetaGroup "+this.description+"]"};JpegMeta.MetaProp=function(a,c,d){this.fieldName=a;this.description=c;this.value=d;return this};JpegMeta.MetaProp.prototype.toString=function(){return""+this.value};
this.JpegMeta.JpegFile=function(a,c){var d=this._SOS;this.metaGroups={};this._binary_data=a;this.filename=c;var e=0,f=0,h,k;if(this._binary_data.slice(0,2)!==this._SOI_MARKER)throw Error("Doesn't look like a JPEG file. First two bytes are "+this._binary_data.charCodeAt(0)+","+this._binary_data.charCodeAt(1)+".");for(e+=2;e<this._binary_data.length;){h=this._binary_data.charCodeAt(e++);k=this._binary_data.charCodeAt(e++);f=e;if(h!=this._DELIM)break;if(k===d)break;h=JpegMeta.parseNum(">",this._binary_data,
e,2);for(e+=h;e<this._binary_data.length;)if(h=this._binary_data.charCodeAt(e++),h==this._DELIM&&(h=this._binary_data.charCodeAt(e++),0!=h)){e-=2;break}if(h=this._markers[k]?this._markers[k][1]:void 0)this[h](k,f+2)}if(void 0===this.general)throw Error("Invalid JPEG file.");return this};this.JpegMeta.JpegFile.prototype.toString=function(){return"[JpegFile "+this.filename+" "+this.general.type+" "+this.general.pixelWidth+"x"+this.general.pixelHeight+" Depth: "+this.general.depth+"]"};
this.JpegMeta.JpegFile.prototype._SOI_MARKER="\u00ff\u00d8";this.JpegMeta.JpegFile.prototype._DELIM=255;this.JpegMeta.JpegFile.prototype._EOI=217;this.JpegMeta.JpegFile.prototype._SOS=218;
this.JpegMeta.JpegFile.prototype._sofHandler=function(a,c){if(void 0!==this.general)throw Error("Unexpected multiple-frame image");this._addMetaGroup("general","General");this.general._addProperty("depth","Depth",JpegMeta.parseNum(">",this._binary_data,c,1));this.general._addProperty("pixelHeight","Pixel Height",JpegMeta.parseNum(">",this._binary_data,c+1,2));this.general._addProperty("pixelWidth","Pixel Width",JpegMeta.parseNum(">",this._binary_data,c+3,2));this.general._addProperty("type","Type",
this._markers[a][2])};this.JpegMeta.JpegFile.prototype._JFIF_IDENT="JFIF\x00";this.JpegMeta.JpegFile.prototype._JFXX_IDENT="JFXX\x00";this.JpegMeta.JpegFile.prototype._EXIF_IDENT="Exif\x00";this.JpegMeta.JpegFile.prototype._types={1:["BYTE",1],2:["ASCII",1],3:["SHORT",2],4:["LONG",4],5:["RATIONAL",8],6:["SBYTE",1],7:["UNDEFINED",1],8:["SSHORT",2],9:["SLONG",4],10:["SRATIONAL",8],11:["FLOAT",4],12:["DOUBLE",8]};
this.JpegMeta.JpegFile.prototype._tifftags={256:["Image width","ImageWidth"],257:["Image height","ImageLength"],258:["Number of bits per component","BitsPerSample"],259:["Compression scheme","Compression",{1:"uncompressed",6:"JPEG compression"}],262:["Pixel composition","PhotmetricInerpretation",{2:"RGB",6:"YCbCr"}],274:["Orientation of image","Orientation",{1:"Normal",2:"Reverse?",3:"Upside-down",4:"Upside-down Reverse",5:"90 degree CW",6:"90 degree CW reverse",7:"90 degree CCW",8:"90 degree CCW reverse"}],
277:["Number of components","SamplesPerPixel"],284:["Image data arrangement","PlanarConfiguration",{1:"chunky format",2:"planar format"}],530:["Subsampling ratio of Y to C","YCbCrSubSampling"],531:["Y and C positioning","YCbCrPositioning",{1:"centered",2:"co-sited"}],282:["X Resolution","XResolution"],283:["Y Resolution","YResolution"],296:["Resolution Unit","ResolutionUnit",{2:"inches",3:"centimeters"}],273:["Image data location","StripOffsets"],278:["Number of rows per strip","RowsPerStrip"],279:["Bytes per compressed strip",
"StripByteCounts"],513:["Offset to JPEG SOI","JPEGInterchangeFormat"],514:["Bytes of JPEG Data","JPEGInterchangeFormatLength"],301:["Transfer function","TransferFunction"],318:["White point chromaticity","WhitePoint"],319:["Chromaticities of primaries","PrimaryChromaticities"],529:["Color space transformation matrix coefficients","YCbCrCoefficients"],532:["Pair of black and white reference values","ReferenceBlackWhite"],306:["Date and time","DateTime"],270:["Image title","ImageDescription"],271:["Make",
"Make"],272:["Model","Model"],305:["Software","Software"],315:["Person who created the image","Artist"],316:["Host Computer","HostComputer"],33432:["Copyright holder","Copyright"],34665:["Exif tag","ExifIfdPointer"],34853:["GPS tag","GPSInfoIfdPointer"]};
this.JpegMeta.JpegFile.prototype._exiftags={36864:["Exif Version","ExifVersion"],40960:["FlashPix Version","FlashpixVersion"],40961:["Color Space","ColorSpace"],37121:["Meaning of each component","ComponentsConfiguration"],37122:["Compressed Bits Per Pixel","CompressedBitsPerPixel"],40962:["Pixel X Dimension","PixelXDimension"],40963:["Pixel Y Dimension","PixelYDimension"],37500:["Manufacturer notes","MakerNote"],37510:["User comments","UserComment"],40964:["Related audio file","RelatedSoundFile"],
36867:["Date Time Original","DateTimeOriginal"],36868:["Date Time Digitized","DateTimeDigitized"],37520:["DateTime subseconds","SubSecTime"],37521:["DateTimeOriginal subseconds","SubSecTimeOriginal"],37522:["DateTimeDigitized subseconds","SubSecTimeDigitized"],33434:["Exposure time","ExposureTime"],33437:["FNumber","FNumber"],34850:["Exposure program","ExposureProgram"],34852:["Spectral sensitivity","SpectralSensitivity"],34855:["ISO Speed Ratings","ISOSpeedRatings"],34856:["Optoelectric coefficient",
"OECF"],37377:["Shutter Speed","ShutterSpeedValue"],37378:["Aperture Value","ApertureValue"],37379:["Brightness","BrightnessValue"],37380:["Exposure Bias Value","ExposureBiasValue"],37381:["Max Aperture Value","MaxApertureValue"],37382:["Subject Distance","SubjectDistance"],37383:["Metering Mode","MeteringMode"],37384:["Light Source","LightSource"],37385:["Flash","Flash"],37386:["Focal Length","FocalLength"],37396:["Subject Area","SubjectArea"],41483:["Flash Energy","FlashEnergy"],41484:["Spatial Frequency Response",
"SpatialFrequencyResponse"],41486:["Focal Plane X Resolution","FocalPlaneXResolution"],41487:["Focal Plane Y Resolution","FocalPlaneYResolution"],41488:["Focal Plane Resolution Unit","FocalPlaneResolutionUnit"],41492:["Subject Location","SubjectLocation"],41493:["Exposure Index","ExposureIndex"],41495:["Sensing Method","SensingMethod"],41728:["File Source","FileSource"],41729:["Scene Type","SceneType"],41730:["CFA Pattern","CFAPattern"],41985:["Custom Rendered","CustomRendered"],41986:["Exposure Mode",
"Exposure Mode"],41987:["White Balance","WhiteBalance"],41988:["Digital Zoom Ratio","DigitalZoomRatio"],41990:["Scene Capture Type","SceneCaptureType"],41991:["Gain Control","GainControl"],41992:["Contrast","Contrast"],41993:["Saturation","Saturation"],41994:["Sharpness","Sharpness"],41995:["Device settings description","DeviceSettingDescription"],41996:["Subject distance range","SubjectDistanceRange"],42016:["Unique image ID","ImageUniqueID"],40965:["Interoperability tag","InteroperabilityIFDPointer"]};
this.JpegMeta.JpegFile.prototype._gpstags={"0":["GPS tag version","GPSVersionID"],1:["North or South Latitude","GPSLatitudeRef"],2:["Latitude","GPSLatitude"],3:["East or West Longitude","GPSLongitudeRef"],4:["Longitude","GPSLongitude"],5:["Altitude reference","GPSAltitudeRef"],6:["Altitude","GPSAltitude"],7:["GPS time (atomic clock)","GPSTimeStamp"],8:["GPS satellites usedd for measurement","GPSSatellites"],9:["GPS receiver status","GPSStatus"],10:["GPS mesaurement mode","GPSMeasureMode"],11:["Measurement precision",
"GPSDOP"],12:["Speed unit","GPSSpeedRef"],13:["Speed of GPS receiver","GPSSpeed"],14:["Reference for direction of movement","GPSTrackRef"],15:["Direction of movement","GPSTrack"],16:["Reference for direction of image","GPSImgDirectionRef"],17:["Direction of image","GPSImgDirection"],18:["Geodetic survey data used","GPSMapDatum"],19:["Reference for latitude of destination","GPSDestLatitudeRef"],20:["Latitude of destination","GPSDestLatitude"],21:["Reference for longitude of destination","GPSDestLongitudeRef"],
22:["Longitude of destination","GPSDestLongitude"],23:["Reference for bearing of destination","GPSDestBearingRef"],24:["Bearing of destination","GPSDestBearing"],25:["Reference for distance to destination","GPSDestDistanceRef"],26:["Distance to destination","GPSDestDistance"],27:["Name of GPS processing method","GPSProcessingMethod"],28:["Name of GPS area","GPSAreaInformation"],29:["GPS Date","GPSDateStamp"],30:["GPS differential correction","GPSDifferential"]};
this.JpegMeta.JpegFile.prototype._markers={192:["SOF0","_sofHandler","Baseline DCT"],193:["SOF1","_sofHandler","Extended sequential DCT"],194:["SOF2","_sofHandler","Progressive DCT"],195:["SOF3","_sofHandler","Lossless (sequential)"],197:["SOF5","_sofHandler","Differential sequential DCT"],198:["SOF6","_sofHandler","Differential progressive DCT"],199:["SOF7","_sofHandler","Differential lossless (sequential)"],200:["JPG",null,"Reserved for JPEG extensions"],201:["SOF9","_sofHandler","Extended sequential DCT"],
202:["SOF10","_sofHandler","Progressive DCT"],203:["SOF11","_sofHandler","Lossless (sequential)"],205:["SOF13","_sofHandler","Differential sequential DCT"],206:["SOF14","_sofHandler","Differential progressive DCT"],207:["SOF15","_sofHandler","Differential lossless (sequential)"],196:["DHT",null,"Define Huffman table(s)"],204:["DAC",null,"Define arithmetic coding conditioning(s)"],208:["RST0",null,"Restart with modulo 8 count \u201c0\u201d"],209:["RST1",null,"Restart with modulo 8 count \u201c1\u201d"],
210:["RST2",null,"Restart with modulo 8 count \u201c2\u201d"],211:["RST3",null,"Restart with modulo 8 count \u201c3\u201d"],212:["RST4",null,"Restart with modulo 8 count \u201c4\u201d"],213:["RST5",null,"Restart with modulo 8 count \u201c5\u201d"],214:["RST6",null,"Restart with modulo 8 count \u201c6\u201d"],215:["RST7",null,"Restart with modulo 8 count \u201c7\u201d"],216:["SOI",null,"Start of image"],217:["EOI",null,"End of image"],218:["SOS",null,"Start of scan"],219:["DQT",null,"Define quantization table(s)"],
220:["DNL",null,"Define number of lines"],221:["DRI",null,"Define restart interval"],222:["DHP",null,"Define hierarchical progression"],223:["EXP",null,"Expand reference component(s)"],224:["APP0","_app0Handler","Reserved for application segments"],225:["APP1","_app1Handler"],226:["APP2",null],227:["APP3",null],228:["APP4",null],229:["APP5",null],230:["APP6",null],231:["APP7",null],232:["APP8",null],233:["APP9",null],234:["APP10",null],235:["APP11",null],236:["APP12",null],237:["APP13",null],238:["APP14",
null],239:["APP15",null],240:["JPG0",null],241:["JPG1",null],242:["JPG2",null],243:["JPG3",null],244:["JPG4",null],245:["JPG5",null],246:["JPG6",null],247:["JPG7",null],248:["JPG8",null],249:["JPG9",null],250:["JPG10",null],251:["JPG11",null],252:["JPG12",null],253:["JPG13",null],254:["COM",null],1:["JPG13",null]};this.JpegMeta.JpegFile.prototype._addMetaGroup=function(a,c){var d=new JpegMeta.MetaGroup(a,c);this[d.fieldName]=d;return this.metaGroups[d.fieldName]=d};
this.JpegMeta.JpegFile.prototype._parseIfd=function(a,c,d,e,f,h,k){var l=JpegMeta.parseNum(a,c,d+e,2),m,n,p,q,u,G,I,K,C;C=this._addMetaGroup(h,k);for(h=0;h<l;h++)if(m=d+e+2+12*h,k=JpegMeta.parseNum(a,c,m,2),p=JpegMeta.parseNum(a,c,m+2,2),q=JpegMeta.parseNum(a,c,m+4,4),u=JpegMeta.parseNum(a,c,m+8,4),void 0!==this._types[p]){n=this._types[p][0];p=this._types[p][1];u=4>=p*q?m+8:d+u;if("UNDEFINED"==n)G=c.slice(u,u+q);else if("ASCII"==n)G=c.slice(u,u+q),G=G.split("\x00")[0];else{G=[];for(m=0;m<q;m++,u+=
p)("BYTE"==n||"SHORT"==n||"LONG"==n)&&G.push(JpegMeta.parseNum(a,c,u,p)),("SBYTE"==n||"SSHORT"==n||"SLONG"==n)&&G.push(JpegMeta.parseSnum(a,c,u,p)),"RATIONAL"==n&&(I=JpegMeta.parseNum(a,c,u,4),K=JpegMeta.parseNum(a,c,u+4,4),G.push(new JpegMeta.Rational(I,K))),"SRATIONAL"==n&&(I=JpegMeta.parseSnum(a,c,u,4),K=JpegMeta.parseSnum(a,c,u+4,4),G.push(new JpegMeta.Rational(I,K))),G.push();1===q&&(G=G[0])}f&&(f[k]&&2<=f[k].length)&&C._addProperty(f[k][1],f[k][0],G)}};
this.JpegMeta.JpegFile.prototype._jfifHandler=function(a,c){if(void 0!==this.jfif)throw Error("Multiple JFIF segments found");this._addMetaGroup("jfif","JFIF");this.jfif._addProperty("version_major","Version Major",this._binary_data.charCodeAt(c+5));this.jfif._addProperty("version_minor","Version Minor",this._binary_data.charCodeAt(c+6));this.jfif._addProperty("version","JFIF Version",this.jfif.version_major.value+"."+this.jfif.version_minor.value);this.jfif._addProperty("units","Density Unit",this._binary_data.charCodeAt(c+
7));this.jfif._addProperty("Xdensity","X density",JpegMeta.parseNum(">",this._binary_data,c+8,2));this.jfif._addProperty("Ydensity","Y Density",JpegMeta.parseNum(">",this._binary_data,c+10,2));this.jfif._addProperty("Xthumbnail","X Thumbnail",JpegMeta.parseNum(">",this._binary_data,c+12,1));this.jfif._addProperty("Ythumbnail","Y Thumbnail",JpegMeta.parseNum(">",this._binary_data,c+13,1))};
this.JpegMeta.JpegFile.prototype._app0Handler=function(a,c){this._binary_data.slice(c,c+5)==this._JFIF_IDENT&&this._jfifHandler(a,c)};this.JpegMeta.JpegFile.prototype._app1Handler=function(a,c){this._binary_data.slice(c,c+5)==this._EXIF_IDENT&&this._exifHandler(a,c+6)};
JpegMeta.JpegFile.prototype._exifHandler=function(a,c){if(void 0!==this.exif)throw Error("Multiple JFIF segments found");var d,e;d=this._binary_data.slice(c,c+2);if("II"===d)d="<";else if("MM"===d)d=">";else throw Error("Malformed TIFF meta-data. Unknown endianess: "+d);e=JpegMeta.parseNum(d,this._binary_data,c+2,2);if(42!==e)throw Error("Malformed TIFF meta-data. Bad magic: "+e);e=JpegMeta.parseNum(d,this._binary_data,c+4,4);this._parseIfd(d,this._binary_data,c,e,this._tifftags,"tiff","TIFF");this.tiff.ExifIfdPointer&&
this._parseIfd(d,this._binary_data,c,this.tiff.ExifIfdPointer.value,this._exiftags,"exif","Exif");this.tiff.GPSInfoIfdPointer&&(this._parseIfd(d,this._binary_data,c,this.tiff.GPSInfoIfdPointer.value,this._gpstags,"gps","GPS"),this.gps.GPSLatitude&&(d=this.gps.GPSLatitude.value[0].asFloat()+1/60*this.gps.GPSLatitude.value[1].asFloat()+1/3600*this.gps.GPSLatitude.value[2].asFloat(),"S"===this.gps.GPSLatitudeRef.value&&(d=-d),this.gps._addProperty("latitude","Dec. Latitude",d)),this.gps.GPSLongitude&&
(d=this.gps.GPSLongitude.value[0].asFloat()+1/60*this.gps.GPSLongitude.value[1].asFloat()+1/3600*this.gps.GPSLongitude.value[2].asFloat(),"W"===this.gps.GPSLongitudeRef.value&&(d=-d),this.gps._addProperty("longitude","Dec. Longitude",d)))};goog.structs.InversionMap=function(a,c,d){if(a.length!=c.length)return null;this.storeInversion_(a,d);this.values=c};goog.structs.InversionMap.prototype.storeInversion_=function(a,c){this.rangeArray=a;for(var d=1;d<a.length;d++)null==a[d]?a[d]=a[d-1]+1:c&&(a[d]+=a[d-1])};
goog.structs.InversionMap.prototype.spliceInversion=function(a,c,d){var a=new goog.structs.InversionMap(a,c,d),d=a.rangeArray[0],e=goog.array.peek(a.rangeArray),c=this.getLeast(d),e=this.getLeast(e);d!=this.rangeArray[c]&&c++;d=e-c+1;goog.partial(goog.array.splice,this.rangeArray,c,d).apply(null,a.rangeArray);goog.partial(goog.array.splice,this.values,c,d).apply(null,a.values)};goog.structs.InversionMap.prototype.at=function(a){a=this.getLeast(a);return 0>a?null:this.values[a]};
goog.structs.InversionMap.prototype.getLeast=function(a){for(var c=this.rangeArray,d=0,e=c.length;8<e-d;){var f=e+d>>1;c[f]<=a?d=f:e=f}for(;d<e&&!(a<c[d]);++d);return d-1};goog.i18n={};goog.i18n.GraphemeBreak={};goog.i18n.GraphemeBreak.property={ANY:0,CONTROL:1,EXTEND:2,PREPEND:3,SPACING_MARK:4,L:5,V:6,T:7,LV:8,LVT:9,CR:10,LF:11};goog.i18n.GraphemeBreak.inversions_=null;
goog.i18n.GraphemeBreak.applyLegacyBreakRules_=function(a,c){var d=goog.i18n.GraphemeBreak.property;return a==d.CR&&c==d.LF?!1:a==d.CONTROL||a==d.CR||a==d.LF||c==d.CONTROL||c==d.CR||c==d.LF?!0:a==d.L&&(c==d.L||c==d.V||c==d.LV||c==d.LVT)||(a==d.LV||a==d.V)&&(c==d.V||c==d.T)||(a==d.LVT||a==d.T)&&c==d.T||c==d.EXTEND?!1:!0};
goog.i18n.GraphemeBreak.getBreakProp_=function(a){if(44032<=a&&55203>=a){var c=goog.i18n.GraphemeBreak.property;return 16==a%28?c.LV:c.LVT}goog.i18n.GraphemeBreak.inversions_||(goog.i18n.GraphemeBreak.inversions_=new goog.structs.InversionMap([0,10,1,2,1,18,95,33,13,1,594,112,275,7,263,45,1,1,1,2,1,2,1,1,56,4,12,11,48,20,17,1,101,7,1,7,2,2,1,4,33,1,1,1,30,27,91,11,58,9,269,2,1,56,1,1,3,8,4,1,3,4,13,2,29,1,2,56,1,1,1,2,6,6,1,9,1,10,2,29,2,1,56,2,3,17,30,2,3,14,1,56,1,1,3,8,4,1,20,2,29,1,2,56,1,1,2,
1,6,6,11,10,2,30,1,59,1,1,1,12,1,9,1,41,3,58,3,5,17,11,2,30,2,56,1,1,1,1,2,1,3,1,5,11,11,2,30,2,58,1,2,5,7,11,10,2,30,2,70,6,2,6,7,19,2,60,11,5,5,1,1,8,97,13,3,5,3,6,74,2,27,1,1,1,1,1,4,2,49,14,1,5,1,2,8,45,9,1,100,2,4,1,6,1,2,2,2,23,2,2,4,3,1,3,2,7,3,4,13,1,2,2,6,1,1,1,112,96,72,82,357,1,946,3,29,3,29,2,30,2,64,2,1,7,8,1,2,11,9,1,45,3,155,1,118,3,4,2,9,1,6,3,116,17,7,2,77,2,3,228,4,1,47,1,1,5,1,1,5,1,2,38,9,12,2,1,30,1,4,2,2,1,121,8,8,2,2,392,64,523,1,2,2,24,7,49,16,96,33,3311,32,554,6,105,2,30164,
4,9,2,388,1,3,1,4,1,23,2,2,1,88,2,50,16,1,97,8,25,11,2,213,6,2,2,2,2,12,1,8,1,1,434,11172,1116,1024,6942,1,737,16,16,7,216,1,158,2,89,3,513,1,2051,15,40,8,50981,1,1,3,3,1,5,8,8,2,7,30,4,148,3,798140,255],[1,11,1,10,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,1,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,0,2,4,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,2,4,2,0,2,0,4,0,2,4,2,0,2,0,4,0,2,0,4,2,4,2,4,2,4,2,0,2,0,4,
0,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,4,0,2,0,3,2,0,2,0,2,0,3,0,2,0,2,0,2,0,2,0,2,0,4,0,2,4,2,0,2,0,2,0,2,0,4,2,4,2,4,2,4,2,0,4,2,0,2,0,4,0,4,0,2,0,2,4,2,4,2,0,4,0,5,6,7,0,2,0,2,0,2,0,2,0,2,0,1,4,2,4,2,4,2,0,2,0,2,0,2,0,2,4,2,4,2,4,2,0,4,0,4,0,2,4,0,2,4,0,2,4,2,4,2,4,2,4,0,2,0,2,4,0,4,2,4,2,4,0,4,2,4,2,0,2,0,1,2,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,4,2,4,0,4,0,4,2,0,2,0,2,4,0,2,4,2,4,2,0,2,0,2,4,0,9,0,2,0,2,0,2,0,2,0,1,0,2,0,1,0,2,0,2,0,2,0,2,4,2,0,4,2,1,2,0,2,0,2,0,2,0,1,2],!0));return goog.i18n.GraphemeBreak.inversions_.at(a)};
goog.i18n.GraphemeBreak.hasGraphemeBreak=function(a,c,d){var a=goog.i18n.GraphemeBreak.getBreakProp_(a),c=goog.i18n.GraphemeBreak.getBreakProp_(c),e=goog.i18n.GraphemeBreak.property;return goog.i18n.GraphemeBreak.applyLegacyBreakRules_(a,c)&&!(d&&(a==e.PREPEND||c==e.SPACING_MARK))};goog.format={};goog.format.fileSize=function(a,c){return goog.format.numBytesToString(a,c,!1)};goog.format.isConvertableScaledNumber=function(a){return goog.format.SCALED_NUMERIC_RE_.test(a)};goog.format.stringToNumericValue=function(a){return goog.string.endsWith(a,"B")?goog.format.stringToNumericValue_(a,goog.format.NUMERIC_SCALES_BINARY_):goog.format.stringToNumericValue_(a,goog.format.NUMERIC_SCALES_SI_)};goog.format.stringToNumBytes=function(a){return goog.format.stringToNumericValue_(a,goog.format.NUMERIC_SCALES_BINARY_)};
goog.format.numericValueToString=function(a,c){return goog.format.numericValueToString_(a,goog.format.NUMERIC_SCALES_SI_,c)};goog.format.numBytesToString=function(a,c,d){var e="";if(!goog.isDef(d)||d)e="B";return goog.format.numericValueToString_(a,goog.format.NUMERIC_SCALES_BINARY_,c,e)};goog.format.stringToNumericValue_=function(a,c){var d=a.match(goog.format.SCALED_NUMERIC_RE_);return!d?NaN:d[1]*c[d[2]]};
goog.format.numericValueToString_=function(a,c,d,e){var f=goog.format.NUMERIC_SCALE_PREFIXES_,h=a,k="",l=1;0>a&&(a=-a);for(var m=0;m<f.length;m++){var n=f[m],l=c[n];if(a>=l||1>=l&&a>0.1*l){k=n;break}}k?e&&(k+=e):l=1;a=Math.pow(10,goog.isDef(d)?d:2);return Math.round(h/l*a)/a+k};goog.format.SCALED_NUMERIC_RE_=/^([-]?\d+\.?\d*)([K,M,G,T,P,k,m,u,n]?)[B]?$/;goog.format.NUMERIC_SCALE_PREFIXES_="P T G M K  m u n".split(" ");
goog.format.NUMERIC_SCALES_SI_={"":1,n:1E-9,u:1E-6,m:0.0010,k:1E3,K:1E3,M:1E6,G:1E9,T:1E12,P:1E15};goog.format.NUMERIC_SCALES_BINARY_={"":1,n:Math.pow(1024,-3),u:Math.pow(1024,-2),m:1/1024,k:1024,K:1024,M:Math.pow(1024,2),G:Math.pow(1024,3),T:Math.pow(1024,4),P:Math.pow(1024,5)};goog.format.FIRST_GRAPHEME_EXTEND_=768;
goog.format.isTreatedAsBreakingSpace_=function(a){return a<=goog.format.WbrToken_.SPACE||4096<=a&&(8192<=a&&8198>=a||8200<=a&&8203>=a||5760==a||6158==a||8232==a||8233==a||8287==a||12288==a)};goog.format.isInvisibleFormattingCharacter_=function(a){return 8204<=a&&8207>=a||8234<=a&&8238>=a};
goog.format.insertWordBreaksGeneric_=function(a,c,d){d=d||10;if(d>a.length)return a;for(var e=[],f=0,h=0,k=0,l=0,m=0;m<a.length;m++){var n=l,l=a.charCodeAt(m),n=l>=goog.format.FIRST_GRAPHEME_EXTEND_&&!c(n,l,!0);f>=d&&(!goog.format.isTreatedAsBreakingSpace_(l)&&!n)&&(e.push(a.substring(k,m),goog.format.WORD_BREAK_HTML),k=m,f=0);h?l==goog.format.WbrToken_.GT&&h==goog.format.WbrToken_.LT?h=0:l==goog.format.WbrToken_.SEMI_COLON&&h==goog.format.WbrToken_.AMP&&(h=0,f++):l==goog.format.WbrToken_.LT||l==
goog.format.WbrToken_.AMP?h=l:goog.format.isTreatedAsBreakingSpace_(l)?f=0:goog.format.isInvisibleFormattingCharacter_(l)||f++}e.push(a.substr(k));return e.join("")};goog.format.insertWordBreaks=function(a,c){return goog.format.insertWordBreaksGeneric_(a,goog.i18n.GraphemeBreak.hasGraphemeBreak,c)};goog.format.conservativelyHasGraphemeBreak_=function(a,c){return 1024<=c&&1315>c};
goog.format.insertWordBreaksBasic=function(a,c){return goog.format.insertWordBreaksGeneric_(a,goog.format.conservativelyHasGraphemeBreak_,c)};goog.format.IS_IE8_OR_ABOVE_=goog.userAgent.IE&&goog.userAgent.isVersion(8);goog.format.WORD_BREAK_HTML=goog.userAgent.WEBKIT?"<wbr></wbr>":goog.userAgent.OPERA?"&shy;":goog.format.IS_IE8_OR_ABOVE_?"&#8203;":"<wbr>";goog.format.WbrToken_={LT:60,GT:62,AMP:38,SEMI_COLON:59,SPACE:32};goog.i18n.bidi={};goog.i18n.bidi.FORCE_RTL=!1;goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3));
goog.i18n.bidi.Format={LRE:"\u202a",RLE:"\u202b",PDF:"\u202c",LRM:"\u200e",RLM:"\u200f"};goog.i18n.bidi.Dir={RTL:-1,UNKNOWN:0,LTR:1};goog.i18n.bidi.RIGHT="right";goog.i18n.bidi.LEFT="left";goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT;goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT;
goog.i18n.bidi.toDir=function(a){return"number"==typeof a?0<a?goog.i18n.bidi.Dir.LTR:0>a?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.UNKNOWN:a?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};goog.i18n.bidi.ltrChars_="A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff";goog.i18n.bidi.rtlChars_="\u0591-\u07ff\ufb1d-\ufdff\ufe70-\ufefc";goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g;
goog.i18n.bidi.stripHtmlIfNeeded_=function(a,c){return c?a.replace(goog.i18n.bidi.htmlSkipReg_," "):a};goog.i18n.bidi.rtlCharReg_=RegExp("["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.ltrCharReg_=RegExp("["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.hasAnyRtl=function(a,c){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,c))};goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl;
goog.i18n.bidi.hasAnyLtr=function(a,c){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,c))};goog.i18n.bidi.ltrRe_=RegExp("^["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlRe_=RegExp("^["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.isRtlChar=function(a){return goog.i18n.bidi.rtlRe_.test(a)};goog.i18n.bidi.isLtrChar=function(a){return goog.i18n.bidi.ltrRe_.test(a)};goog.i18n.bidi.isNeutralChar=function(a){return!goog.i18n.bidi.isLtrChar(a)&&!goog.i18n.bidi.isRtlChar(a)};
goog.i18n.bidi.ltrDirCheckRe_=RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlDirCheckRe_=RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.startsWithRtl=function(a,c){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,c))};goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl;
goog.i18n.bidi.startsWithLtr=function(a,c){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,c))};goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr;goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/;goog.i18n.bidi.isNeutralText=function(a,c){a=goog.i18n.bidi.stripHtmlIfNeeded_(a,c);return goog.i18n.bidi.isRequiredLtrRe_.test(a)||!goog.i18n.bidi.hasAnyLtr(a)&&!goog.i18n.bidi.hasAnyRtl(a)};
goog.i18n.bidi.ltrExitDirCheckRe_=RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$");goog.i18n.bidi.rtlExitDirCheckRe_=RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$");goog.i18n.bidi.endsWithLtr=function(a,c){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,c))};goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr;
goog.i18n.bidi.endsWithRtl=function(a,c){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,c))};goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl;goog.i18n.bidi.rtlLocalesRe_=RegExp("^(ar|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)","i");goog.i18n.bidi.isRtlLanguage=function(a){return goog.i18n.bidi.rtlLocalesRe_.test(a)};goog.i18n.bidi.bracketGuardHtmlRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(&lt;.*?(&gt;)+)/g;
goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g;goog.i18n.bidi.guardBracketInHtml=function(a,c){return(void 0===c?goog.i18n.bidi.hasAnyRtl(a):c)?a.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=rtl>$&</span>"):a.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=ltr>$&</span>")};
goog.i18n.bidi.guardBracketInText=function(a,c){var d=(void 0===c?goog.i18n.bidi.hasAnyRtl(a):c)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return a.replace(goog.i18n.bidi.bracketGuardTextRe_,d+"$&"+d)};goog.i18n.bidi.enforceRtlInHtml=function(a){return"<"==a.charAt(0)?a.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+a+"</span>"};goog.i18n.bidi.enforceRtlInText=function(a){return goog.i18n.bidi.Format.RLE+a+goog.i18n.bidi.Format.PDF};
goog.i18n.bidi.enforceLtrInHtml=function(a){return"<"==a.charAt(0)?a.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+a+"</span>"};goog.i18n.bidi.enforceLtrInText=function(a){return goog.i18n.bidi.Format.LRE+a+goog.i18n.bidi.Format.PDF};goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g;goog.i18n.bidi.leftRe_=/left/gi;goog.i18n.bidi.rightRe_=/right/gi;goog.i18n.bidi.tempRe_=/%%%%/g;
goog.i18n.bidi.mirrorCSS=function(a){return a.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)};goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g;goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g;
goog.i18n.bidi.normalizeHebrewQuote=function(a){return a.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\u05f4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\u05f3")};goog.i18n.bidi.wordSeparatorRe_=/\s+/;goog.i18n.bidi.hasNumeralsRe_=/\d/;goog.i18n.bidi.rtlDetectionThreshold_=0.4;
goog.i18n.bidi.estimateDirection=function(a,c){for(var d=0,e=0,f=!1,h=goog.i18n.bidi.stripHtmlIfNeeded_(a,c).split(goog.i18n.bidi.wordSeparatorRe_),k=0;k<h.length;k++){var l=h[k];goog.i18n.bidi.startsWithRtl(l)?(d++,e++):goog.i18n.bidi.isRequiredLtrRe_.test(l)?f=!0:goog.i18n.bidi.hasAnyLtr(l)?e++:goog.i18n.bidi.hasNumeralsRe_.test(l)&&(f=!0)}return 0==e?f?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.UNKNOWN:d/e>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};
goog.i18n.bidi.detectRtlDirectionality=function(a,c){return goog.i18n.bidi.estimateDirection(a,c)==goog.i18n.bidi.Dir.RTL};goog.i18n.bidi.setElementDirAndAlign=function(a,c){if(a&&(c=goog.i18n.bidi.toDir(c))!=goog.i18n.bidi.Dir.UNKNOWN)a.style.textAlign=c==goog.i18n.bidi.Dir.RTL?"right":"left",a.dir=c==goog.i18n.bidi.Dir.RTL?"rtl":"ltr"};goog.i18n.BidiFormatter=function(a,c){this.contextDir_=goog.i18n.bidi.toDir(a);this.alwaysSpan_=!!c};goog.i18n.BidiFormatter.prototype.getContextDir=function(){return this.contextDir_};goog.i18n.BidiFormatter.prototype.getAlwaysSpan=function(){return this.alwaysSpan_};goog.i18n.BidiFormatter.prototype.setContextDir=function(a){this.contextDir_=goog.i18n.bidi.toDir(a)};goog.i18n.BidiFormatter.prototype.setAlwaysSpan=function(a){this.alwaysSpan_=a};
goog.i18n.BidiFormatter.prototype.estimateDirection=goog.i18n.bidi.estimateDirection;goog.i18n.BidiFormatter.prototype.areDirectionalitiesOpposite_=function(a,c){return 0>a*c};
goog.i18n.BidiFormatter.prototype.dirResetIfNeeded_=function(a,c,d,e){return e&&(this.areDirectionalitiesOpposite_(c,this.contextDir_)||this.contextDir_==goog.i18n.bidi.Dir.LTR&&goog.i18n.bidi.endsWithRtl(a,d)||this.contextDir_==goog.i18n.bidi.Dir.RTL&&goog.i18n.bidi.endsWithLtr(a,d))?this.contextDir_==goog.i18n.bidi.Dir.LTR?goog.i18n.bidi.Format.LRM:goog.i18n.bidi.Format.RLM:""};goog.i18n.BidiFormatter.prototype.dirAttrValue=function(a,c){return this.knownDirAttrValue(this.estimateDirection(a,c))};
goog.i18n.BidiFormatter.prototype.knownDirAttrValue=function(a){a==goog.i18n.bidi.Dir.UNKNOWN&&(a=this.contextDir_);return a==goog.i18n.bidi.Dir.RTL?"rtl":"ltr"};goog.i18n.BidiFormatter.prototype.dirAttr=function(a,c){return this.knownDirAttr(this.estimateDirection(a,c))};goog.i18n.BidiFormatter.prototype.knownDirAttr=function(a){return a!=this.contextDir_?a==goog.i18n.bidi.Dir.RTL?'dir="rtl"':a==goog.i18n.bidi.Dir.LTR?'dir="ltr"':"":""};
goog.i18n.BidiFormatter.prototype.spanWrap=function(a,c,d){var e=this.estimateDirection(a,c);return this.spanWrapWithKnownDir(e,a,c,d)};goog.i18n.BidiFormatter.prototype.spanWrapWithKnownDir=function(a,c,d,e){var e=e||void 0==e,f=a!=goog.i18n.bidi.Dir.UNKNOWN&&a!=this.contextDir_;d||(c=goog.string.htmlEscape(c));d=[];this.alwaysSpan_||f?(d.push("<span"),f&&d.push(a==goog.i18n.bidi.Dir.RTL?' dir="rtl"':' dir="ltr"'),d.push(">"+c+"</span>")):d.push(c);d.push(this.dirResetIfNeeded_(c,a,!0,e));return d.join("")};
goog.i18n.BidiFormatter.prototype.unicodeWrap=function(a,c,d){var e=this.estimateDirection(a,c);return this.unicodeWrapWithKnownDir(e,a,c,d)};goog.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir=function(a,c,d,e){var e=e||void 0==e,f=[];a!=goog.i18n.bidi.Dir.UNKNOWN&&a!=this.contextDir_?(f.push(a==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.Format.RLE:goog.i18n.bidi.Format.LRE),f.push(c),f.push(goog.i18n.bidi.Format.PDF)):f.push(c);f.push(this.dirResetIfNeeded_(c,a,d,e));return f.join("")};
goog.i18n.BidiFormatter.prototype.markAfter=function(a,c){return this.dirResetIfNeeded_(a,this.estimateDirection(a,c),c,!0)};goog.i18n.BidiFormatter.prototype.mark=function(){switch(this.contextDir_){case goog.i18n.bidi.Dir.LTR:return goog.i18n.bidi.Format.LRM;case goog.i18n.bidi.Dir.RTL:return goog.i18n.bidi.Format.RLM;default:return""}};goog.i18n.BidiFormatter.prototype.startEdge=function(){return this.contextDir_==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT};
goog.i18n.BidiFormatter.prototype.endEdge=function(){return this.contextDir_==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT};goog.soy={};goog.soy.renderElement=function(a,c,d,e){a.innerHTML=c(d||goog.soy.defaultTemplateData_,void 0,e)};goog.soy.renderAsFragment=function(a,c,d,e){return(e||goog.dom.getDomHelper()).htmlToDocumentFragment(a(c||goog.soy.defaultTemplateData_,void 0,d))};
goog.soy.renderAsElement=function(a,c,d,e){e=(e||goog.dom.getDomHelper()).createElement(goog.dom.TagName.DIV);e.innerHTML=a(c||goog.soy.defaultTemplateData_,void 0,d);return 1==e.childNodes.length&&(a=e.firstChild,a.nodeType==goog.dom.NodeType.ELEMENT)?a:e};goog.soy.defaultTemplateData_={};goog.string.StringBuffer=function(a,c){null!=a&&this.append.apply(this,arguments)};goog.string.StringBuffer.prototype.buffer_="";goog.string.StringBuffer.prototype.set=function(a){this.buffer_=""+a};goog.string.StringBuffer.prototype.append=function(a,c,d){this.buffer_+=a;if(null!=c)for(var e=1;e<arguments.length;e++)this.buffer_+=arguments[e];return this};goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""};goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length};
goog.string.StringBuffer.prototype.toString=function(){return this.buffer_};var soy={esc:{}},soydata={};soy.StringBuilder=goog.string.StringBuffer;soydata.SanitizedContentKind={HTML:0,JS_STR_CHARS:1,URI:2,HTML_ATTRIBUTE:3};soydata.SanitizedContent=function(a){this.content=a};soydata.SanitizedContent.prototype.toString=function(){return this.content};soydata.SanitizedHtml=function(a){soydata.SanitizedContent.call(this,a)};goog.inherits(soydata.SanitizedHtml,soydata.SanitizedContent);soydata.SanitizedHtml.prototype.contentKind=soydata.SanitizedContentKind.HTML;
soydata.SanitizedJsStrChars=function(a){soydata.SanitizedContent.call(this,a)};goog.inherits(soydata.SanitizedJsStrChars,soydata.SanitizedContent);soydata.SanitizedJsStrChars.prototype.contentKind=soydata.SanitizedContentKind.JS_STR_CHARS;soydata.SanitizedUri=function(a){soydata.SanitizedContent.call(this,a)};goog.inherits(soydata.SanitizedUri,soydata.SanitizedContent);soydata.SanitizedUri.prototype.contentKind=soydata.SanitizedContentKind.URI;
soydata.SanitizedHtmlAttribute=function(a){soydata.SanitizedContent.call(this,a)};goog.inherits(soydata.SanitizedHtmlAttribute,soydata.SanitizedContent);soydata.SanitizedHtmlAttribute.prototype.contentKind=soydata.SanitizedContentKind.HTML_ATTRIBUTE;soy.renderElement=goog.soy.renderElement;soy.renderAsFragment=function(a,c,d,e){return goog.soy.renderAsFragment(a,c,e,new goog.dom.DomHelper(d))};soy.renderAsElement=function(a,c,d,e){return goog.soy.renderAsElement(a,c,e,new goog.dom.DomHelper(d))};
soy.$$augmentData=function(a,c){function d(){}d.prototype=a;var e=new d,f;for(f in c)e[f]=c[f];return e};soy.$$getMapKeys=function(a){var c=[],d;for(d in a)c.push(d);return c};soy.$$getDelegateId=function(a){return a};soy.$$DELEGATE_REGISTRY_PRIORITIES_={};soy.$$DELEGATE_REGISTRY_FUNCTIONS_={};
soy.$$registerDelegateFn=function(a,c,d){var e="key_"+a,f=soy.$$DELEGATE_REGISTRY_PRIORITIES_[e];if(void 0===f||c>f)soy.$$DELEGATE_REGISTRY_PRIORITIES_[e]=c,soy.$$DELEGATE_REGISTRY_FUNCTIONS_[e]=d;else if(c==f)throw Error('Encountered two active delegates with same priority (id/name "'+a+'").');};soy.$$getDelegateFn=function(a){return(a=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+a])?a:soy.$$EMPTY_TEMPLATE_FN_};soy.$$EMPTY_TEMPLATE_FN_=function(){return""};
soy.$$escapeHtml=function(a){return"object"===typeof a&&a&&a.contentKind===soydata.SanitizedContentKind.HTML?a.content:soy.esc.$$escapeHtmlHelper(a)};soy.$$escapeHtmlRcdata=function(a){return"object"===typeof a&&a&&a.contentKind===soydata.SanitizedContentKind.HTML?soy.esc.$$normalizeHtmlHelper(a.content):soy.esc.$$escapeHtmlHelper(a)};soy.$$stripHtmlTags=function(a){return String(a).replace(soy.esc.$$HTML_TAG_REGEX_,"")};
soy.$$escapeHtmlAttribute=function(a){return"object"===typeof a&&a&&a.contentKind===soydata.SanitizedContentKind.HTML?soy.esc.$$normalizeHtmlHelper(soy.$$stripHtmlTags(a.content)):soy.esc.$$escapeHtmlHelper(a)};soy.$$escapeHtmlAttributeNospace=function(a){return"object"===typeof a&&a&&a.contentKind===soydata.SanitizedContentKind.HTML?soy.esc.$$normalizeHtmlNospaceHelper(soy.$$stripHtmlTags(a.content)):soy.esc.$$escapeHtmlNospaceHelper(a)};
soy.$$filterHtmlAttribute=function(a){return"object"===typeof a&&a&&a.contentKind===soydata.SanitizedContentKind.HTML_ATTRIBUTE?a.content.replace(/=([^"']*)$/,'="$1"'):soy.esc.$$filterHtmlAttributeHelper(a)};soy.$$filterHtmlElementName=function(a){return soy.esc.$$filterHtmlElementNameHelper(a)};soy.$$escapeJs=function(a){return soy.$$escapeJsString(a)};soy.$$escapeJsString=function(a){return"object"===typeof a&&a.contentKind===soydata.SanitizedContentKind.JS_STR_CHARS?a.content:soy.esc.$$escapeJsStringHelper(a)};
soy.$$escapeJsValue=function(a){if(null==a)return" null ";switch(typeof a){case "boolean":case "number":return" "+a+" ";default:return"'"+soy.esc.$$escapeJsStringHelper(String(a))+"'"}};soy.$$escapeJsRegex=function(a){return soy.esc.$$escapeJsRegexHelper(a)};soy.$$problematicUriMarks_=/['()]/g;soy.$$pctEncode_=function(a){return"%"+a.charCodeAt(0).toString(16)};
soy.$$escapeUri=function(a){if("object"===typeof a&&a.contentKind===soydata.SanitizedContentKind.URI)return soy.$$normalizeUri(a);a=soy.esc.$$escapeUriHelper(a);soy.$$problematicUriMarks_.lastIndex=0;return soy.$$problematicUriMarks_.test(a)?a.replace(soy.$$problematicUriMarks_,soy.$$pctEncode_):a};soy.$$normalizeUri=function(a){return soy.esc.$$normalizeUriHelper(a)};soy.$$filterNormalizeUri=function(a){return soy.esc.$$filterNormalizeUriHelper(a)};soy.$$escapeCssString=function(a){return soy.esc.$$escapeCssStringHelper(a)};
soy.$$filterCssValue=function(a){return null==a?"":soy.esc.$$filterCssValueHelper(a)};soy.$$changeNewlineToBr=function(a){return goog.string.newLineToBr(String(a),!1)};soy.$$insertWordBreaks=function(a,c){return goog.format.insertWordBreaks(String(a),c)};soy.$$truncate=function(a,c,d){a=String(a);if(a.length<=c)return a;d&&(3<c?c-=3:d=!1);soy.$$isHighSurrogate_(a.charAt(c-1))&&soy.$$isLowSurrogate_(a.charAt(c))&&(c-=1);a=a.substring(0,c);d&&(a+="...");return a};
soy.$$isHighSurrogate_=function(a){return 55296<=a&&56319>=a};soy.$$isLowSurrogate_=function(a){return 56320<=a&&57343>=a};soy.$$bidiFormatterCache_={};soy.$$getBidiFormatterInstance_=function(a){return soy.$$bidiFormatterCache_[a]||(soy.$$bidiFormatterCache_[a]=new goog.i18n.BidiFormatter(a))};soy.$$bidiTextDir=function(a,c){return!a?0:goog.i18n.bidi.detectRtlDirectionality(a,c)?-1:1};
soy.$$bidiDirAttr=function(a,c,d){return new soydata.SanitizedHtmlAttribute(soy.$$getBidiFormatterInstance_(a).dirAttr(c,d))};soy.$$bidiMarkAfter=function(a,c,d){return soy.$$getBidiFormatterInstance_(a).markAfter(c,d)};soy.$$bidiSpanWrap=function(a,c){return soy.$$getBidiFormatterInstance_(a).spanWrap(c+"",!0)};soy.$$bidiUnicodeWrap=function(a,c){return soy.$$getBidiFormatterInstance_(a).unicodeWrap(c+"",!0)};soy.esc.$$escapeUriHelper=function(a){return goog.string.urlEncode(String(a))};
soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};
soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_=function(a){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_[a]};
soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_={"\x00":"\\x00","\b":"\\x08","\t":"\\t","\n":"\\n","\x0B":"\\x0b","\f":"\\f","\r":"\\r",'"':"\\x22","&":"\\x26","'":"\\x27","/":"\\/","<":"\\x3c","=":"\\x3d",">":"\\x3e","\\":"\\\\","\u0085":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029",$:"\\x24","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e",":":"\\x3a","?":"\\x3f","[":"\\x5b","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d"};
soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_=function(a){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_[a]};
soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_={"\x00":"\\0 ","\b":"\\8 ","\t":"\\9 ","\n":"\\a ","\x0B":"\\b ","\f":"\\c ","\r":"\\d ",'"':"\\22 ","&":"\\26 ","'":"\\27 ","(":"\\28 ",")":"\\29 ","*":"\\2a ","/":"\\2f ",":":"\\3a ",";":"\\3b ","<":"\\3c ","=":"\\3d ",">":"\\3e ","@":"\\40 ","\\":"\\5c ","{":"\\7b ","}":"\\7d ","\u0085":"\\85 ","\u00a0":"\\a0 ","\u2028":"\\2028 ","\u2029":"\\2029 "};soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_=function(a){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_[a]};
soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_={"\x00":"%00","\u0001":"%01","\u0002":"%02","\u0003":"%03","\u0004":"%04","\u0005":"%05","\u0006":"%06","\u0007":"%07","\b":"%08","\t":"%09","\n":"%0A","\x0B":"%0B","\f":"%0C","\r":"%0D","\u000e":"%0E","\u000f":"%0F","\u0010":"%10","\u0011":"%11","\u0012":"%12","\u0013":"%13","\u0014":"%14","\u0015":"%15","\u0016":"%16","\u0017":"%17","\u0018":"%18","\u0019":"%19","\u001a":"%1A","\u001b":"%1B","\u001c":"%1C","\u001d":"%1D","\u001e":"%1E",
"\u001f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\u007f":"%7F","\u0085":"%C2%85","\u00a0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D",
"\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"};soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=function(a){return soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_[a]};soy.esc.$$MATCHER_FOR_ESCAPE_HTML_=/[\x00\x22\x26\x27\x3c\x3e]/g;soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_=/[\x00\x22\x27\x3c\x3e]/g;soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x26\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g;
soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_=/[\x00\x08-\x0d\x22\x24\x26-\/\x3a\x3c-\x3f\x5b-\x5e\x7b-\x7d\x85\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_=/[\x00\x08-\x0d\x22\x26-\x2a\/\x3a-\x3e@\\\x7b\x7d\x85\xa0\u2028\u2029]/g;
soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g;soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i;soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_=/^(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i;
soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTE_=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[a-z0-9_$:-]*)$/i;soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i;soy.esc.$$escapeHtmlHelper=function(a){return String(a).replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};
soy.esc.$$normalizeHtmlHelper=function(a){return String(a).replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};soy.esc.$$escapeHtmlNospaceHelper=function(a){return String(a).replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};
soy.esc.$$normalizeHtmlNospaceHelper=function(a){return String(a).replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};soy.esc.$$escapeJsStringHelper=function(a){return String(a).replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)};
soy.esc.$$escapeJsRegexHelper=function(a){return String(a).replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)};soy.esc.$$escapeCssStringHelper=function(a){return String(a).replace(soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_)};
soy.esc.$$filterCssValueHelper=function(a){a=String(a);return!soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_.test(a)?(goog.asserts.fail("Bad value `%s` for |filterCssValue",[a]),"zSoyz"):a};soy.esc.$$normalizeUriHelper=function(a){return String(a).replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)};
soy.esc.$$filterNormalizeUriHelper=function(a){a=String(a);return!soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_.test(a)?(goog.asserts.fail("Bad value `%s` for |filterNormalizeUri",[a]),"zSoyz"):a.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)};
soy.esc.$$filterHtmlAttributeHelper=function(a){a=String(a);return!soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTE_.test(a)?(goog.asserts.fail("Bad value `%s` for |filterHtmlAttribute",[a]),"zSoyz"):a};soy.esc.$$filterHtmlElementNameHelper=function(a){a=String(a);return!soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_.test(a)?(goog.asserts.fail("Bad value `%s` for |filterHtmlElementName",[a]),"zSoyz"):a};soy.esc.$$HTML_TAG_REGEX_=/<(?:!|\/?[a-zA-Z])(?:[^>'"]|"[^"]*"|'[^']*')*>/g;cryptagram.templates={};cryptagram.templates.demo=function(){return'<div id="demo"><div id="menu"><a href="#encrypt" id="encrypt_link">Encrypt</a> | <a href="#decrypt"  id="decrypt_link">Decrypt</a> | <a href="#demo"  id="demo_link">Demo</a></div><div id="main"></div></div>'};cryptagram.templates.decryptDemo=function(a){return'<div class="h"><input type="button" value="Decrypt" id="button'+soy.$$escapeHtml(a.id)+'"><br><img src="'+soy.$$escapeHtml(a.image)+'" id="image'+soy.$$escapeHtml(a.id)+'"></div>'};
cryptagram.templates.encrypt=function(){return'<a href="http://cryptagr.am" class="a"><img src="images/block.png">Cryptagram </a><h1>Photo Encoder</h1><div id="drop_zone"><div id="floater"><b>Drag Photos Here</b><br><br><span id="or">or<input type="file" id="file_selector" name="file_selector" multiple/></span></div></div>'};cryptagram.templates.decrypt=function(){return'<a href="http://cryptagr.am" class="a"><img src="images/block.png">Cryptagram </a><h1>Photo Decoder</h1><div id="drop_zone"><div id="floater"><b>Drop Files Here</b><br><br><span id="or">or<input type="file" id="file_selector" name="file_selector" multiple/></span></div></div>'};
cryptagram.templates.encodeDialog=function(){return'<div class="m"><div id="left">Configuration<p>Password<br><input type=text id=password size=20></p><p>Maximum Output Size<br><select id="maxSize"><option value="2048">2048x2048</option><option value="1024" selected>1024x1024</option><option value="720">720x720</option></select></p><p>Embedded JPEG Quality<br><select id="quality"><option value=".9" label="High">High</option><option value=".7" label="Medium" selected>Medium</option><option value=".5" label="Low">Low</option></select><br><span id=warning></span></p></div><div id="right"><div id="status">Images</div><div id="thumbs"></div></div></div>'};
cryptagram.templates.decryptDialog=function(){return'<div class="m"><div id="medium"></div><p>Password<br><input type=text id=password size=20></p></div>'};cryptagram.templates.consentDialog=function(){return'<div id=terms>Cryptagram is <a href="http://github.com/prglab/cryptogram" target=_new>open-source</a> research-ware, written by <a href="http://cs.nyu.edu/~spiro" target=_new>Ian</a> & <a href="http://cs.nyu.edu/~tierney" target=_new>Matt</a>. We are asking you to participate in an academic user-study to help us improve the software and better understand image privacy. We will protect your privacy by collecting only non-identifying data and only with your consent. If you do not consent, you can still use the software. Thank you!<iframe src="terms.html"></iframe></div>'};
cryptagram.templates.progress=function(){return'<div class="m"><div id="status">Starting Encoder</div><div id="preview"></div></div>'};
cryptagram.templates.downloadDialog=function(a){var c='<div class=f id="downloadify'+soy.$$escapeHtml(a.id)+'"></div>';if(1==a.images.length)c+=soy.$$escapeHtml(a.images[0]);else{for(var c=c+("<div class=e><div class=d>Saved <b>"+soy.$$escapeHtml(a.images.length)+"</b> images in ZIP file.<br><textarea>"),d=a.images,e=d.length,f=0;f<e;f++)c+=soy.$$escapeHtml(d[f])+"\n";c+="</textarea></div>"}if(0<a.skipped.length){c+="<div class=d>Skipped <b>"+soy.$$escapeHtml(a.skipped.length)+"</b> images.<br><textarea>";
a=a.skipped;d=a.length;for(e=0;e<d;e++)c+=soy.$$escapeHtml(a[e])+"\n";c+="</textarea></div>"}return c+"</div>"};cryptagram.templates.experiment={};cryptagram.templates.experiment.experiment=function(){return'<textarea id="results" rows=20 cols=100></textarea><div id="files"><input type="file" id="file_selector" name="file_selector" multiple/></span><hr><div id="original_image" class="images"><img src="images/secret.jpg" class="frame" id="sampleImage"></div><div id="encoded_image" class="images"></div><div id="decoded_image" class="images"></div></div>'};
